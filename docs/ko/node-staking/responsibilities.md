# 노드 운영자의 책임

## Ethereum 스테이킹의 작동 방식

상기시켜 드리자면, 지분 증명에서의 스테이킹은 **validator**를 통해 수행됩니다.
Validator는 기본적으로 실행 레이어에서 32 ETH가 예치된 단일 Beacon Chain 주소입니다.
Validator는 Beacon Chain의 일관성과 보안을 유지할 책임이 있습니다.
그들은 거래와 새로운 블록 제안을 듣고, 제안된 블록이 합법적이고 유효한 거래를 포함하고 있음을 **증명**하여 이를 수행합니다. 이는 뒤에서 일부 계산과 검증을 수행함으로써 이루어집니다.
때때로 그들은 직접 새로운 블록을 제안하기도 합니다.

Validator는 **무작위 일정**에 따라 증명 및 블록 제안이 할당됩니다.
이것은 모두가 지속적으로 경쟁하며 다른 모든 사람보다 먼저 다음 블록을 생성하려고 시도하는 기존의 작업 증명 시스템과 매우 다릅니다.
이는 작업 증명에서 채굴자가 다음 블록을 찾지 못하면 블록 보상을 받을 수 없는 것과 달리, 지분 증명 validator는 의무를 수행하는 한 느리고 꾸준한 수입을 보장받는다는 것을 의미합니다.
Validator가 오프라인 상태이고 증명 또는 블록 제안을 놓치면 **약간의 페널티를 받습니다**.
페널티는 상당히 작습니다; 경험 법칙으로, validator가 X시간 동안 오프라인 상태인 경우, 다시 온라인 상태가 되어 동일한 X시간 동안 증명하면 손실된 모든 ETH를 회복할 것입니다.

### 보상

Validator는 증명, 블록 제안, 동기화 위원회(드물게), 슬래싱 보상(극히 드물게)으로부터 합의 레이어 보상을 얻습니다. 또한 우선순위 수수료 및 MEV로부터 실행 레이어 보상을 얻습니다.

2024년 10월 기준으로, 전체 APR은 약 3.5%이며, 합의 레이어 APR이 2.8%, 실행 레이어 APR이 0.7%입니다. 이 정보를 찾을 수 있는 한 곳은 [rated explorer](https://explorer.rated.network/network?network=mainnet&timeWindow=30d&rewardsMetric=average&geoDistType=all&hostDistType=all&soloProDist=stake)입니다.

### 페널티

Validator는 오프라인 상태이고 할당된 의무를 수행하지 못하면 소량의 ETH에 대한 페널티를 받습니다.
이것을 **leaking**이라고 합니다.
Validator가 Beacon chain의 핵심 규칙 중 하나를 위반하고 네트워크를 공격하는 것처럼 보이면 **슬래시**될 수 있습니다.
슬래싱은 귀하의 허가 없이 validator를 강제로 종료하는 것이며, validator의 ETH 잔액 중 일부를 제거하는 상대적으로 큰 벌금을 동반합니다.

현실적으로 슬래싱을 유발할 수 있는 유일한 조건은 두 노드에서 동시에 validator의 키를 실행하는 경우입니다(예: 백업 노드가 주 노드가 여전히 실행 중인 동안 실수로 켜지는 장애 조치/이중화 설정).
이런 일이 발생하지 않도록 하면 **슬래시되지 않습니다**.
유지 관리를 위해 오프라인 상태인 것으로 인해 슬래싱이 _발생할 수 없습니다_.

다음은 validator에게 발생할 수 있는 페널티를 보여주는 표입니다:

| 유형                  | 레이어     | 양                                                                            |
| --------------------- | --------- | --------------------------------------------------------------------------------- |
| 놓친 증명    | 합의 | -0.000011 ETH\* 증명당 (일반 증명 보상 값의 -9/10)  |
| 놓친 제안       | 합의 | 0                                                                                 |
| 놓친 동기화 위원회 | 합의 | -0.00047 ETH\* 에폭당 (전체 동기화 위원회 동안 오프라인인 경우 총 -0.1 ETH) |
| 슬래싱              | 합의 | 최소 잔액의 1/32, 극단적인 상황에서는 전체 잔액까지 |

\*_네트워크의 총 validator 수에 따라 다릅니다.
435,000개의 활성 validator에 대해 근사치입니다._

::: tip 팁
경험 법칙으로, X시간 동안 오프라인 상태이고(동기화 위원회에 있지 않은 경우) 다시 온라인 상태가 되어 증명하면 X시간 후에 누출된 모든 ETH를 회복할 것입니다.
:::

## Rocket Pool 노드의 작동 방식

새로운 validator를 생성하기 위해 32 ETH를 예치해야 하는 단독 스테이커와 달리, Rocket Pool 노드는 validator당 8 ETH만 예치하면 됩니다("bond ETH"라고 함).
이것은 staking pool의 24 ETH("borrowed ETH"라고 하며, rETH와 교환하여 liquid staker 예치금에서 나온 것)와 결합되어 새로운 validator를 생성합니다.
이 새로운 validator는 **minipool**에 속합니다.

Beacon chain에게 minipool은 일반 validator와 정확히 동일하게 보입니다.
동일한 책임, 따라야 할 동일한 규칙, 동일한 보상 등을 가지고 있습니다.
유일한 차이점은 minipool이 실행 레이어에서 생성된 방식과 노드 운영자가 자발적으로 minipool을 종료하기로 결정할 때 출금이 작동하는 방식입니다.
모든 생성, 출금 및 보상 위임은 Ethereum 체인의 Rocket Pool **스마트 컨트랙트**에 의해 처리됩니다.
이것은 완전히 탈중앙화되어 있습니다.

Rocket Pool **노드**는 Rocket Pool의 스마트 컨트랙트에 등록된 Ethereum 지갑이 있는 단일 컴퓨터입니다.
노드는 감당할 수 있는 만큼 많은 minipool을 생성할 수 있으며, 모두 동일한 머신에서 행복하게 함께 실행됩니다.
**단일 Rocket Pool 노드는 많은 minipool을 실행할 수 있습니다.**
각 minipool은 전체 시스템 성능에 무시할 수 있는 영향을 미칩니다; 일부 사람들은 단일 노드에서 수백 개를 실행할 수 있었습니다.

minipool의 선불 비용은 8 ETH입니다. 또한, 노드 운영자는 추가 보상을 받고 프로토콜 DAO 내에서 투표권을 얻기 위해 노드에 RPL을 스테이킹할 수 있습니다.

## Rocket Pool 노드 운영자

**노드 운영자**는 Rocket Pool의 핵심이자 영혼입니다.
그들은 Rocket Pool 노드를 실행하는 개인입니다.

### 책임

그들은 staking pool의 ETH를 사용하여 minipool을 실행함으로써 작동시키며, 이는 Rocket Pool 프로토콜에 대한 스테이킹 보상을 얻습니다(따라서 rETH의 가치를 증가시킵니다).
그들의 일은 간단하지만 매우 중요합니다: _최고 품질로 validator를 실행하고 스테이킹 보상을 극대화합니다_.

노드 운영자는 다음에 대한 책임이 있습니다:

- 컴퓨터(물리적 또는 가상) 설정
- 해당하는 경우 홈 네트워크를 포함하여 올바르게 구성
- Rocket Pool을 설치하고 검증을 수행하기 위한 minipool 설정
- 외부 및 내부 위협으로부터 보호
- validator의 수명 동안 유지 관리

큰 책임이며, 간단한 설정 후 잊어버리는 종류의 일이 아닙니다; 스테이킹하는 동안 노드를 돌보아야 합니다.
그러나 큰 책임에는 큰 보상이 따릅니다.

### 보상

Rocket Pool 노드를 실행하는 주요 이점은 다음과 같습니다:

- 각 validator의 ETH 보상 중 귀하의 몫과 수수료를 얻습니다.
  - 스테이킹된 RPL이 없는 8 ETH 본드 minipool의 경우, 단독 스테이킹보다 30% 더 많이 얻습니다 (`(8+24*.1)/8 = 1.3`)
  - RPL 스테이킹은 향상된 수수료를 제공합니다. 총 borrowed ETH의 10% 이상의 가치로 평가된 RPL 스테이크를 보유한 경우, ETH 보상은 단독 스테이킹보다 42% 더 많이 얻습니다 (`(8+24*.14)/8 = 1.42`)
  - **참고:** smoothing pool에 참여하지 않으면 대신 단독 스테이킹보다 15% 더 많이 얻습니다 (`(8+24*.05)/8 = 1.15`) -- 2024-10-28 이후에 만들어진 minipool을 보유한 사용자는 smoothing pool에 옵트인하는 것이 좋습니다.
- 스테이킹한 RPL에 대한 발행 보상도 얻습니다.
  - 기간(28일마다) 종료 시 RPL의 스냅샷이 있습니다.
  - 총 borrowed ETH 가치의 **최대 15%**까지 RPL에 대한 최대 수익률을 얻을 수 있습니다.
    - 그 이상의 RPL에 대해서도 수익률을 얻지만 감소하는 수준입니다.
  - 스테이킹된 RPL의 제곱근을 기반으로 투표권을 얻습니다.

### 제한 사항

위의 보상과 함께 제공되는 몇 가지 제한 사항이 있습니다:

- 노드가 제대로 수행되지 않고 minipool을 종료하기로 결정할 때 실제로 ETH를 잃는 경우, 손실된 모든 ETH는 귀하의 몫에서 나옵니다.
  - 예를 들어: 30 ETH의 잔액으로 종료하면 minipool이 초기 32 ETH 예치금에서 2 ETH를 잃은 것입니다. 귀하는 6 ETH를 받게 되고 24 ETH는 staking pool로 반환됩니다.
- 스테이킹된 RPL은 유동성이 떨어집니다
  - 본드된 ETH의 60%의 가치를 초과하는 RPL 스테이크만 출금할 수 있습니다.
  - 지난 28일 동안 스테이킹한 경우 RPL을 출금할 수 없습니다

### 할 수 있습니다

명령줄이나 컴퓨터 유지 관리를 사용하는 것이 상당히 새롭다면 이것이 무섭게 느껴질 수 있습니다.
다행히도 Rocket Pool의 가장 핵심적인 원칙 중 하나는 _탈중앙화_입니다 - 누구나 어디서나 결단력과 지식이 있으면 노드를 실행할 수 있다는 사실입니다.
결단력은 도와드릴 수 없지만 지식은 _도와드릴 수 있습니다_.
이 섹션은 훌륭한 Rocket Pool 노드를 실행하는 방법을 이해하는 데 도움이 되는 가이드, 연습 및 정보로 가득 차 있습니다.
