import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# 노드를 대신하여 ETH Stake

RPIP-32는 계정이 프로토콜에 등록된 Rocket Pool 노드를 [대신하여 ETH를 stake](https://rpips.rocketpool.net/RPIPs/RPIP-32)할 수 있도록 허용합니다. 이는 Node Operator가 ETH를 직접 제공하지 않는 다양한 상황을 지원합니다:

- Node Operator의 보안 강화, 노드로 자금을 미리 전송할 필요를 없애고 하드웨어 월렛에서 직접 stake할 수 있습니다.
- 신뢰할 수 있는 관리자가 자금의 관리권을 관리하는 Staking as a Service 제공업체.
- 스마트 계약이 자금의 관리권을 관리하는 프로토콜 통합.
- 재무가 자금의 관리권을 관리하는 DAO 또는 조직.

이 기능의 주요 목표는 단일 입금자 시나리오를 용이하게 하는 것이지만 여러 독립 입금자도 그 위에 스마트 계약을 만들어 이 기능을 활용할 수 있다는 점은 주목할 가치가 있습니다. Rocket Pool은 또한 이전 Atlas 릴리스에서 노드를 [대신하여 RPL을 stake](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf)할 수 있는 기능을 도입했습니다.

### 전제 조건

자금을 제공하려는 노드의 [primary withdrawal address](../../node-staking/prepare-node#setting-your-primary-withdrawal-address)를 제대로 구성했는지 확인하십시오. houston 이후 출금 주소가 작동하는 방식에 대한 가이드는 위 링크를 따르십시오.

::: tip 참고
이 단계를 건너뛰지 마십시오! 모든 ETH bond/보상은 primary withdrawal address로 출금됩니다. 즉, 노드에 ETH를 공급하는 주소를 primary withdrawal address로 사용해야 합니다! 노드의 primary withdrawal address가 관리권을 가진 월렛으로 설정되어 있는지 확인하십시오.
:::

Hoodi Testnet 및 Mainnet의 프로세스가 약간 다르므로 아래 탭에서 관심 있는 네트워크를 선택하십시오.

<div className="p-3">
  <Tabs>
    <Tab label="Hoodi Testnet에서 준비">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">경고</p>
        테스트 네트워크에서 staking을 연습할 때 이 프로세스 중에 **실제 ETH를 제공할 필요가 없습니다**.
        대신 사용할 **가짜 테스트 ETH**가 제공됩니다.

        **실제 ETH를 mainnet에서 testnet으로 이동하려고 시도하지 마십시오. 영구적으로 잃게 됩니다!**
      </p>

      아직 설치하지 않았다면 [MetaMask](https://metamask.io/)를 설치하여 시작하십시오.
      해당 사이트의 지침에 따라 확장 프로그램을 설치하고 계정을 만들고 로그인하십시오.

      다음으로 브라우저 도구 모음의 아이콘을 사용하여 MetaMask 패널을 엽니다.

      Hoodi Testnet을 MetaMask에 추가해야 합니다.

      왼쪽 상단 드롭다운을 클릭하고 "Add Network" 버튼을 클릭하십시오.

      네트워크 목록이 표시되지만 Hoodi는 이 목록에 없으므로 "Add a network manually" 버튼을 클릭하십시오.

      다음 세부 정보를 입력하십시오:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      그런 다음 Save를 클릭하십시오. 이제 왼쪽 상단 드롭다운에 Hoodi 네트워크가 표시되어야 합니다.

      Metamask 확장 프로그램의 왼쪽 상단에 있는 **network dropdown**을 클릭하고 **Hoodi Test Network**를 선택하십시오:

      <img src={mmNetwork} width="100%" height="auto"/>

      이제 MetaMask에 월렛 주소가 있으므로 일부 테스트 ETH로 채워야 합니다.
      Hoodi에서 일부 테스트 ETH를 얻기 위해 testnet faucet을 사용하는 방법에 대한 빠른 가이드는 [테스트 네트워크로 연습](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) 페이지로 이동하십시오.

      테스트할 Hoodi ETH가 있으면 [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node)로 이동하십시오.

      web3 브라우저가 필요하거나 현재 네트워크 ID가 지원되지 않는다는 알림이 표시되면 계속하기 전에 이전 단계를 올바르게 완료했는지 확인하십시오.
    </Tab>
    <Tab label="Ethereum Mainnet에서 준비">
      아직 설치하지 않았다면 [MetaMask](https://metamask.io/)를 설치하여 시작하십시오.

      해당 사이트의 지침에 따라 확장 프로그램을 설치하고 계정을 만들고 로그인하십시오.

      다음으로 브라우저 도구 모음의 아이콘을 사용하여 MetaMask 패널을 엽니다.

      상단의 도구 모음에서 **network dropdown**을 클릭하고 **Ethereum Mainnet**이 선택되어 있는지 확인하십시오:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      이제 MetaMask에 월렛 주소가 있으므로 일부 ETH를 전송해야 합니다.

      기존 월렛에서 제공하거나 거래소에서 ETH를 구매해야 합니다.

      stake할 ETH가 있으면 [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node)로 이동하십시오.

      web3 브라우저가 필요하거나 현재 네트워크 ID가 지원되지 않는다는 알림이 표시되면 계속하기 전에 이전 단계를 올바르게 완료했는지 확인하십시오.
    </Tab>

  </Tabs>
</div>

사이트에 도착하면 **connect wallet** 버튼을 클릭하십시오. 서비스 약관 및 개인 정보 보호 정책을 읽고 수락하십시오. 그러면 연결할 수 있는 다양한 방법이 활성화됩니다. 그런 다음 **connect metamask**를 클릭하십시오.

MetaMask는 웹사이트에 연결할 계정을 선택하라는 메시지를 표시합니다.
하나를 선택하고 몇 가지 권한을 확인하십시오. 창의 오른쪽 상단에 있는 월렛 아이콘을 클릭하여 잔액 개요를 볼 수 있습니다.

여기에서 ETH를 대신 입금하려는 노드의 주소를 입력하려고 합니다. 페이지는 다음과 같아야 합니다:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

이 상자에 원하는 주소를 붙여넣고 find를 클릭하십시오. 이 예에서는 `0xd3e317806456102d19db283b4c2201f0ef41a296`를 사용합니다

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

첫 번째 상자에 노드를 대신하여 입금하려는 ETH 금액을 입력하십시오. 두 번째 상자는 ETH를 대신 입금할 주소를 나타냅니다. 올바른 주소와 입금을 입력했는지 확인하십시오. 만족하면 Deposit을 클릭하면 MetaMask가 트랜잭션을 확인하도록 요청하는 창을 표시합니다.

확인하면 트랜잭션이 시작됩니다.
블록에 포함되고 체인에 추가되면 delegate가 smartnode에서 `rocketpool node status` 명령을 사용하여 새 잔액을 볼 수 있습니다. 이 잔액은 Rocket Pool staking 사이트를 통해서도 볼 수 있습니다.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning 참고
Node Operator가 귀하의 ETH를 minipool에 입금하면 그들의 출금 자격 증명에 액세스하지 않고는 minipool을 종료할 수 없으므로 이 점을 염두에 두십시오! minipool에서 사용되지 않는 경우 Rocket Pool staking 사이트를 사용하여 노드를 대신하여 stake한 ETH를 출금할 수 있습니다.
:::

완료되었습니다!
이제 Rocket Pool로 staking하고 있습니다.

# 노드를 대신하여 ETH Unstake

<div className="p-3">
  <Tabs>
    <Tab label="Hoodi Testnet에서 준비">
      노드를 대신하여 stake한 ETH를 출금할 준비가 되면 [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth)로 이동하십시오. 노드의 [primary withdrawal address](../../node-staking/prepare-node#setting-your-primary-withdrawal-address)로 로그인한 후 익숙한 메뉴가 표시되어야 합니다. 출금하려는 노드 주소를 입력하라는 메시지가 표시됩니다:
    </Tab>
    <Tab label="Ethereum Mainnet에서 준비">
      노드를 대신하여 stake한 ETH를 출금할 준비가 되면 [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth)로 이동하십시오. 노드의 [primary withdrawal address](../../node-staking/prepare-node#setting-your-primary-withdrawal-address)로 로그인한 후 익숙한 메뉴가 표시되어야 합니다. 출금하려는 노드 주소를 입력하라는 메시지가 표시됩니다:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

주소를 입력한 후 "Find"를 클릭하면 해당 노드를 대신하여 stake한 ETH를 출금할 수 있는 다음 메뉴로 이동합니다.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

오른쪽 상단에서 출금 가능한 ETH 금액을 확인할 수 있습니다. 원하는 수량을 입력하고 노드 주소를 확인한 후 주황색 **Withdraw ETH** 버튼을 클릭하여 네트워크에 트랜잭션을 보내십시오.

트랜잭션이 확인되면 계정에 적절한 잔액이 표시됩니다!

노드를 대신하여 ETH를 staking하는 것에 대한 모든 것입니다! 프로세스가 빠르고 쉬웠기를 바랍니다.

[우리의 Discord 서버](https://discord.gg/G46XgK264a)에 들러 생각을 알려주고 프로젝트가 발전하는 대로 탭을 유지하십시오.
