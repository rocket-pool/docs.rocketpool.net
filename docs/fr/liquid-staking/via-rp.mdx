import { Tab, Tabs } from "@rspress/core/theme";
import mm_add_hoodi from "./images/mm_add_hoodi.png";
import mm_network from "./images/mm_network.png";
import mm_network_main from "./images/mm_network_main.png";
import mm_add_token from "./images/mm_add_token.png";
import rp_test_site from "./images/rp_test_site.png";

# Staking Directement via Rocket Pool

## Vue d'ensemble

L'interface de staking de Rocket Pool offre maintenant deux routes distinctes pour convertir entre l'ETH et le rETH :

1. **Route Protocole** - Interaction directe avec les contrats intelligents Rocket Pool
2. **Route CoW Swap** - Agrégateur d'échange décentralisé avec protection MEV (Réseau principal uniquement)

L'interface recommande automatiquement la meilleure route en fonction des conditions actuelles du marché et de la disponibilité de la liquidité.

<video controls="controls" src="https://cdn-rocketpool.s3.us-west-2.amazonaws.com/stake_options.mp4" />

## Options de Routage Expliquées

### Route Protocole

**Comment cela fonctionne :** Interaction directe avec le pool de dépôt de Rocket Pool et les contrats intelligents en chaîne.

**Avantages :**

- Exécution instantanée
- Taux de change prévisible basé sur le ratio rETH/ETH actuel
- Aucun token intermédiaire requis (conversion directe ETH ↔ rETH)
- Complexité moindre
- Obtenez toujours exactement autant de rETH que votre ETH vaut (moins des frais de dépôt de 0,05 %)
- Pas de glissement, pas de problèmes de liquidité, pas de sandwich ou de front-running

**Limitations :**

- Soumis aux limites du pool de dépôt lors du staking
- Soumis à la disponibilité de la liquidité lors du unstaking
- Nécessite des frais de gaz pour la transaction
- Les frais de gaz peuvent être coûteux pour de petits montants

### Route CoW Swap (Réseau Principal Uniquement)

**Comment cela fonctionne :** Utilise le système d'enchères par lots du protocole CoW pour trouver le meilleur prix sur plusieurs DEX.

**Avantages :**

- Protection MEV (Valeur Extractible Maximale) contre les attaques sandwich
- Exécution sans gaz - vous signez uniquement l'ordre
- Fournit souvent de meilleurs taux grâce à l'agrégation DEX
- Toujours disponible indépendamment des limites du pool de dépôt du protocole
- Pas de frais de gaz pour l'échange lui-même

**Limitations :**

- Nécessite des étapes d'emballage/déballage WETH (gérées automatiquement)
- Les ordres peuvent prendre 2 à 5 minutes pour s'exécuter
- Les ordres peuvent expirer s'ils ne sont pas appariés dans le délai imparti
- Nécessite des approbations de token ponctuelles

## Concepts Clés

### WETH (Wrapped ETH)

Lors de l'utilisation de CoW Swap, l'interface gère automatiquement les conversions WETH :

- WETH est un token ERC-20 représentant l'ETH dans un format standardisé
- 1 WETH est toujours égal à 1 ETH
- L'interface emballe l'ETH en WETH avant de trader et déballe après
- Vous ne payez le gaz que pour l'emballage initial (une seule fois)

### Tolérance au Glissement

Pour les ordres CoW Swap :

- Par défaut : 0,5 %
- Ajustable selon votre préférence
- Glissement plus élevé = plus susceptible de s'exécuter
- Glissement plus faible = meilleure protection du prix

### Expiration de l'Ordre

Les ordres CoW Swap ont une limite de temps :

- Par défaut : 30 minutes
- Ajustable de 5 minutes à 24 heures
- Les ordres s'annulent automatiquement s'ils ne sont pas exécutés

### Indicateur de Meilleur Taux

L'interface montre quelle route offre la meilleure valeur :

- Badge vert avec "X% meilleur" indique la route optimale
- Présélectionne automatiquement la meilleure option
- Se met à jour en temps réel à mesure que les conditions du marché changent

### Liquidité du Protocole

Lors du unstaking de rETH :

- La route protocole nécessite de l'ETH disponible dans le pool de dépôt
- Affiche "Liquidité insuffisante" lorsque le pool est vide
- Route automatiquement via CoW Swap lorsque la liquidité du protocole n'est pas disponible

## Pour Commencer

<div className="p-3">
  <Tabs>
    <Tab label="Préparation sur le Réseau de Test Hoodi">
      <p className="rspress-directive danger">
        <p className="rspress-directive-title">AVERTISSEMENT</p>
        Lors de la pratique du staking sur le réseau de test, vous **n'avez pas besoin de fournir votre véritable ETH** pendant ce processus.
        On vous donnera **de faux ETH de test** à utiliser à la place.

        **N'essayez pas de déplacer votre véritable ETH du réseau principal vers le réseau de test ou vous le perdrez définitivement !**
      </p>

      Commencez par installer [MetaMask](https://metamask.io/) si vous ne l'avez pas déjà fait.
      Suivez les instructions sur leur site pour installer l'extension, créer un compte et vous connecter.

      Ensuite, ouvrez le panneau MetaMask en utilisant son icône dans la barre d'outils de votre navigateur.

      Vous devrez ajouter le réseau de test Hoodi à MetaMask.

      Cliquez sur le menu déroulant en haut à gauche et cliquez sur le bouton "Add Network".

      Vous verrez une liste de réseaux, Hoodi n'est pas dans cette liste alors cliquez sur le bouton "Add a network manually".

      Remplissez les détails suivants :

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Puis cliquez sur Save. Vous devriez maintenant voir le réseau Hoodi dans le menu déroulant en haut à gauche.

      Cliquez sur le **menu déroulant réseau** en haut à gauche de l'extension Metamask et sélectionnez **Hoodi Test Network**.

      Enfin, ajoutez le token rETH à MetaMask afin que vous puissiez voir votre solde et y accéder pour le trading.
      Cliquez sur l'onglet **Assets**, puis cliquez sur **Add Token** :

      <img src={mm_add_token} width="100%" height="auto" />

      Assurez-vous que **Custom Token** est sélectionné dans cette boîte de dialogue.
      Dans la case **Token Contract Address**, mettez la valeur suivante :

      ```
      0x7322c24752f79c05ffd1e2a6fcb97020c1c264f1
      ```

      Le **Token Symbol** devrait être automatiquement rempli avec `rETH`, et les **Decimals of Precision** devraient être automatiquement remplis avec `18`.

      Acceptez le reste des invites, et vous verrez alors le token rETH apparaître dans votre liste.

      Maintenant que vous avez une adresse de portefeuille dans MetaMask, vous devez la remplir avec de l'ETH de test.
      Rendez-vous sur la page [Pratique avec le Réseau de Test](../node-staking/testnet/overview#getting-test-eth-on-hoodi) pour un guide rapide sur la façon d'utiliser un robinet de réseau de test pour obtenir de l'ETH de test sur Hoodi.

      Une fois que vous avez de l'ETH Hoodi pour tester, rendez-vous sur [https://testnet.rocketpool.net/](https://testnet.rocketpool.net/).

      **Remarque :** Le réseau de test ne prend en charge que le routage Protocole. CoW Swap est disponible uniquement sur le réseau principal.
    </Tab>
    <Tab label="Préparation sur le Réseau Principal Ethereum">
      Commencez par installer [MetaMask](https://metamask.io/) si vous ne l'avez pas déjà fait.
      Suivez les instructions sur leur site pour installer l'extension, créer un compte et vous connecter.

      Ensuite, ouvrez le panneau MetaMask en utilisant son icône dans la barre d'outils de votre navigateur.
      Cliquez sur le **menu déroulant réseau** dans la barre d'outils en haut et assurez-vous que **Ethereum Mainnet** est sélectionné :

      <img src={mm_network_main} width="100%" height="auto" />

      Enfin, ajoutez le token rETH à MetaMask afin que vous puissiez voir votre solde et y accéder pour le trading.
      Cliquez sur l'onglet **Assets**, puis cliquez sur **Add Token** :

      <img src={mm_add_token} width="100%" height="auto" />

      Assurez-vous que **Custom Token** est sélectionné dans cette boîte de dialogue.
      Dans la case **Token Contract Address**, mettez la valeur suivante :

      ```
      0xae78736Cd615f374D3085123A210448E74Fc6393
      ```

      Le **Token Symbol** devrait être automatiquement rempli avec `rETH`, et les **Decimals of Precision** devraient être automatiquement remplis avec `18`.

      Acceptez le reste des invites, et vous verrez alors le token rETH apparaître dans votre liste.

      Maintenant que vous avez une adresse de portefeuille dans MetaMask, vous devez transférer de l'ETH dedans.
      Vous devrez fournir cela à partir d'un portefeuille existant ou acheter de l'ETH sur un échange.

      Une fois que vous avez de l'ETH à staker, rendez-vous sur [https://stake.rocketpool.net/](https://stake.rocketpool.net/).
    </Tab>

  </Tabs>
</div>

## Staking d'ETH pour rETH

Une fois que vous êtes sur le site de staking, cliquez sur le bouton **connect wallet**. Veuillez lire et accepter les Conditions d'Utilisation et la Politique de Confidentialité, cela activera différentes façons de se connecter, puis cliquez sur **connect metamask**.

MetaMask vous invitera à sélectionner un compte à connecter au site Web. Choisissez-en un, confirmez quelques permissions, et vous verrez vos soldes se mettre à jour dans l'interface utilisateur.

### Étape 1 : Entrer le Montant

Entrez le montant d'ETH que vous souhaitez staker dans le champ **Stake ETH**.

[Emplacement pour l'image : Champ de saisie avec le montant en cours de saisie]

### Étape 2 : Examiner les Options de Routage

L'interface affichera deux options de routage (réseau principal uniquement) :

- **Carte Protocole** : Indique si le pool de dépôt est disponible ou complet
- **Carte CoW Swap** : Affiche la sortie estimée et la comparaison de taux

La meilleure option sera mise en évidence avec un badge vert "X% meilleur" et automatiquement sélectionnée.

[Emplacement pour l'image : Cartes de routage montrant la comparaison]

### Étape 3 : Configurer les Paramètres (CoW Swap Uniquement)

Si vous utilisez CoW Swap, vous pouvez éventuellement :

- Ajuster la tolérance au glissement (par défaut 0,5 %)
- Définir le délai d'expiration de l'ordre (par défaut 30 minutes)

### Étape 4 : Exécuter la Transaction

<div className="p-3">
  <Tabs>
    <Tab label="Via Protocole">
      Cliquez sur le bouton **Stake via Protocol**.

      MetaMask vous invitera à :
      1. **Approuver la transaction** avec les frais de gaz affichés
      2. **Confirmer la transaction**

      ::: danger IMPORTANT
      Vérifiez le coût total du gaz avant d'approuver - s'il est très élevé par rapport à votre montant de stake, envisagez plutôt d'utiliser CoW Swap !
      :::

      Une fois confirmée, la transaction sera minée et vous recevrez votre rETH immédiatement.

      <video controls="controls" src="https://cdn-rocketpool.s3.us-west-2.amazonaws.com/protocol_stake.mp4" />
    </Tab>
    <Tab label="Via CoW Swap">
      Cliquez sur le bouton **Stake via CoW Swap**.

      Le processus implique plusieurs étapes automatisées :

      1. **Emballage WETH** (si nécessaire)
      - Approuver la conversion ETH vers WETH
      - Frais de gaz ponctuels requis

      2. **Approbation WETH** (première fois uniquement)
      - Approuver le protocole CoW pour utiliser votre WETH
      - Frais de gaz ponctuels requis

      3. **Signer l'Ordre**
      - Examiner les détails de l'ordre
      - Signer avec MetaMask (sans gaz)
      - Pas de frais de gaz

      4. **Exécution de l'Ordre**
      - Surveiller la progression dans le modal
      - Attente typique : 2 à 5 minutes
      - Peut fermer le modal et continuer à naviguer

      5. **Achèvement**
      - Le rETH apparaît automatiquement dans le portefeuille
      - Voir sur Etherscan si nécessaire

      <video controls="controls" src="https://cdn-rocketpool.s3.us-west-2.amazonaws.com/cowswap_stake.mp4" preload="auto"/>
    </Tab>

  </Tabs>
</div>

::: tip NOTE
C'est **complètement normal** de recevoir moins de rETH que l'ETH que vous avez mis. rETH et ETH ont un **taux de change dynamique** : à mesure que le réseau Rocket Pool gagne des récompenses, 1 rETH vaut plus que 1 ETH.
:::

## Unstaking de rETH pour ETH

Lorsque vous êtes prêt à unstaker et échanger votre rETH contre de l'ETH, retournez sur le site Web de staking et cliquez sur le **bouton de direction de swap** pour passer en mode unstaking :

### Étape 1 : Entrer le Montant

Entrez le montant de rETH que vous souhaitez unstaker dans le champ **Unstake rETH**.

### Étape 2 : Vérifier la Disponibilité du Routage

L'interface affichera :

- **Liquidité du protocole** disponible dans le pool de dépôt
- Statut de la **carte protocole** (disponible ou "Liquidité insuffisante")
- **Carte CoW Swap** avec la sortie ETH estimée

### Étape 3 : Exécuter le Unstaking

<div className="p-3">
  <Tabs>
    <Tab label="Via Protocole">
      Si la liquidité du protocole est disponible :

      1. Cliquez sur **Unstake via Protocol**
      2. Confirmez la transaction dans MetaMask
      3. Payez les frais de gaz
      4. Recevez l'ETH immédiatement

      ::: warning NOTE
      Le unstaking via le protocole n'est possible que lorsque le pool de dépôt a suffisamment d'ETH. Si vous voyez "Liquidité insuffisante", utilisez plutôt CoW Swap.
      :::

      <video controls="controls" src="https://cdn-rocketpool.s3.us-west-2.amazonaws.com/unstake_mainnet.mp4" preload="auto"/>
    </Tab>
    <Tab label="Via CoW Swap">
      CoW Swap est toujours disponible pour le unstaking :

      1. **Approbation rETH** (première fois uniquement)
      - Approuver rETH pour le protocole CoW
      - Frais de gaz ponctuels

      2. **Signer l'Ordre**
      - Examiner les détails
      - Signer l'ordre (sans gaz)

      3. **Exécution de l'Ordre**
      - Surveiller dans le modal
      - Attente de 2 à 5 minutes

      4. **Déballage WETH** (automatique)
      - Reçoit WETH de l'échange
      - Déballe automatiquement en ETH
      - L'ETH apparaît dans le portefeuille

      <video controls="controls" src="https://cdn-rocketpool.s3.us-west-2.amazonaws.com/cowswap_unstake.mp4" preload="auto"/>
    </Tab>

  </Tabs>
</div>

## Dépannage

### Problèmes Courants

#### Ordre Expiré (CoW Swap)

Votre ordre ne s'est pas exécuté dans le délai imparti.

**Solutions :**

- Augmenter le délai d'expiration de l'ordre (jusqu'à 24 heures)
- Ajuster la tolérance au glissement plus haut
- Réessayer avec les prix actuels du marché
- Utiliser la route Protocole si disponible

#### Solde Insuffisant

Pas assez d'ETH/rETH pour la transaction.

**Solutions :**

- Vérifier le solde du portefeuille
- Tenir compte des frais de gaz (route Protocole)
- Réduire le montant de stake/unstake

#### Pool Plein (Staking Protocole)

Le pool de dépôt a atteint sa limite.

**Solution :**

- Utiliser la route CoW Swap (automatiquement sélectionnée)
- Attendre que les opérateurs de nœuds retirent l'ETH du pool
- Revenir plus tard pour la disponibilité

#### Liquidité Insuffisante (Unstaking Protocole)

Pas assez d'ETH dans le pool de dépôt pour le unstaking.

**Solution :**

- Utiliser la route CoW Swap (automatiquement sélectionnée)
- Toujours disponible indépendamment de l'état du pool

### Conversion Manuelle WETH

Si vous avez du WETH qui n'a pas été automatiquement déballé :

1. Visitez [swap.cow.fi](https://swap.cow.fi)
2. Connectez votre portefeuille
3. Échangez WETH → ETH (ratio 1:1, sans gaz)

Ou utilisez Etherscan :

1. Allez au contrat WETH : `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2`
2. Connectez le portefeuille à "Write Contract"
3. Utilisez la fonction `withdraw`
4. Entrez le montant en Wei
5. Exécutez la transaction

## Meilleures Pratiques

### Pour des Taux Optimaux

- Laissez l'interface sélectionner automatiquement la meilleure route
- Vérifiez pendant une faible activité du réseau pour une meilleure disponibilité du protocole
- Pour de gros montants, CoW Swap offre souvent de meilleurs taux
- Ajustez soigneusement le glissement pour équilibrer la probabilité d'exécution vs le prix

### Pour la Sécurité

- Vérifiez que vous êtes sur le bon site Web : [https://stake.rocketpool.net](https://stake.rocketpool.net)
- Commencez par de petits montants de test
- Examinez tous les détails de la transaction avant de confirmer
- Gardez de l'ETH pour les frais de gaz
- N'approuvez que les contrats de confiance

### Pour l'Optimisation du Gaz

- Comparez les coûts de gaz entre les routes
- Regroupez les transactions lorsque c'est possible
- Utilisez CoW Swap pour de petits montants afin d'éviter des frais de gaz élevés
- Surveillez les prix du gaz sur [etherscan.io/gastracker](https://etherscan.io/gastracker)

## Implications Fiscales

::: warning IMPORTANT
Cette section fournit uniquement des informations éducatives générales. Les lois fiscales varient considérablement selon la juridiction et les circonstances individuelles. **Consultez toujours un professionnel fiscal qualifié** pour des conseils spécifiques à votre situation.
:::

### Comprendre rETH et les Impôts

Lors du staking avec Rocket Pool, il est crucial de comprendre les implications fiscales potentielles :

#### La Transaction de Staking (ETH → rETH)

**Événements Fiscaux Potentiels :**

- **Swap de Token** : La conversion d'ETH en rETH peut être considérée comme un événement imposable dans de nombreuses juridictions
- **Gains/Pertes en Capital** : Si votre ETH s'est apprécié depuis l'acquisition, vous pourriez devoir un impôt sur les gains en capital
- **Base de Coût** : La valeur du rETH reçu devient votre nouvelle base de coût pour les transactions futures

**Exemple de Scénario :**

```
Acheté 1 ETH à 1 000 $
Stake lorsque l'ETH vaut 2 000 $
Gain imposable potentiel : 1 000 $
Votre base de coût rETH : 2 000 $
```

#### Détention de rETH (Gagner des Récompenses)

**Comment rETH s'Apprécie :**

- rETH augmente en valeur par rapport à l'ETH automatiquement
- Aucun nouveau token n'est reçu - le token lui-même s'apprécie
- Cette appréciation représente vos récompenses de staking

**Le Traitement Fiscal Varie :**

- **Certaines juridictions** : Impôt sur l'appréciation uniquement lors de la réalisation (lors de la vente/swap)
- **Autres juridictions** : Peuvent imposer les gains non réalisés annuellement
- **Revenu vs Gains en Capital** : La classification affecte les taux d'imposition

#### La Transaction de Unstaking (rETH → ETH)

**Considérations Fiscales :**

- La reconversion de rETH en ETH est généralement un événement imposable
- Calculez le gain/la perte en fonction de :
- **Base de coût** : Valeur lors de l'acquisition de rETH
- **Valeur de disposition** : Valeur lors de la reconversion en ETH
- La différence est votre gain ou perte en capital

### Implications Fiscales de la Méthode de Routage

#### Route Protocole

- Événement imposable unique par transaction
- Horodatage et valeur clairs pour les dossiers fiscaux
- La transaction en chaîne fournit un enregistrement permanent

#### Route CoW Swap

- L'emballage/déballage WETH n'est généralement pas imposable (conversion 1:1)
- L'échange principal (ETH/WETH ↔ rETH) est l'événement imposable
- L'exécution de l'ordre fournit une documentation fiscale claire

### Meilleures Pratiques de Tenue de Dossiers

**Dossiers Essentiels à Maintenir :**

1. **Pour Chaque Stake :**

- Date et heure de la transaction
- Montant d'ETH staké
- Montant de rETH reçu
- Prix de l'ETH au moment du staking
- Hash de la transaction
- Frais de gaz payés

2. **Pendant la Détention :**

- Instantanés périodiques du taux de change rETH/ETH
- Votre solde rETH au fil du temps
- Valeurs marchandes aux dates clés (fin d'année, etc.)

3. **Pour Chaque Unstake :**

- Date et heure de la transaction
- Montant de rETH unstaké
- Montant d'ETH reçu
- Prix de l'ETH au moment du unstaking
- Hash de la transaction
- Frais de gaz payés

**Outils de Suivi :**

- Exporter les transactions depuis Etherscan
- Utiliser des applications de suivi de portefeuille qui prennent en charge rETH
- Maintenir une feuille de calcul avec toutes les transactions
- Envisager d'utiliser un logiciel fiscal crypto

### Stratégies d'Optimisation Fiscale

**Considérations de Timing :**

- **Récolte de Pertes Fiscales** : Unstaker pendant les baisses du marché si vous avez des pertes pour compenser les gains
- **Long terme vs Court terme** : De nombreuses juridictions favorisent les détentions à long terme (généralement >1 an)
- **Planification de Fin d'Année** : Considérez le timing des transactions autour des limites de l'année fiscale

**Méthodes de Base de Coût :**

- **FIFO (Premier Entré, Premier Sorti)** : Par défaut dans de nombreuses juridictions
- **LIFO (Dernier Entré, Premier Sorti)** : Peut être disponible dans certaines régions
- **Identification Spécifique** : Suivez des portions spécifiques de rETH si autorisé

### Scénarios Fiscaux Courants

#### Scénario 1 : Staking Régulier

```
Action : Staker 10 ETH pour 9,5 rETH
Événement Fiscal : Disposition d'ETH, acquisition de rETH
Rapport : Gain/perte en capital sur la disposition d'ETH
Suivi : 9,5 rETH avec nouvelle base de coût
```

#### Scénario 2 : Unstaking Partiel

```
Action : Unstaker 5 rETH pour 5,3 ETH
Événement Fiscal : Disposition de rETH, acquisition d'ETH
Rapport : Gain/perte en capital sur la disposition de rETH
Suivi : Solde rETH restant et base de coût
```

#### Scénario 3 : Intégration DeFi

```
Action : Utiliser rETH dans les protocoles DeFi
Événement Fiscal : Chaque interaction de protocole peut être imposable
Rapport : Suivez tous les mouvements et changements de valeur
Suivi : Rendements, swaps et provisions de liquidité
```

### Considérations Spécifiques à la Juridiction

**États-Unis :**

- L'IRS traite les swaps crypto-à-crypto comme imposables
- Les récompenses de staking peuvent être imposables lorsqu'elles sont reçues ou lorsqu'elles sont vendues (guidance en évolution)
- Formulaire 8949 et Annexe D pour le rapport

**Union Européenne :**

- Le traitement fiscal varie selon l'État membre
- Certains pays imposent lors de la réalisation, d'autres annuellement
- Considérez les réglementations fiscales crypto locales

**Royaume-Uni :**

- HMRC traite les récompenses de staking comme un revenu ou des gains en capital selon les circonstances
- Tenue de dossiers détaillée requise
- Considérez les règles de "bed and breakfasting"

**Autres Juridictions :**

- Recherchez les directives crypto de votre autorité fiscale locale
- De nombreux pays développent encore des cadres
- Conseils professionnels fortement recommandés

### Utilisation de Logiciels Fiscaux

**Outils Fiscaux Crypto Populaires :**

- La plupart prennent en charge le suivi de rETH
- Peuvent importer depuis Etherscan
- Calculent automatiquement les gains/pertes
- Génèrent des rapports fiscaux pour votre juridiction

**Conseils d'Intégration :**

1. Importez toutes les adresses de portefeuille
2. Vérifiez que les transactions rETH/ETH sont correctement classées
3. Assurez-vous que les taux de change sont précis
4. Examinez les gains/pertes calculés
5. Exportez les rapports pour la déclaration fiscale

### Signaux d'Alarme à Éviter

**Erreurs Courantes :**

- Ne pas suivre la base de coût
- Oublier de déclarer les transactions de staking
- Ignorer les petites transactions
- Manquer les interactions DeFi
- Données de taux de change incorrectes

**Préparation d'Audit :**

- Conservez tous les enregistrements de transactions
- Documentez vos méthodes de calcul
- Sauvegardez les sources de taux de change
- Maintenez une preuve de propriété du portefeuille
- Stockez les dossiers pendant la période de conservation requise

## FAQ

**Q : Quelle route dois-je choisir ?**
R : L'interface recommande automatiquement la meilleure route avec un badge vert "meilleur taux". En général, utilisez l'option recommandée.

**Q : Pourquoi CoW Swap offre-t-il parfois de meilleurs taux ?**
R : CoW Swap agrège la liquidité de plusieurs DEX et utilise des enchères par lots pour trouver des prix optimaux, battant souvent le taux fixe du protocole.

**Q : CoW Swap est-il vraiment sans gaz ?**
R : La création et la signature d'ordres sont sans gaz. Vous ne payez le gaz que pour l'emballage WETH initial et les approbations de token (configuration ponctuelle).

**Q : Combien de temps prennent les ordres CoW Swap ?**
R : Généralement 2 à 5 minutes, mais peut varier en fonction des conditions du marché.

**Q : Que se passe-t-il si mon ordre CoW Swap expire ?**
R : Rien n'est perdu. Vos tokens restent dans votre portefeuille. Vous pouvez passer un nouvel ordre avec des paramètres ajustés.

**Q : Pourquoi la route Protocole est-elle parfois indisponible ?**
R : **Pour le staking :** Le pool de dépôt est plein. **Pour le unstaking :** Liquidité ETH insuffisante. Ce sont des états temporaires qui changent lorsque les utilisateurs interagissent avec le protocole.

**Q : Les transactions de staking sont-elles imposables ?**
R : Dans la plupart des juridictions, oui. La conversion d'ETH en rETH et inversement sont généralement des événements imposables. Consultez un professionnel fiscal pour votre situation spécifique.

**Q : Comment puis-je suivre ma base de coût rETH ?**
R : Enregistrez la valeur de l'ETH lorsque vous le stakez - cela devient votre base de coût rETH. Utilisez les hashs de transaction, les horodatages et les prix pour des dossiers précis.

**Q : Le passage entre les routes Protocole et CoW Swap est-il différent pour les impôts ?**
R : Le traitement fiscal est généralement le même - les deux impliquent l'échange d'ETH contre rETH. La route choisie n'affecte généralement pas les obligations fiscales, bien que la tenue de dossiers puisse différer légèrement.

## Ressources Supplémentaires

- [Documentation Rocket Pool](https://docs.rocketpool.net)
- [Documentation CoW Swap](https://docs.cow.fi)
- [Discord Rocket Pool](https://discord.gg/rocketpool)
- [Suivi du Gaz Etherscan](https://etherscan.io/gastracker)

## Adresses de Contrat

### Réseau Principal

- **Token rETH :** `0xae78736Cd615f374D3085123A210448E74Fc6393`
- **Token WETH :** `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2`
- **Rocket Storage :** `0x1d8f8f00cfa6758d7bE78336684788Fb0ee0Fa46`
- **CoW Protocol VaultRelayer :** `0xC92E8bdf79f0507f65a392b0ab4667716BFE0110`

### Réseau de Test Hoodi

- **Token rETH :** `0x7322c24752f79c05ffd1e2a6fcb97020c1c264f1`
- Consultez la [Documentation Rocket Pool](https://docs.rocketpool.net) pour les autres adresses du réseau de test Hoodi.

---

C'est tout ce qu'il y a à savoir sur le staking avec Rocket Pool ! Nous espérons que vous trouverez les nouvelles options de routage utiles pour obtenir la meilleure valeur pour votre stake.

N'hésitez pas à passer sur [notre serveur Discord](https://discord.gg/rocketpool) pour nous faire savoir ce que vous en avez pensé et suivre l'évolution du projet.
