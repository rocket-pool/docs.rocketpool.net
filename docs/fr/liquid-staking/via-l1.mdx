# Staking via un Exchange Décentralisé sur le Réseau Ethereum (Layer 1)

Pour rappel, vous n'avez pas besoin d'échanger de l'ETH contre du rETH directement via Rocket Pool pour profiter des avantages du staking décentralisé.
Tout ce que vous devez faire est de détenir du rETH car il croît intrinsèquement en valeur - la façon dont vous l'obtenez n'a pas d'importance !

rETH est disponible à l'échange sur plusieurs exchanges décentralisés, tels que [Balancer](https://docs.balancer.fi/) et [Uniswap](https://docs.uniswap.org/protocol/introduction).

Le pool **Balancer** est un type spécial de pool connu sous le nom de [metastable pool](https://docs.balancer.fi/concepts/pools/composable-stable.html).
Les metastable pools sont idéaux pour des tokens comme rETH, car **ils honorent le véritable taux de change rapporté par l'Oracle DAO**.

Cela signifie que l'échange avec ce pool aura **un slippage beaucoup plus faible** et **des frais plus bas** qu'un exchange décentralisé conventionnel, vous obtenez donc une bien meilleure affaire lors de l'achat ou de la vente de rETH.
D'autres exchanges décentralisés n'ont pas cette propriété, vous pourriez donc constater que leur taux de change est légèrement inférieur.

Quel que soit le pool que vous utilisez, ils ont tous **tendance à avoir des frais de gas plus bas** que le staking via le site Web officiel de Rocket Pool.
Cela en fait un excellent choix pour les utilisateurs qui veulent staker une petite quantité d'ETH, bien qu'il soit toujours judicieux de comparer le taux que vous recevriez sur un exchange avec le taux de change selon Rocket Pool.

Dans les exemples suivants, nous montrerons comment échanger de l'ETH contre du rETH en utilisant à la fois Balancer et Uniswap.

::: warning NOTE
Actuellement, cette méthode n'est disponible que sur le Mainnet.
Si vous voulez pratiquer sur le testnet Hoodi, vous devez [échanger avec Rocket Pool directement](./via-rp).

**Le reste de ce guide supposera que vous êtes sur le Mainnet.**
:::

Ce processus peut être complété avec n'importe quel wallet compatible web3.
À des fins de démonstration, nous allons utiliser [MetaMask](https://metamask.io/) car c'est l'un des choix de wallet les plus populaires.

**Vous devriez pouvoir suivre en utilisant des étapes similaires avec un wallet différent si vous le choisissez - trouvez simplement la fonction comparable dans votre wallet pour chaque étape.**

## Configuration de MetaMask

Commencez par installer [MetaMask](https://metamask.io/) si vous ne l'avez pas déjà fait.
Suivez les instructions sur leur site pour installer l'extension, créer un compte et vous connecter.

Ensuite, ouvrez le panneau MetaMask en utilisant son icône dans la barre d'outils de votre navigateur.
Cliquez sur le **menu déroulant réseau** dans la barre d'outils en haut et assurez-vous que **Ethereum Mainnet** est sélectionné :

<img src="./images/mm_network_main.png" width="100%" height="auto" />

Enfin, ajoutez le token rETH à MetaMask afin de pouvoir voir votre solde et y accéder pour les échanges.
Cliquez sur l'onglet **Assets**, puis cliquez sur **Add Token** :

<img src="./images/mm_add_token.png" width="100%" height="auto" />

Assurez-vous que **Custom Token** est sélectionné dans cette boîte de dialogue.
Dans la case **Token Contract Address**, mettez la valeur suivante :

```
0xae78736Cd615f374D3085123A210448E74Fc6393
```

Le **Token Symbol** devrait automatiquement être rempli avec `rETH`, et les **Decimals of Precision** devraient automatiquement être remplis avec `18`.

Acceptez le reste des invites, et vous verrez alors le token rETH apparaître dans votre liste.

Maintenant que vous avez une adresse de wallet dans MetaMask, vous devez y transférer de l'ETH.
**Vous devrez fournir cela à partir d'un wallet existant ou acheter de l'ETH sur un exchange.**

## Échanger de l'ETH contre du rETH via Balancer

Maintenant que votre wallet est configuré et financé, rendez-vous à cette URL qui ouvrira Balancer et affichera automatiquement l'échange d'ETH contre du rETH :

[https://app.balancer.fi/#/trade/ether/0xae78736Cd615f374D3085123A210448E74Fc6393](https://app.balancer.fi/#/trade/ether/0xae78736Cd615f374D3085123A210448E74Fc6393)

La page ressemblera initialement à ceci :

<img src="./images/balancer.png" width="100%" height="auto" style={{ margin: "0 auto" }} />

Cliquez sur le bouton `Connect wallet` dans le coin supérieur droit.
Vous serez invité avec un écran qui vous demande quel fournisseur de wallet vous voulez utiliser.
Pour cet exemple, sélectionnez **MetaMask**.

::: tip NOTE
Si vous n'utilisez pas MetaMask, l'un des autres fournisseurs comme WalletConnect sera probablement compatible avec votre wallet.
:::

En cliquant sur ce bouton, MetaMask apparaîtra avec une invite vous demandant de sélectionner les comptes que vous voulez utiliser.
En supposant que vous n'en ayez qu'un, votre compte devrait déjà être sélectionné.
Cliquez sur **Next**.

Il vous demandera ensuite si vous souhaitez donner à Balancer l'accès pour voir les adresses de vos comptes :

<img src="./images/bal_connect.png" width="100%" height="auto" style={{ margin: "0 auto" }} />

Cliquez sur **Connect** et après une brève pause, votre wallet sera connecté à Balancer.
Vous devriez maintenant voir son solde ETH en haut à gauche de l'écran.

Maintenant, entrez le montant d'ETH que vous voulez échanger et l'interface de Balancer vous montrera le montant de rETH que vous recevrez en retour :

<img src="./images/bal_swap.png" width="100%" height="auto" style={{ margin: "0 auto" }} />

::: warning NOTE
Remarquez que le montant de rETH que vous recevez sera **inférieur** au montant d'ETH que vous mettez.
C'est normal, car **rETH vaut plus que l'ETH** et s'apprécie continuellement au fil du temps.
Vous pouvez voir cela dans le taux de change mis en évidence à droite de la capture d'écran.
:::

Cliquez sur **Preview** pour voir les détails de l'échange, y compris le montant minimum que vous pourriez recevoir en raison du slippage.
Si vous êtes satisfait, cliquez sur **Confirm trade**.
Cela enverra la demande à MetaMask, où vous pourrez examiner le coût total de la transaction avant de la confirmer :

<img src="./images/mm_gas.png" width="100%" height="auto" />

::: warning NOTE
Faites **très attention** aux frais de gas estimés ici, mis en évidence en rouge.
S'il s'agit d'un montant important de votre transaction globale (ici c'est plus de 17%), il faudra alors **très longtemps** avant d'atteindre le seuil de rentabilité sur les récompenses de staking.

Si c'est le cas, vous devriez soit attendre que le prix moyen du gas du réseau baisse, soit [envisager d'utiliser une solution Layer 2 à la place](./via-l2).
:::

Si vous êtes satisfait des frais de gas par rapport au montant total de rETH que vous recevrez, cliquez sur **Confirm** pour soumettre la transaction.
Après une courte période, vous devriez voir une notification de MetaMask indiquant qu'elle s'est terminée avec succès, et vous verrez maintenant le token rETH dans votre wallet.

C'est tout ! Vous stakez maintenant avec Rocket Pool. Tout ce que vous avez à faire est de conserver votre rETH, et vous gagnerez automatiquement vos récompenses de staking à mesure que la valeur du token rETH augmente.

## Échanger de l'ETH contre du rETH via Uniswap

Bien que nous vous recommandions de staker via Balancer car il a des frais plus bas et un taux ETH-rETH plus précis, vous pouvez également échanger de l'ETH contre du rETH via Uniswap si le besoin se fait sentir.
Rendez-vous à cette URL qui ouvrira Uniswap et affichera automatiquement l'échange d'ETH contre du rETH :

[https://app.uniswap.org/#/swap?inputCurrency=eth&outputCurrency=0xae78736cd615f374d3085123a210448e74fc6393](https://app.uniswap.org/#/swap?inputCurrency=eth&outputCurrency=0xae78736cd615f374d3085123a210448e74fc6393)

::: warning NOTE
Vous pourriez initialement être invité avec un avertissement qui ressemble à ceci :

<img src="./images/unknown_token.jpg" width="100%" height="auto" />

C'est juste un avertissement temporaire jusqu'à ce qu'Uniswap ajoute rETH à sa liste de tokens canoniques.
Tant que l'adresse du token est `0xae78736cd615f374d3085123a210448e74fc6393`, vous pouvez l'ajouter en toute sécurité.
:::

La page ressemblera initialement à ceci :

<img src="./images/uni_connect.png" width="100%" height="auto" />

Cliquez sur l'un des boutons `Connect Wallet` comme celui mis en évidence dans le coin supérieur droit.
Vous serez invité avec un écran qui vous demande quel fournisseur de wallet vous voulez utiliser.
Pour cet exemple, sélectionnez **MetaMask**.

::: tip NOTE
Si vous n'utilisez pas MetaMask, l'un des autres fournisseurs comme WalletConnect sera probablement compatible avec votre wallet.
:::

En cliquant sur ce bouton, MetaMask apparaîtra avec une invite vous demandant de sélectionner les comptes que vous voulez utiliser.
En supposant que vous n'en ayez qu'un, votre compte devrait déjà être sélectionné.
Cliquez sur **Next**.

Il vous demandera ensuite si vous souhaitez donner à Uniswap l'accès pour voir les adresses de vos comptes :

<img src="./images/mm_connect.png" width="100%" height="auto" />

Cliquez sur **Connect** et après une brève pause, votre wallet sera connecté à Uniswap.
Vous devriez maintenant voir son solde ETH dans le coin supérieur droit de l'écran.

Maintenant, entrez le montant d'ETH que vous voulez échanger et l'interface d'Uniswap vous montrera le montant de rETH que vous recevrez en retour :

<img src="./images/uni_swap.png" width="100%" height="auto" />

::: warning NOTE
Remarquez que le montant de rETH que vous recevez sera **inférieur** au montant d'ETH que vous mettez.
C'est normal, car **rETH vaut plus que l'ETH** et s'apprécie continuellement au fil du temps.
Vous pouvez voir cela dans le taux de change mis en évidence en bas de la capture d'écran.
:::

Cliquez sur **Swap** pour voir les détails de l'échange, y compris le montant minimum que vous pourriez recevoir en raison du slippage.
Si vous êtes satisfait, cliquez sur **Confirm Swap**.
Cela enverra la demande à MetaMask, où vous pourrez examiner le coût total de la transaction avant de la confirmer :

<img src="./images/mm_gas.png" width="100%" height="auto" />

::: warning NOTE
Faites **très attention** aux frais de gas estimés ici, mis en évidence en rouge.
S'il s'agit d'un montant important de votre transaction globale (ici c'est plus de 17%), il faudra alors **très longtemps** avant d'atteindre le seuil de rentabilité sur les récompenses de staking.

Si c'est le cas, vous devriez soit attendre que le prix moyen du gas du réseau baisse, soit [envisager d'utiliser une solution Layer 2 à la place](./via-l2).
:::

Si vous êtes satisfait des frais de gas par rapport au montant total de rETH que vous recevrez, cliquez sur **Confirm** pour soumettre la transaction.
Après une courte période, vous devriez voir une notification de MetaMask indiquant qu'elle s'est terminée avec succès, et vous verrez maintenant le token rETH dans votre wallet.

C'est tout ! Vous stakez maintenant avec Rocket Pool. Tout ce que vous avez à faire est de conserver votre rETH, et vous gagnerez automatiquement vos récompenses de staking à mesure que la valeur du token rETH augmente.
