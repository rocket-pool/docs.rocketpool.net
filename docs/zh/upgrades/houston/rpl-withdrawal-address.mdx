import { Tab, Tabs } from "@rspress/core/theme";
import nodeAddress from "./images/node_address.png";
import rplWithdrawalConfirmation from "./images/rpl_withdrawal_confirmation.png";

# 设置您的 RPL 提取地址

了解[主提取地址](../../node-staking/prepare-node#setting-your-primary-withdrawal-address)和 RPL 提取地址之间的区别很重要。默认情况下，您的 RPL 提取地址未设置，您的主提取地址是所有 RPL 检查点奖励、您质押的 RPL 和信标链 ETH 将发送到的地方。

如果您愿意，您可以为您的 RPL 设置[单独的提取地址](https://rpips.rocketpool.net/RPIPs/RPIP-31)。如果设置了 RPL 提取地址，将能够触发并从通胀奖励中领取 RPL，并且对 ETH 共识奖励或与 ETH 相关的任何内容没有影响。在这种情况下，您的主提取地址将不再对 RPL 相关操作拥有任何权限。

这创造了一些有趣的机会，RPL 可以由一个实体提供给不希望暴露于 RPL 的节点运营者。然后，该实体可以通过为节点提供所需的保险抵押品来领取 RPL 奖励。换句话说，这允许不同的参与者提供每种抵押品类型。

::: warning 注意
在首次设置节点时，您的 RPL 提取地址默认为未设置。
如果您选择设置 RPL 提取地址，**将其设置为由冷钱包控制的不同地址至关重要。**
冷钱包可以是硬件钱包（例如 [Ledger](https://www.ledger.com/)、[Trezor](https://trezor.io/) 或 [Grid+](https://gridplus.io/)）或智能合约钱包（例如 [Safe](https://app.safe.global/welcome)）。

我们**强烈建议**您不要使用 MetaMask 等热钱包作为您的 RPL 提取地址。

这样，如果您的节点钱包被入侵，攻击者无法通过强制您退出来访问您质押的 RPL，因为所有这些资金都将发送到您的单独冷钱包（希望他们没有）。

RPL 提取地址是在节点运营者级别设置的。
如果您创建多个 minipool，它们都将引用相同的 RPL 提取地址，因此您只需执行一次此设置。

[在此处查看](https://ethereum.org/en/security/#wallet-security) Ethereum 基金会关于钱包安全性的一些基础知识。
:::

有两种不同的方法可以做到这一点。
请阅读以下两个选项以确定哪个适用于您。

<div className="p-3">
  <Tabs>
    <Tab label="方法 1">
      *如果您的新 RPL 提取地址可用于通过 MetaMask 或 WalletConnect 签署交易，请使用此方法。**

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">注意</p>
        此方法将要求您从新的 RPL 提取地址**提交交易**，因此**您必须在该地址中已经拥有少量 ETH。**
      </p>

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">注意</p>
        对于 **Ledger** 硬件钱包的用户，请注意 Ledger Live 尚不原生支持 MetaMask 或 WalletConnect。
        您需要使用 MetaMask 并将其连接到您的 Ledger。
        按照[官方 Ledger 说明](https://www.ledger.com/academy/security/the-safest-way-to-use-metamask)执行此操作。

        要使用 Rocket Pool 网站，您需要连接、解锁 Ledger 并打开 ETH 应用程序。
        您还需要为当前会话**启用"盲签名"**；您可以在设备上的 ETH 应用程序的设置部分找到它。
        关闭会话后，绑定签名将自动禁用。

        如果您使用 Hoodi 测试网并想使用 Ledger 作为 RPL 提取地址，**您必须首先在 Ledger 上创建一个新的 Ethereum 钱包**，以确保您不会将实时地址连接到测试网络，这往往会造成混淆。
        在将 Ledger 连接到 MetaMask 时，请确保在网络选择下拉菜单中选择 **Hoodi Testnet**。
        请注意，Ledger Live 不会显示您在测试网络上的余额，但支持测试网络的其他应用程序（例如 MetaMask 和 Etherscan）将能够显示它。
      </p>

      1. 运行 `rocketpool node set-rpl-withdrawal-address '您的冷钱包地址或 ENS 名称'`。您的新 RPL 提取地址将被标记为"待处理"。在您确认之前，**您的旧 RPL 提取地址仍将被使用**。
      2. 要确认它，您必须从新的 RPL 提取地址向 minipool 合约发送特殊交易，以验证您拥有 RPL 提取地址。
      1. 最简单的方法是导航到 Rocket Pool RPL 提取地址站点（用于 [Hoodi 测试网](https://testnet.node.rocketpool.net/rpl-withdrawal-address)或用于[主网](https://node.rocketpool.net/rpl-withdrawal-address)）。
      3. 如果您尚未将 Metamask 或 WalletConnect 连接到 Rocket Pool 网站，请立即执行此操作。单击屏幕中央的**选择钱包**按钮，然后根据要使用的钱包选择 MetaMask 或 WalletConnect。然后将提示您确认连接。例如，使用 MetaMask：

      单击 **Next**，然后单击 **Confirm** 以允许 Rocket Pool 网站使用您的钱包。3. 从顶部菜单（或如果您使用移动设备，则从左侧的汉堡菜单）中选择 **RPL Withdrawal Address**。4. 您将看到此提示：

      4. 在此处输入您的**节点钱包地址**，然后单击橙色的 **Find** 按钮继续。

      <img src={nodeAddress} width="100%" height="auto"/>

      1.  系统将提示您确认待处理的 RPL 提取地址。这应该与您之前运行此命令时使用的地址相同：`rocketpool node set-rpl-withdrawal-address` 准备好后选择 **Confirm Pending**。
      2.  现在，您的钱包中应该有一个新的确认对话框。同样，以 MetaMask 为例，单击 MetaMask 图标将其打开，您应该会看到类似以下内容：

      单击 **Confirm** 将交易发送到网络。这将需要一些时间，直到它包含在一个区块中，但一旦包含，您将看到一个确认对话框：

      <img src={rplWithdrawalConfirmation} width="100%" height="auto"/>

      5. 您的新 RPL 提取地址现在将得到确认并激活。您可以使用 `rocketpool node status` 查看此内容。
    </Tab>
    <Tab label="方法 2">
      **仅当您的 RPL 提取地址_无法_用于通过 MetaMask 或 WalletConnect 签署交易时，才使用此方法。**

      在此方法中，您将运行：

      ```shell
      rocketpool node set-rpl-withdrawal-address --force `您的冷钱包地址`
      ```

      在确认之前，您将有机会发送测试交易，以确保您拥有正确的地址。
      如果您在提示时确认此命令，您的新 RPL 提取地址将立即设置。


      <p className="rspress-directive danger">
        通过这样做，您将绕过与方法 1 相关的安全措施，该措施要求您证明您拥有新地址。
        如果您在此处输入错误，则无法撤消，**您的 minipool 奖励将永远丢失**。

        我们**强烈**建议您在确认之前使用测试交易机制，如果可能，请改用方法 1。
      </p>
    </Tab>

  </Tabs>
</div>

完成此操作后，您将**不再能够使用 `set-rpl-withdrawal-address` 命令更改您的 RPL 提取地址**。
要更改它，您需要从**活动的** RPL 提取地址（您刚刚切换到的地址）发送签名交易。
Rocket Pool 网站有一个功能可以帮助您做到这一点。

如果您想取消设置 RPL 提取地址，该过程非常简单。首先，您需要导航回 Rocket Pool 网站上的 RPL 提取地址页面。

<div className="p-3">
  <Tabs>
    <Tab label="Hoodi 测试网">https://testnet.node.rocketpool.net/rpl-withdrawal-address</Tab>
    <Tab label="主网">https://node.rocketpool.net/rpl-withdrawal-address</Tab>
  </Tabs>
</div>

如果您使用节点的 RPL 提取地址登录，您应该能够在此处单击右侧的**取消设置**按钮：

<img src="./images/unset_rpl_withdrawal.png" width="100%" height="auto" />

单击**取消设置**将带您进入一个页面，您可以在其中确认详细信息。如果您对看到的内容满意，请单击橙色的**取消设置**按钮将交易发送到网络。

这就是设置 RPL 提取地址的全部内容！我们希望您觉得这个过程快速简便。

欢迎来到[我们的 Discord 服务器](https://discord.gg/G46XgK264a)让我们知道您的想法，并随时了解项目的演变。
