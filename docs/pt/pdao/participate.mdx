import { Tab, Tabs } from "@rspress/core/theme";

# Participando em Propostas pDAO On-Chain

Qualquer nó com poder de voto não-zero pode levantar ou participar em uma proposta pDAO a qualquer momento. As propostas podem ser um dos
seguintes tipos:

- Alteração de configurações pDAO
- Gastos únicos do tesouro
- Gastos recorrentes do tesouro (comitês de gestão)
- Membros do conselho de segurança

Para mais detalhes e justificativa, consulte [tipos de proposta](https://rpips.rocketpool.net/RPIPs/RPIP-33#proposal-types).
É importante entender que uma proposta pDAO é uma entidade on-chain que existe para executar alterações ao nível do protocolo.

## Processo de Governança

Uma proposta deve ser prevista pelo processo de governança antes de acabar on-chain.

Mudanças no protocolo Rocket Pool são propostas, votadas e executadas usando um processo de governança rigoroso, mas transparente. O processo começa com uma discussão informal de uma ideia dentro da comunidade Discord. Esta ideia então
progride para discussões formais no
canal [#governance](https://discordapp.com/channels/405159462932971535/774497904559783947) no Discord e
no [Fórum DAO](https://dao.rocketpool.net/), onde passa por pesquisas minuciosas, modelagem e escrutínio em
preparação para uma [Proposta de Melhoria Rocket Pool (RPIP)](https://rpips.rocketpool.net/). Após isso, um rascunho RPIP
é preparado e revisado por revisores designados de RPIP para garantir sua qualidade e prontidão para apresentação à DAO.
O rascunho da proposta é então apresentado à DAO no fórum para revisão adicional, feedback e incorporação de quaisquer
mudanças necessárias. Uma vez que a proposta foi refinada com base no input da comunidade, uma enquete é levantada no fórum DAO para
avaliar a prontidão para finalizar o texto do RPIP. Se a enquete passar, indicando aprovação da comunidade, o RPIP é marcado
como final e pronto para um voto da DAO do Protocolo, que é conduzido via Snapshot para determinar se a proposta deve ser
implementada.

A partir daqui, a Oracle DAO irá levantar uma proposta on-chain. Há uma janela na qual a DAO do Protocolo, Oracle DAO e
comunidade podem revisar a proposta. Se o consenso for alcançado, a proposta é executada e as mudanças são aplicadas ao
protocolo.

Uma representação visual prática deste processo pode ser encontrada no
[site Rocket Pool](https://rocketpool.net/governance/process).

## Pré-requisito

Por favor, leia o [ciclo de vida de uma proposta](./pdao#lifecycle-of-a-pdao-proposal) antes de prosseguir. Ele explicará
as diferenças entre todos os períodos de votação e as ações que podem ser tomadas durante cada período.

O resto desta página o guiará através dos passos necessários para participar em propostas pDAO on-chain.

## Inicializando Votação

Se você é um operador de nó que se registrou antes da atualização Houston, você precisa inicializar a votação para desbloquear o poder de voto. Tenha em mente que ter pelo menos um minipool é um requisito para ter poder de voto.

```shell
rocketpool pdao initialize-voting
```

Este comando irá apresentar o prompt abaixo. Por favor, leia-o cuidadosamente:

```
Obrigado por inicializar o seu poder de voto!

Você tem duas opções:

1. Votar diretamente (delegar poder de voto a si mesmo)
   Isso permitirá que você vote em propostas diretamente,
   permitindo que você pessoalmente molde a direção do protocolo.

2. Delegar o seu voto
   Isso irá delegar o seu poder de voto a alguém em quem você confia,
   dando-lhes o poder de votar em seu nome. Você terá a opção de sobrepor.

Você pode ver uma lista de delegados públicos existentes em https://delegates.rocketpool.net,
no entanto, você pode delegar para qualquer endereço de nó.

Saiba mais sobre como tudo isso funciona via: /pt/pdao/participate#participating-in-on-chain-pdao-proposals

Por favor, digite `direct` ou `delegate` para continuar:
```

- Se você responder com `direct`, o poder de voto será inicializado para o seu nó e você poderá votar diretamente em
  propostas da DAO do Protocolo.
- Se você responder com `delegate`, você terá a oportunidade de economizar um pouco de gas ao inicializar a votação
  e [definir um delegado](./participate#delegating-voting-power) dentro da mesma transação.

Você só precisa fazer isso uma vez. Ele configura a informação de snapshot inicial para um nó. Depois de inicializar a votação,
toda ação tomada irá atualizar a informação de snapshot do seu nó. Uma vez que o seu poder de voto esteja inicializado, você pode verificar
quanto você tem usando o seguinte comando smartnode:

```shell
rocketpool pdao status
```

:::tip NOTA
Sempre que uma nova proposta é criada, uma árvore de votação representando um snapshot do poder de voto da rede e informações de delegado
é criada em conjunto com a nova proposta. Isso significa que o poder de voto do seu nó não será incluído em uma proposta se
ela foi levantada antes de você inicializar a votação. `rocketpool pdao status` irá exibir o poder de voto do seu nó no
bloco mais recente, que pode ou não ser representativo do seu poder de voto em uma proposta particular.
:::

## Auto Inicializar Poder de Voto

A versão `1.13.8` do Smartnode introduz um novo recurso **Auto Inicializar Poder de Voto**, que foi projetado para inicializar automaticamente
o poder de voto em nós que ainda não o fizeram. O poder de voto inicializado automaticamente é auto-delegado.
Este recurso pode ser configurado nas configurações do Smartnode executando `rocketpool service config` e navegando para a seção \*
\*Smartnode e Taxas TX\*\*.

<img src="./images/auto_init_vp.png" width="100%" height="auto" />

O **Limite de Gas Auto-Init Poder de Voto** é um limite (em gwei) nesta transação automática. Você pode optar por não participar desta
tarefa definindo o limite para 0. Sinta-se livre para optar por não participar se o seu nó foi registrado após a atualização Houston ou se
o poder de voto já está habilitado.

## Definindo o seu Endereço de Sinalização Snapshot

Definir o seu endereço de sinalização Snapshot permitirá que você participe em votos Snapshot em um navegador ou dispositivo móvel
sem ter que expor as chaves do nó a uma carteira quente.

Há algumas coisas para preparar:

- O endereço do seu nó
- Um endereço que você deseja usar para votação snapshot (endereço de sinalização)

Você irá assinar uma mensagem dizendo que o endereço do seu nó pode delegar ao novo endereço. Esta mensagem declara a sua
intenção de usar o seu endereço de carteira como um endereço de sinalização Snapshot.

Selecione qual rede você está usando em uma das abas abaixo.

<div className="p-3">
  <Tabs>
    <Tab label="Hoodi Testnet">Se você está experimentando isso na testnet Hoodi, você pode assinar nesta página: https://testnet.node.rocketpool.net/signalling-address</Tab>
    <Tab label="Mainnet">Se você está pronto para configurar isso na mainnet, vá aqui em vez disso: https://node.rocketpool.net/signalling-address</Tab>
  </Tabs>
</div>

:::danger AVISO
Não carregue a chave privada do seu nó em uma carteira quente. Por favor, escolha outra conta para ser o seu endereço de sinalização.
Depois de definir o endereço de sinalização, você pode usá-lo para votar no Snapshot com o poder de voto do seu nó.
:::

Comece por **conectar o endereço que você deseja usar como endereço de sinalização** ao site usando MetaMask,
WalletConnect, ou qualquer um dos outros métodos que o site suporta. Você então será apresentado com este diálogo para procurar
o seu endereço de nó.

Em seguida, você irá inserir o seu endereço de nó e então clicar no botão laranja "Find". Isso irá verificar se o endereço é um nó registrado
e então levá-lo ao próximo passo.

:::tip DICA
**Certifique-se de ter o endereço de nó correto antes de fazer isso!** se você precisar confirmar o endereço do seu nó, você pode
rapidamente recuperá-lo via CLI usando o comando `rocketpool node status`.
:::

Depois de ter entrado e confirmado o seu endereço de nó, você verá o seu **endereço de sinalização Snapshot**. Ele deve ser o
mesmo que a conta com a qual você entrou no site. Verifique duas vezes se isso está correto antes de prosseguir. Uma vez que você esteja
confiante de que entrou na conta desejada, clique no botão laranja "Sign Message". Você verá um prompt no
seu aplicativo de extensão de carteira para assinar a seguinte mensagem:

```
`snapshot signalling address` pode delegar para mim para a governança Rocket Pool
```

Assinar não custará gas, mas definir custará. Depois de assinar, o frontend lhe dará um comando para colar no
smartnode. Vá em frente e cole-o no CLI do seu smartnode e siga os passos solicitados. O comando deve parecer
algo assim:

```shell
rocketpool pdao set-signalling-address
`snapshot signalling address`
`EIP712 signature`
```

Se você vir esta mensagem no seu CLI, está tudo pronto!

```
O endereço de sinalização do nó foi definido com sucesso para `snapshot signalling address`
```

:::tip DICA
Não se preocupe se você fechar acidentalmente o site ou perder o rastro do comando. Você pode simplesmente repetir os passos e **assinar
novamente usando o mesmo endereço de nó e endereço de sinalização**. O frontend usa `signer.Signmessage()` da biblioteca ethers,
o que significa que sua assinatura é determinística dado o mesmo input.
Clique [aqui](https://docs.ethers.org/v6/api/providers/#cid_865) para saber mais.
:::

Limpar o seu endereço de sinalização é muito fácil, basta usar este comando no CLI:

```shell
rocketpool pdao clear-signalling-address
```

## Permitindo Bloqueio RPL

Você pode ignorar este passo se estiver interessado apenas em votar em uma proposta. Permitir o bloqueio RPL é necessário apenas para
aqueles que desejam propor ou desafiar uma proposta.

O bloqueio RPL é necessário para propor e desafiar. Por padrão, bloquear RPL para qualquer propósito, estará desabilitado. Operadores de nó
irão optar por realizar atividades de governança habilitando o bloqueio de RPL do seu nó ou
endereço de retirada primário. Você pode fazê-lo usando este comando no Smartnode:

```shell
rocketpool node allow-rpl-locking
```

Isso irá solicitá-lo a permitir o bloqueio de RPL ao criar ou desafiar propostas de governança. Por outro lado, você pode
usar o seguinte comando para optar por não bloquear RPL:

```shell
rocketpool node deny-rpl-locking
```

::: tip NOTA
RPL bloqueado age da mesma forma que RPL staked regular para fins de recompensas, votação e requisitos de colateral.
RPL bloqueado não é contado para limiares de retirada de RPL.
:::

## Delegando o Poder de Voto

Um operador de nó pode optar por delegar o seu poder de voto a outro operador de nó. O único requisito é que o seu
delegado seja um nó registrado.

Para delegar o poder de voto on-chain a outro nó, use o seguinte comando:

```shell
rocketpool pdao set-voting-delegate `address`
```

::: tip NOTA
Se você delegou o seu poder de voto a outro operador de nó, você pode redefinir isso definindo o endereço do delegado para
o endereço do seu próprio nó.
:::

- Durante a fase 1 de uma proposta: **Votantes** e **Delegados** podem votar em uma proposta.
- Durante a fase 2 de uma proposta: **Operadores de Nó** que delegaram o seu voto têm a oportunidade de reverter o
  voto do seu Delegado, se discordarem.

Se você é um operador de nó com poder de voto delegado, você deve votar durante a fase de votação 1 para que o poder de voto delegado
conte para a proposta. O seu voto na fase 1 valerá o seu **poder de voto local + poder de voto delegado**. O seu voto na fase 2 vale o seu **poder de voto local** apenas.

## Criando uma Proposta

Para ser elegível para propor, um nó deve cumprir alguns requisitos:

- Incluído no snapshot (seja ao [inicializar a votação](./participate#initializing-voting) ou ao
  registrar pós Houston)
- Deve ter pelo menos um minipool
- Tem poder de voto não-zero
- Permitiu [bloqueio RPL](./participate#allowing-rpl-locking)
- Tem uma stake RPL (menos qualquer RPL já bloqueado) maior que a garantia da proposta

Propostas existem para alterar parâmetros e executar código ao nível do protocolo! Deve haver discussão e consenso
através do processo de [governança](./participate#governance-process) antes que uma proposta seja criada on chain.

Use o comando `rocketpool pdao propose` para trazer um menu de opções

```
COMANDOS:
   rewards-percentages, rp      Propor atualização das porcentagens de alocação de recompensas RPL para operadores de nós, a Oracle DAO e a DAO do Protocolo
   one-time-spend, ots          Propor um gasto único do tesouro da DAO do Protocolo
   recurring-spend, rs          Propor um gasto recorrente do tesouro da DAO do Protocolo
   recurring-spend-update, rsu  Propor uma atualização a um plano de gasto recorrente existente
   security-council, sc         Modificar o conselho de segurança
   setting, s                   Fazer uma proposta de configuração da DAO do Protocolo
```

Cada um destes comandos irá solicitá-lo com uma lista de inputs para criar a sua proposta desejada. Neste guia, vamos
convidar um nó para o conselho de segurança para servir como exemplo. Para levantar uma proposta para convidar um nó para o conselho de segurança, você usaria o comando:

```shell
rocketpool pdao propose security-council invite
```

Tenha em mente que este passo terá alguma variação leve dependendo do tipo de proposta. Este comando particular:
`rocketpool pdao propose security-council invite` irá solicitá-lo a inserir um ID seguido de um endereço de membro.

```
Por favor, insira um ID para o membro que você gostaria de convidar: (sem espaços)
test-member

Por favor, insira o endereço do membro:
0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145

... estimativas de gas ...

Tem certeza de que deseja propor convidar test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) para o conselho de segurança? [y/n]
```

Depois que isso for incluído em um bloco, uma proposta pDAO será criada! A proposta entrará no
[período de atraso de voto](./pdao#vote-delay-period) após a criação.

## Visualizando o Estado de uma Proposta

Toda proposta recebe um `proposalID`. Neste caso, nossa proposta para convidar `0xBdbc...` para o conselho de segurança é
representada com `ID 71`. Há algumas maneiras de visualizar o estado da proposta. Um método exibirá uma lista de
todas as propostas pdao junto com o seu estado (pendente, bem-sucedida, executada, etc). O segundo método exibe detalhes aprofundados
sobre uma proposta específica.

<div className="p-3">
  <Tabs>
    <Tab label="Visualizando uma Lista de Propostas">
      Para listar todas as propostas, use o seguinte comando:

      ```shell
      rocketpool pdao proposals list
      ```

      Isso exibirá uma lista de todas as propostas e seu estado

      ```
      1 proposta(s) Pendente(s):

      71: convidar test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) para o conselho de segurança - Proposto por:
      0x681B8BBf08708e64694005c7Dc307b381b4D1A7D

      Proposta(s) Bem-sucedida(s):

      Proposta(s) Executada(s):

      Proposta(s) Destruída(s):

      Proposta(s) Quórum não Alcançado:

      Proposta(s) Derrotada(s):

      Proposta(s) Expirada(s):

      ```

      Aqui podemos ver que nossa proposta `convidar test-member` tem um ID de 71 e está no estado pendente. Neste estado,
      [desafiantes](/pt/pdao/pdao#challenge-process) podem disputar a validade da
      árvore Merkle-sum (usada para calcular o poder de voto) fornecida pelo proponente. Quando `proposal.vote.delay.time` terminar,
      a proposta fará a transição para as fases de votação ativas. Sinta-se livre para revisar o [ciclo de vida de uma
      proposta](./pdao#lifecycle-of-a-pdao-proposal) para uma atualização.
    </Tab>
    <Tab label="Visualizando Detalhes da Proposta">
      Agora que você tem o ID da proposta, você pode visualizar o status da sua proposta usando este comando:

      ```shell
      rocketpool pdao proposals details `proposal-id`
      ```

      É aqui que você pode visualizar todas as informações em relação a uma proposta específica. Por exemplo, o
      payload de execução, em que fase a proposta está, e direção do voto.

      ```
      ID da Proposta: 71
      Mensagem: convidar test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) para o conselho de segurança
      Payload: proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145)
      Payload (bytes):
      f944c19f0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000bdbcb42dd8e39323a395b2b72d2c8e7039f1f145000000000000000000000000000000000000000000000000000000000000000b746573742d6d656d626572000000000000000000000000000000000000000000
      Proposto por: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D
      Criado em: 12 Mar 24 06:15 UTC
      Estado: Pendente
      Início da votação: 12 Mar 24 06:20 UTC
      Janela de desafio: 30m0s
      Poder de voto necessário: 90943818825
      Poder de voto a favor: 0
      Poder de voto contra: 0
      Poder de voto abstenção: 0
      Poder de voto veto: 0
      Nó votou: não
      ```

      <p className="rspress-directive tip">
        <p className="rspress-directive-title">NOTA</p>
        O estado desta proposta de exemplo é `Pendente`. Isso indica que a proposta pode ser desafiada, antes de
        passar para `Ativa (Fase 1)`. Nenhuma votação pode ocorrer durante o estado `Pendente`.
      </p>
    </Tab>

  </Tabs>
</div>

## Votando em uma Proposta

Durante um período de votação, **Operadores de Nó** e **Delegados** podem votar com uma das quatro opções:

```
1. Abstenção: O poder de voto do votante é contribuído para o quórum mas não é nem a favor nem contra a proposta.
2. A Favor: O votante vota a favor da proposta ser executada.
3. Contra: O votante vota contra a proposta ser executada.
4. Veto: O votante vota contra a proposta bem como indicando que considera a proposta como spam ou maliciosa.
```

O seu poder de voto será aplicado à opção da sua escolha. O poder de voto é uma função do "effective RPL stake."
Uma leitura mais detalhada pode ser encontrada no
[repositório rocketpool-research](https://github.com/rocket-pool/rocketpool-research/blob/master/Protocol%20DAO/kane/pDAO%20Replacement/pDAO.md#overview-of-on-chain-voting).

::: tip NOTA
Se você é um operador de nó com poder de voto delegado, você deve votar durante a fase de votação 1 para que o poder de voto delegado
conte para a proposta. O seu voto na fase 1 valerá o seu poder de voto local + poder de voto delegado. O seu voto na fase 2 vale o seu poder de voto local apenas. Por favor, tenha em mente que um nó pode votar uma vez e
apenas uma vez em uma proposta, então escolha com cuidado.
:::

Use este comando para votar:

```shell
rocketpool pdao proposals vote
```

Você será solicitado a selecionar uma proposta para votar se houver pelo menos uma proposta em uma fase de votação ativa.
O menu deve exibir todas as propostas nas quais o seu nó é elegível para votar:

```
1: proposta 71 (mensagem: 'convidar test-member', payload: proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145), fim da fase 1: 14 Mar 24 05:40 UTC, vp necessário: 0.00, a favor: 0.00, contra: 0.00, abstenção: 0.00, veto: 0.00, proposto por: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D)
2: proposta 72 (mensagem: 'substituir langers-not-his-eoa (0xaC1396c21Eaf6630113516C69d63b7CB59B98b3E) no conselho de segurança por tpan (0x6E9E4Cc0A8172349E049128574E1fb85B8D3CE9E)', payload: proposalSecurityReplace(0xaC1396c21Eaf6630113516C69d63b7CB59B98b3E,tpan,0x6E9E4Cc0A8172349E049128574E1fb85B8D3CE9E), fim da fase 1: 14 Mar 24 05:40 UTC, vp necessário: 0.00, a favor: 0.00, contra: 0.00, abstenção: 0.00, veto: 0.00, proposto por: 0xe2fC31d61E28BB16c0857D4682AB3616FA7A793d)
3: proposta 73 (mensagem: 'definir proposal.vote.delay.time', payload: proposalSettingUint(rocketDAOProtocolSettingsProposals,proposal.vote.delay.time,60), fim da fase 1: 14 Mar 24 05:41 UTC, vp necessário: 0.00, a favor: 0.00, contra: 0.00, abstenção: 0.00, veto: 0.00, proposto por: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D)
```

Depois de selecionar uma opção, você será perguntado como deseja votar.

```
Como você gostaria de votar na proposta?
1: Abstenção
2: A Favor
3: Contra
4: Veto
```

Selecionar uma opção exibirá então o seu poder de voto, e então solicitará que você envie a transação:

```
Seu poder de voto atual: 20123617964

+============== Preços de Gas Sugeridos ==============+
| Tempo Médio de Espera |  Taxa Máxima  |    Custo Total de Gas    |
| 15 Segundos    | 76 gwei   | 0.0176 a 0.0265 ETH |
| 1 Minuto      | 56 gwei   | 0.0127 a 0.0190 ETH |
| 3 Minutos     | 56 gwei   | 0.0127 a 0.0190 ETH |
| >10 Minutos   | 56 gwei   | 0.0127 a 0.0190 ETH |
+==================================================+
Estes preços incluem uma taxa de prioridade máxima de 2.00 gwei.
Por favor, insira a sua taxa máxima (incluindo a taxa de prioridade) ou deixe em branco para o padrão de 56 gwei:
```

Você votou com sucesso na proposta uma vez que a transação é incluída no bloco! Neste ponto, você pode usar
`rocketpool pdao proposal details <proposal-id>` para visualizar o estado da proposta. Uma proposta precisa alcançar
`proposal.quorum` **poder de voto necessário** e uma maioria **poder de voto a favor** para ser bem-sucedida.

```
Poder de voto necessário:  140970562215
Poder de voto a favor:       197980809837
Poder de voto contra:   0
Poder de voto abstenção: 0
Poder de voto veto:   0
Nó votou:         A Favor
```

Para o exemplo acima passar, o poder de voto precisa exceder um quórum de `140970562215` poder de voto. Há
`197980809837` poder de voto a favor e nenhum voto contra ou abstenção. A proposta está pronta para o sucesso e pronta
para
execução até o fim de `proposal.vote.phase2.time`.

## Executando uma Proposta Bem-Sucedida

Parabéns! Sua proposta passou! Agora tudo o que resta fazer é executar a proposta. Tenha em mente que qualquer pessoa
pode
ser o executor de uma proposta. Para executar uma proposta bem-sucedida, digite o comando:

```shell
rocketpool pdao execute
```

Selecionar uma opção irá solicitá-lo a enviar uma transação. Uma vez que esta transação seja incluída em um bloco, a mudança
será
aplicada ao protocolo Rocket Pool!

```
Por favor, selecione uma proposta para executar:
1: Todas as propostas disponíveis
2: proposta 71 (convidar test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) para o conselho de segurança)',
proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145)
```

## Reivindicando Garantias e Recompensas

Proponentes ou Desafiantes podem reivindicar suas garantias após a conclusão de uma proposta. Dependendo do resultado de uma proposta,
um
Proponente ou Desafiante pode ou não ser capaz de reivindicar sua `proposal.bond` e `proposal.challenge.bond`.

Aqui estão algumas regras que ditam as condições nas quais garantias podem ser reivindicadas:

- Se uma proposta for derrotada, o proponente perde sua garantia que é dividida proporcionalmente entre os desafiantes
  que contribuíram para a derrota da proposta. Todos os outros desafiantes recebem apenas sua garantia de volta.
- Contribuir para a derrota de uma proposta significa que um desafiante submeteu um índice que foi posteriormente provado ser
  incorreto
  pela incapacidade do proponente de responder a um desafio. É possível que haja múltiplos índices incorretos mas apenas
  aqueles que resultaram na derrota da proposta compartilham a recompensa. Todos os outros desafiantes recebem apenas sua garantia de volta.
- Se um desafiante desafiar um nó, o proponente responder, e a proposta não for derrotada. O proponente pode
  reivindicar as garantias de desafio dos desafios inválidos.
- Se uma proposta for derrotada, o proponente perde sua garantia que é dividida proporcionalmente entre os desafiantes
  que contribuíram para a derrota da proposta.

Use este comando para reivindicar garantias:

```shell
rocketpool pdao claim-bonds
```

Isso exibirá todas as propostas das quais você é elegível para reivindicar garantias. Você pode reivindicar garantias de uma proposta especificada, ou pode reivindicar garantias e recompensas de todas as propostas elegíveis.

```
Por favor, selecione uma proposta para desbloquear garantias / reivindicar recompensas de:
1: Todas as propostas disponíveis
2: Proposta 42 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
3: Proposta 43 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
4: Proposta 44 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
5: Proposta 46 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
6: Proposta 47 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
7: Proposta 48 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
8: Proposta 49 (proponente: verdadeiro, desbloqueável: 21.00 RPL, recompensas: 0.00 RPL)
```

Uma vez que você tenha selecionado uma opção, você será solicitado com as recomendações de custos de gas atuais da rede; confirme a sua
seleção de preço de gas e siga o resto dos prompts.

```
+============== Preços de Gas Sugeridos ==============+
| Tempo Médio de Espera |  Taxa Máxima  |    Custo Total de Gas    |
| 15 Segundos    | 26 gwei   | 0.1591 a 0.2387 ETH |
| 1 Minuto      | 21 gwei   | 0.1261 a 0.1891 ETH |
| 3 Minutos     | 21 gwei   | 0.1261 a 0.1891 ETH |
| >10 Minutos   | 21 gwei   | 0.1261 a 0.1891 ETH |
+==================================================+

Estes preços incluem uma taxa de prioridade máxima de 2.00 gwei.
Por favor, insira a sua taxa máxima (incluindo a taxa de prioridade) ou deixe em branco para o padrão de 21 gwei:


Usando uma taxa máxima de 21.00 gwei e uma taxa de prioridade de 2.00 gwei.
Tem certeza de que deseja reivindicar garantias e recompensas de 7 propostas? [y/n]
```

Note que se você selecionar a primeira opção para reivindicar todas as propostas disponíveis, elas serão executadas individualmente e não
como uma transação.

## Criando um Gasto Recorrente do Tesouro

Você precisará preparar alguns inputs para criar um gasto recorrente do tesouro:

- Um nome de contrato
- O endereço do destinatário
- Quantidade de RPL a enviar por período
- O tempo de início para o pagamento recorrente (como um timestamp UNIX)
- A duração de cada período de pagamento em horas / minutos / segundos (por exemplo, 168h0m0s)
- Número de períodos de pagamento

::: tip INFO
O destinatário precisará anotar o nome do contrato para reivindicar pagamentos. Não se preocupe, pois esta
informação está armazenada e pode ser recuperada usando o comando `rocketpool pdao proposals details <proposal-id>`
:::

Para levantar uma proposta para configurar um gasto recorrente do tesouro, use o seguinte comando smartnode e siga os prompts:

```shell
rocketpool pdao propose recurring-spend
```

Aqui está como tudo fica junto:

```
Por favor, insira um nome de contrato para este pagamento recorrente:
test-recurring-spend

Por favor, insira um endereço de destinatário para este pagamento recorrente:
0x681B8BBf08708e64694005c7Dc307b381b4D1A7D

Por favor, insira uma quantidade de RPL a enviar para 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D por período:
1

Seu valor será multiplicado por 10^18 para ser usado nos contratos, o que resulta em:

[1000000000000000000]

Por favor, certifique-se de que isso é o que você quer e não tem erros de ponto flutuante.

Este resultado está correto? [y/n]
y

Por favor, insira o tempo em que o pagamento recorrente começará (como um timestamp UNIX):
1717935233

O timestamp fornecido corresponde a 2024-06-09 12:13:53 +0000 UTC - isso está correto? [y/n]
y

Por favor, insira a duração de cada período de pagamento em horas / minutos / segundos (por exemplo, 168h0m0s):
720h

Por favor, insira o número total de períodos de pagamento:
24
```

Uma vez que você tenha inserido todos os inputs necessários, uma proposta para criar um pagamento recorrente será levantada. Quando a pDAO
passar e executar esta proposta, o destinatário é alocado `1 RPL` começando em `2024-06-09 12:13:53 +0000 UTC`
a cada
`720 horas` para um total de `24 pagamentos`.

## Reivindicando um Gasto Recorrente do Tesouro

Reivindicar pagamentos recorrentes deve ser bem simples! Navegue até a nossa ferramenta frontend
[aqui](https://node.rocketpool.net/claim-recurring-payments) para fazê-lo. Se você está experimentando isso em
Hoodi
testnet, use [este](https://testnet.node.rocketpool.net/stake-rpl-on-behalf-of-node) link em vez disso.

Uma vez que você esteja no site, clique no botão **conectar carteira**. Por favor, leia e aceite os Termos de Serviço &
Política de Privacidade, isso habilitará diferentes formas de conectar, então clique em conectar **metamask**.

O MetaMask irá solicitá-lo a selecionar uma conta para conectar ao site. Depois de ter entrado, você precisará inserir o
**nome do contrato**. Fazer isso exibirá todos os detalhes relevantes. Certifique-se de verificar duas vezes o endereço do destinatário.
Qualquer pessoa pode chamar a função de reivindicação, mas cada contrato de pagamento terá um destinatário designado para dispersar
RPL
para.

<img src="./images/claim_recurring1.png" width="100%" height="auto" />

Você pode reivindicar os seus pagamentos a qualquer momento, você apenas receberá o total de RPL não reivindicado até o período mais recente.
Alternativamente, você pode esperar até que todos os períodos tenham passado para coletar tudo de uma vez e economizar em gas.

Basta apertar o grande botão laranja de reivindicação quando estiver pronto e revisar a transação no metamask (ou sua carteira preferida). Uma vez feito isso, está tudo pronto!
