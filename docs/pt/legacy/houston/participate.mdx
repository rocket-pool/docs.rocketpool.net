import { Tab, Tabs } from "@rspress/core/theme";

# Participando de Propostas On-Chain do pDAO

Qualquer nó com poder de voto diferente de zero pode criar ou participar de uma proposta do pDAO a qualquer momento. As propostas podem ser de um dos
seguintes tipos:

- Alteração de configurações do pDAO
- Gastos únicos do tesouro
- Gastos recorrentes do tesouro (comitês de gestão)
- Membros do conselho de segurança

Para maior detalhamento e fundamentação, consulte [tipos de proposta](https://rpips.rocketpool.net/RPIPs/RPIP-33#proposal-types).
É importante entender que uma proposta do pDAO é uma entidade on-chain que existe para executar mudanças no nível do
protocolo.

## Processo de Governança

Uma proposta deve ser prevista pelo processo de governança antes de chegar on-chain.

Mudanças no protocolo Rocket Pool são propostas, votadas e executadas usando um processo de governança rigoroso, porém transparente. O processo começa com uma discussão informal de uma ideia dentro da comunidade do Discord. Essa ideia então
progride para discussões formais no canal [#governance](https://discordapp.com/channels/405159462932971535/774497904559783947) no Discord e
no [Fórum DAO](https://dao.rocketpool.net/), onde passa por pesquisa completa, modelagem e análise em
preparação para uma [Proposta de Melhoria do Rocket Pool (RPIP)](https://rpips.rocketpool.net/). Em seguida, um rascunho de RPIP
é preparado e revisado por revisores designados de RPIP para garantir sua qualidade e prontidão para apresentação ao DAO.
O rascunho da proposta é então apresentado ao DAO no fórum para revisão adicional, feedback e incorporação de quaisquer
mudanças necessárias. Depois que a proposta foi refinada com base no feedback da comunidade, uma enquete é criada no fórum do DAO para
avaliar a prontidão para finalizar o texto da RPIP. Se a enquete for aprovada, indicando aprovação da comunidade, a RPIP é marcada como
final e pronta para uma votação do Protocol DAO, que é conduzida via Snapshot para determinar se a proposta deve ser
implementada.

A partir daqui, o Oracle DAO criará uma proposta on-chain. Existe uma janela na qual o Protocol DAO, Oracle DAO e
a comunidade podem revisar a proposta. Se houver consenso, a proposta é executada e as mudanças são aplicadas ao
protocolo.

Uma representação visual útil deste processo pode ser encontrada no
[site do Rocket Pool](https://rocketpool.net/governance/process).

## Pré-requisito

Por favor, leia o [ciclo de vida de uma proposta](../houston/pdao#lifecycle-of-a-pdao-proposal) antes de prosseguir. Isso explicará
as diferenças entre todos os períodos de votação e as ações que podem ser tomadas durante cada período.

O restante desta página o guiará pelas etapas necessárias para participar de propostas on-chain do pDAO.

## Inicializando a Votação

Se você é um operador de nó que se registrou antes da atualização Houston, precisa inicializar a votação para desbloquear o poder
de voto. Tenha em mente que ter pelo menos um minipool é um requisito para ter poder de voto.

```shell
rocketpool pdao initialize-voting
```

Este comando exibirá o prompt abaixo. Por favor, leia com atenção:

```
Obrigado por inicializar seu poder de voto!

Você tem duas opções:

1. Votar diretamente (delegar poder de voto para si mesmo)
   Isso permitirá que você vote diretamente em propostas,
   permitindo que você molde pessoalmente a direção do protocolo.

2. Delegar seu voto
   Isso delegará seu poder de voto para alguém em quem você confia,
   dando a essa pessoa o poder de votar em seu nome. Você terá a opção de substituir.

Você pode ver uma lista de delegados públicos existentes em https://delegates.rocketpool.net,
no entanto, você pode delegar para qualquer endereço de nó.

Saiba mais sobre como tudo isso funciona em: /pt/legacy/houston/participate#participating-in-on-chain-pdao-proposals

Por favor, digite `direct` ou `delegate` para continuar:
```

- Se você responder com `direct`, o poder de voto será inicializado para o seu nó e você poderá votar diretamente em
  propostas do Protocol DAO.
- Se você responder com `delegate`, terá a oportunidade de economizar um pouco de gas inicializando a votação
  e [definindo um delegado](../houston/participate#delegating-voting-power) na mesma transação.

Você só precisa fazer isso uma vez. Ele configura as informações de snapshot iniciais para um nó. Depois de inicializar a votação,
cada ação tomada atualizará as informações de snapshot do seu nó. Uma vez que seu poder de voto esteja inicializado, você pode verificar
quanto você tem usando o seguinte comando do smartnode:

```shell
rocketpool pdao status
```

:::tip NOTA
Sempre que uma nova proposta é criada, uma árvore de votação representando um snapshot do poder de voto da rede e informações de delegados
é criada em conjunto com a nova proposta. Isso significa que o poder de voto do seu nó não será incluído em uma proposta se
ela foi criada antes de você inicializar a votação. `rocketpool pdao status` exibirá o poder de voto do seu nó no
último bloco, que pode ou não ser representativo do seu poder de voto em uma proposta específica.
:::

## Inicialização Automática do Poder de Voto

A versão `1.13.8` do Smartnode introduz um novo recurso **Auto Initialize Vote Power**, que foi projetado para inicializar automaticamente
o poder de voto em nós que ainda não o fizeram. O poder de voto inicializado automaticamente é auto-delegado.
Este recurso pode ser configurado nas configurações do Smartnode executando `rocketpool service config` e navegando até a seção **Smartnode and TX Fees**.

<img src="./images/auto_init_vp.png" width="100%" height="auto" />

O **Auto-Init Vote Power Gas Threshold** é um limite (em gwei) para esta transação automática. Você pode desativar esta
tarefa definindo o limite como 0. Sinta-se à vontade para desativar se o seu nó foi registrado após a atualização Houston ou se
o poder de voto já está habilitado.

## Definindo seu Endereço de Sinalização do Snapshot

Definir seu endereço de sinalização do Snapshot permitirá que você participe de votações do Snapshot em um navegador ou dispositivo móvel
sem ter que expor as chaves do nó a uma carteira quente.

Há algumas coisas para preparar:

- O endereço do seu nó
- Um endereço que você deseja usar para votação no snapshot (endereço de sinalização)

Você estará assinando uma mensagem dizendo que o endereço do seu nó pode delegar para o novo endereço. Esta mensagem declara sua
intenção de usar o endereço da sua carteira como um endereço de sinalização do Snapshot.

Selecione qual rede você está usando em uma das abas abaixo.

<div className="p-3">
  <Tabs>
    <Tab label="Hoodi Testnet">Se você está experimentando isso na testnet Hoodi, pode assinar nesta página: https://testnet.node.rocketpool.net/signalling-address</Tab>
    <Tab label="Mainnet">Se você está pronto para configurar isso na mainnet, vá aqui: https://node.rocketpool.net/signalling-address</Tab>
  </Tabs>
</div>

:::danger AVISO
Não carregue a chave privada do seu nó em uma carteira quente. Por favor, escolha outra conta para ser seu endereço de sinalização.
Depois de definir o endereço de sinalização, você pode usá-lo para votar no Snapshot com o poder de voto do seu nó.
:::

Comece **conectando o endereço que você deseja usar como endereço de sinalização** ao site usando MetaMask,
WalletConnect ou qualquer um dos outros métodos que o site suporta. Você será apresentado a este diálogo para procurar
o endereço do seu nó.

Em seguida, você inserirá o endereço do seu nó e clicará no botão laranja "Find". Isso verificará se o endereço é um nó registrado
e então o levará para a próxima etapa.

:::tip DICA
**Certifique-se de ter o endereço de nó correto antes de fazer isso!** Se precisar confirmar o endereço do seu nó, você pode
recuperá-lo rapidamente via CLI usando o comando `rocketpool node status`.
:::

Depois de fazer login e confirmar o endereço do seu nó, você verá seu **endereço de sinalização do Snapshot**. Deve ser o
mesmo da conta em que você entrou no site. Verifique novamente se isso está correto antes de prosseguir. Quando estiver
confiante de que está logado na conta desejada, clique no botão laranja "Sign Message". Você verá um prompt no
seu aplicativo de extensão de carteira para assinar a seguinte mensagem:

```
`snapshot signalling address` may delegate to me for Rocket Pool governance
```

Assinar não custará nenhum gas, mas definir custará. Depois de assinar, o frontend fornecerá um comando para colar no
smartnode. Vá em frente e cole-o no CLI do seu smartnode e siga as etapas solicitadas. O comando deve ser
algo assim:

```shell
rocketpool pdao set-signalling-address
`snapshot signalling address`
`EIP712 signature`
```

Se você ver esta mensagem no seu CLI, está tudo pronto!

```
The node's signalling address was successfully set to `snapshot signalling address`
```

:::tip DICA
Não se preocupe se fechar acidentalmente o site ou perder o comando. Você pode simplesmente repetir as etapas e **assinar
novamente usando o mesmo endereço de nó e endereço de sinalização**. O frontend usa `signer.Signmessage()` da biblioteca ethers,
o que significa que sua assinatura é determinística dado a mesma entrada.
Clique [aqui](https://docs.ethers.org/v6/api/providers/#cid_865) para saber mais.
:::

Limpar seu endereço de sinalização é bem fácil, basta usar este comando no CLI:

```shell
rocketpool pdao clear-signalling-address
```

## Permitindo Bloqueio de RPL

Você pode ignorar esta etapa se estiver interessado apenas em votar em uma proposta. Permitir o bloqueio de RPL é necessário apenas para
aqueles que desejam propor ou contestar uma proposta.

O bloqueio de RPL é necessário para propor e contestar. Por padrão, o bloqueio de RPL para qualquer finalidade estará desabilitado. Os operadores de nó
optarão por realizar atividades de governança habilitando o bloqueio de RPL de seu nó ou endereço de
retirada primário. Você pode fazer isso usando este comando no Smartnode:

```shell
rocketpool node allow-rpl-locking
```

Isso solicitará que você permita o bloqueio de RPL ao criar ou contestar propostas de governança. Por outro lado, você pode
usar o seguinte comando para desativar o bloqueio de RPL:

```shell
rocketpool node deny-rpl-locking
```

::: tip NOTA
O RPL bloqueado age da mesma forma que o RPL stake regular para fins de recompensas, votação e requisitos de garantia.
O RPL bloqueado não é contado para os limites de retirada de RPL.
:::

## Delegando Poder de Voto

Um operador de nó pode optar por delegar seu poder de voto para outro operador de nó. O único requisito é que seu
delegado seja um nó registrado.

Para delegar poder de voto on-chain para outro nó, use o seguinte comando:

```shell
rocketpool pdao set-voting-delegate `address`
```

::: tip NOTA
Se você delegou seu poder de voto para outro operador de nó, pode redefinir isso definindo o endereço do delegado para
o endereço do seu próprio nó.
:::

- Durante a fase 1 de uma proposta: **Votantes** e **Delegados** podem votar em uma proposta.
- Durante a fase 2 de uma proposta: **Operadores de Nó** que delegaram seu voto têm a oportunidade de anular o
  voto de seu Delegado, se discordarem.

Se você é um operador de nó com poder de voto delegado, deve votar durante a fase de votação 1 para que o poder de voto delegado
conte para a proposta. Seu voto na fase 1 valerá seu **poder de voto local + poder de voto delegado**. Seu voto na fase 2 vale apenas seu **poder de voto local**.

## Criando uma Proposta

Para ser elegível para propor, um nó deve atender a alguns requisitos:

- Incluído no snapshotting (seja [inicializando a votação](../houston/participate#initializing-voting) ou
  registrando-se após Houston)
- Deve ter pelo menos um minipool
- Tem poder de voto diferente de zero
- Permitiu [bloqueio de RPL](../houston/participate#allowing-rpl-locking)
- Tem um stake de RPL (menos qualquer RPL já bloqueado) maior que o bond da proposta

Propostas existem para alterar parâmetros e executar código no nível do protocolo! Deve haver discussão e consenso
através do processo de [governança](../houston/participate#governance-process) antes que uma proposta seja criada on chain.

Use o comando `rocketpool pdao propose` para exibir um menu de opções

```
COMMANDS:
   rewards-percentages, rp      Propor atualização das porcentagens de alocação de recompensas RPL para operadores de nó, Oracle DAO e Protocol DAO
   one-time-spend, ots          Propor um gasto único do tesouro do Protocol DAO
   recurring-spend, rs          Propor um gasto recorrente do tesouro do Protocol DAO
   recurring-spend-update, rsu  Propor uma atualização para um plano de gasto recorrente existente
   security-council, sc         Modificar o conselho de segurança
   setting, s                   Fazer uma proposta de configuração do Protocol DAO
```

Cada um desses comandos solicitará uma lista de entradas para criar a proposta desejada. Neste guia, convidaremos
um nó para o conselho de segurança como exemplo. Para criar uma proposta para convidar um nó para o conselho de segurança, você usaria o comando:

```shell
rocketpool pdao propose security-council invite
```

Tenha em mente que esta etapa terá alguma variação leve dependendo do tipo de proposta. Este comando específico:
`rocketpool pdao propose security-council invite` solicitará que você insira um ID seguido de um endereço de membro.

```
Please enter an ID for the member you'd like to invite: (no spaces)
test-member

Please enter the member's address:
0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145

... gas estimations ...

Are you sure you want to propose inviting test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) to the security council? [y/n]
```

Depois que isso for incluído em um bloco, uma proposta do pDAO será criada! A proposta entrará no
[período de atraso de voto](../houston/pdao#vote-delay-period) após a criação.

## Visualizando o Estado de uma Proposta

Toda proposta recebe um `proposalID`. Neste caso, nossa proposta para convidar `0xBdbc...` para o conselho de segurança é
representada com `ID 71`. Existem algumas maneiras de visualizar o estado da proposta. Um método exibirá uma lista de
cada proposta do pdao junto com seu estado (pendente, bem-sucedida, executada, etc). O segundo método exibe detalhes aprofundados
sobre uma proposta específica.

<div className="p-3">
  <Tabs>
    <Tab label="Visualizando uma Lista de Propostas">
      Para listar todas as propostas, use o seguinte comando:

      ```shell
      rocketpool pdao proposals list
      ```

      Isso exibirá uma lista de todas as propostas e seu estado

      ```
      1 Pending proposal(s):

      71: invite test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) to the security council - Proposed by:
      0x681B8BBf08708e64694005c7Dc307b381b4D1A7D

      Succeeded proposal(s):

      Executed proposal(s):

      Destroyed proposal(s):

      Quorum not Met proposal(s):

      Defeated proposal(s):

      Expired proposal(s):

      ```

      Aqui podemos ver que nossa proposta `invite test-member` tem um ID de 71 e está no estado pendente. Neste estado,
      [contestadores](/pt/legacy/houston/pdao#challenge-process) podem contestar a validade do
      merkle pollard (usado para calcular o poder de voto) fornecido pelo proponente. Quando `proposal.vote.delay.time` terminar,
      a proposta passará para as fases de votação ativas. Sinta-se à vontade para revisar [ciclo de vida de uma
      proposta](../houston/pdao#lifecycle-of-a-pdao-proposal) para uma atualização.
    </Tab>
    <Tab label="Visualizando Detalhes da Proposta">
      Agora que você tem o ID da proposta, pode visualizar o status da sua proposta usando este comando:

      ```shell
      rocketpool pdao proposals details `proposal-id`
      ```

      É aqui que você pode visualizar todas as informações relacionadas a uma proposta específica. Por exemplo, o
      payload de execução, em qual fase a proposta está e a direção do voto.

      ```
      Proposal ID: 71
      Message: invite test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) to the security council
      Payload: proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145)
      Payload (bytes):
      f944c19f0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000bdbcb42dd8e39323a395b2b72d2c8e7039f1f145000000000000000000000000000000000000000000000000000000000000000b746573742d6d656d626572000000000000000000000000000000000000000000
      Proposed by: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D
      Created at: 12 Mar 24 06:15 UTC
      State: Pending
      Voting start: 12 Mar 24 06:20 UTC
      Challenge window: 30m0s
      Voting power required: 90943818825
      Voting power for: 0
      Voting power against: 0
      Voting power abstained: 0
      Voting power against: 0
      Node has voted: no
      ```

      <p className="rspress-directive tip">
        <p className="rspress-directive-title">NOTA</p>
        O estado desta proposta de amostra é `Pending`. Isso indica que a proposta pode ser contestada, antes de
        passar para `Active (Phase 1)`. Nenhuma votação pode ocorrer durante o estado `Pending`.
      </p>
    </Tab>

  </Tabs>
</div>

## Votando em uma Proposta

Durante um período de votação, **Operadores de Nó** e **Delegados** podem votar com uma das quatro opções:

```
1. Abstain: O poder de voto do votante é contribuído para o quórum, mas não é nem a favor nem contra a proposta.
2. For: O votante vota a favor da execução da proposta.
3. Against: O votante vota contra a execução da proposta.
4. Veto: O votante vota contra a proposta, além de indicar que considera a proposta como spam ou maliciosa.
```

Seu poder de voto será aplicado à opção de sua escolha. O poder de voto é uma função do "effective RPL stake."
Uma leitura mais detalhada pode ser encontrada no
[repositório rocketpool-research](https://github.com/rocket-pool/rocketpool-research/blob/master/Protocol%20DAO/kane/pDAO%20Replacement/pDAO.md#overview-of-on-chain-voting).

::: tip NOTA
Se você é um operador de nó com poder de voto delegado, deve votar durante a fase de votação 1 para que o poder de voto delegado
conte para a proposta. Seu voto na fase 1 valerá seu poder de voto local + poder de voto delegado. Seu voto na fase 2 vale apenas seu poder de voto local. Tenha em mente que um nó pode votar apenas uma vez em uma proposta, então escolha com cuidado.
:::

Use este comando para votar:

```shell
rocketpool pdao proposals vote
```

Você será solicitado a selecionar uma proposta para votar se houver pelo menos uma proposta em uma fase de votação ativa.
O menu deve exibir todas as propostas nas quais seu nó é elegível para votar:

```
1: proposal 71 (message: 'invite test-member', payload: proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145), phase 1 end: 14 Mar 24 05:40 UTC, vp required: 0.00, for: 0.00, against: 0.00, abstained: 0.00, veto: 0.00, proposed by: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D)
2: proposal 72 (message: 'replace langers-not-his-eoa (0xaC1396c21Eaf6630113516C69d63b7CB59B98b3E) on the security council with tpan (0x6E9E4Cc0A8172349E049128574E1fb85B8D3CE9E)', payload: proposalSecurityReplace(0xaC1396c21Eaf6630113516C69d63b7CB59B98b3E,tpan,0x6E9E4Cc0A8172349E049128574E1fb85B8D3CE9E), phase 1 end: 14 Mar 24 05:40 UTC, vp required: 0.00, for: 0.00, against: 0.00, abstained: 0.00, veto: 0.00, proposed by: 0xe2fC31d61E28BB16c0857D4682AB3616FA7A793d)
3: proposal 73 (message: 'set proposal.vote.delay.time', payload: proposalSettingUint(rocketDAOProtocolSettingsProposals,proposal.vote.delay.time,60), phase 1 end: 14 Mar 24 05:41 UTC, vp required: 0.00, for: 0.00, against: 0.00, abstained: 0.00, veto: 0.00, proposed by: 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D)
```

Após selecionar uma opção, você será questionado sobre como deseja votar.

```
How would you like to vote on the proposal?
1: Abstain
2: In Favor
3: Against
4: Veto
```

Selecionar uma opção exibirá seu poder de voto e, em seguida, solicitará que você envie a transação:

```
Your current voting power: 20123617964

+============== Suggested Gas Prices ==============+
| Avg Wait Time |  Max Fee  |    Total Gas Cost    |
| 15 Seconds    | 76 gwei   | 0.0176 to 0.0265 ETH |
| 1 Minute      | 56 gwei   | 0.0127 to 0.0190 ETH |
| 3 Minutes     | 56 gwei   | 0.0127 to 0.0190 ETH |
| >10 Minutes   | 56 gwei   | 0.0127 to 0.0190 ETH |
+==================================================+
These prices include a maximum priority fee of 2.00 gwei.
Please enter your max fee (including the priority fee) or leave blank for the default of 56 gwei:
```

Você votou com sucesso na proposta depois que a transação for incluída no bloco! Neste ponto, você pode usar
`rocketpool pdao proposal details <proposal-id>` para visualizar o estado da proposta. Uma proposta precisa atingir
**poder de voto necessário** de `proposal.quorum` e uma maioria de **poder de voto a favor** para ser bem-sucedida.

```
Voting power required:  140970562215
Voting power for:       197980809837
Voting power against:   0
Voting power abstained: 0
Voting power against:   0
Node has voted:         In Favor
```

Para o exemplo acima passar, o poder de voto precisa exceder um quórum de `140970562215` poder de voto. Há
`197980809837` poder de voto a favor e nenhum voto contra ou abstenção. A proposta está pronta para o sucesso e pronta
para execução até o final de `proposal.vote.phase2.time`.

## Executando uma Proposta Bem-Sucedida

Parabéns! Sua proposta foi aprovada! Agora tudo o que resta fazer é executar a proposta. Tenha em mente que qualquer pessoa
pode
ser o executor de uma proposta. Para executar uma proposta bem-sucedida, digite o comando:

```shell
rocketpool pdao execute
```

Selecionar uma opção solicitará que você envie uma transação. Uma vez que esta transação seja incluída em um bloco, a mudança será
aplicada ao protocolo Rocket Pool!

```
Please select a proposal to execute:
1: All available proposals
2: proposal 71 (invite test-member (0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145) to the security council)',
proposalSecurityInvite(test-member,0xBdbcb42DD8E39323a395B2B72d2c8E7039f1F145)
```

## Reivindicando Bonds e Recompensas

Proponentes ou Contestadores podem reivindicar seus bonds após a conclusão de uma proposta. Dependendo do resultado de uma proposta,
um Proponente ou Contestador pode ou não ser capaz de reivindicar seu `proposal.bond` e `proposal.challenge.bond`.

Aqui estão algumas regras que ditam as condições nas quais os bonds podem ser reivindicados:

- Se uma proposta for derrotada, o proponente perde seu bond que é dividido proporcionalmente entre os contestadores
  que contribuíram para a derrota da proposta. Todos os outros contestadores recebem apenas seu bond de volta.
- Contribuir para a derrota de uma proposta significa que um contestador enviou um índice que mais tarde foi provado ser
  incorreto pela incapacidade do proponente de responder a um desafio. É possível que existam múltiplos índices incorretos, mas apenas
  aqueles que resultaram na derrota da proposta compartilham a recompensa. Todos os outros contestadores recebem apenas seu bond de volta.
- Se um contestador desafiar um nó, o proponente responder e a proposta não for derrotada, o proponente pode
  reivindicar os bonds de desafio dos desafios inválidos.
- Se uma proposta for derrotada, o proponente perde seu bond que é dividido proporcionalmente entre os contestadores
  que contribuíram para a derrota da proposta.

Use este comando para reivindicar bonds:

```shell
rocketpool pdao claim-bonds
```

Isso exibirá todas as propostas das quais você é elegível para reivindicar bonds. Você pode reivindicar bonds de uma
proposta especificada, ou pode reivindicar bonds e recompensas de todas as propostas elegíveis.

```
Please select a proposal to unlock bonds / claim rewards from:
1: All available proposals
2: Proposal 42 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
3: Proposal 43 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
4: Proposal 44 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
5: Proposal 46 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
6: Proposal 47 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
7: Proposal 48 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
8: Proposal 49 (proposer: true, unlockable: 21.00 RPL, rewards: 0.00 RPL)
```

Depois de selecionar uma opção, você receberá as recomendações de custos de gas atuais da rede; confirme sua
seleção de preço de gas e siga o restante dos prompts.

```
+============== Suggested Gas Prices ==============+
| Avg Wait Time |  Max Fee  |    Total Gas Cost    |
| 15 Seconds    | 26 gwei   | 0.1591 to 0.2387 ETH |
| 1 Minute      | 21 gwei   | 0.1261 to 0.1891 ETH |
| 3 Minutes     | 21 gwei   | 0.1261 to 0.1891 ETH |
| >10 Minutes   | 21 gwei   | 0.1261 to 0.1891 ETH |
+==================================================+

These prices include a maximum priority fee of 2.00 gwei.
Please enter your max fee (including the priority fee) or leave blank for the default of 21 gwei:


Using a max fee of 21.00 gwei and a priority fee of 2.00 gwei.
Are you sure you want to claim bonds and rewards from 7 proposals? [y/n]
```

Observe que se você selecionar a primeira opção para reivindicar todas as propostas disponíveis, elas serão executadas individualmente e não
como uma transação.

## Criando um Gasto Recorrente do Tesouro

Você precisará preparar algumas entradas para criar um gasto recorrente do tesouro:

- Um nome de contrato
- O endereço do destinatário
- Quantidade de RPL a ser enviada por período
- A hora de início para o pagamento recorrente (como um timestamp UNIX)
- A duração de cada período de pagamento em horas / minutos / segundos (por exemplo, 168h0m0s)
- Número de períodos de pagamento

::: tip INFO
O destinatário precisará anotar o nome do contrato para reivindicar os pagamentos. Não se preocupe, pois esta
informação está armazenada e pode ser recuperada usando o comando `rocketpool pdao proposals details <proposal-id>`
:::

Para criar uma proposta de configuração de gasto recorrente do tesouro, use o seguinte comando do smartnode e siga os prompts:

```shell
rocketpool pdao propose recurring-spend
```

Aqui está como tudo fica junto:

```
Please enter a contract name for this recurring payment:
test-recurring-spend

Please enter a recipient address for this recurring payment:
0x681B8BBf08708e64694005c7Dc307b381b4D1A7D

Please enter an amount of RPL to send to 0x681B8BBf08708e64694005c7Dc307b381b4D1A7D per period:
1

Your value will be multiplied by 10^18 to be used in the contracts, which results in:

[1000000000000000000]

Please make sure this is what you want and does not have any floating-point errors.

Is this result correct? [y/n]
y

Please enter the time that the recurring payment will start (as a UNIX timestamp):
1717935233

The provided timestamp corresponds to 2024-06-09 12:13:53 +0000 UTC - is this correct? [y/n]
y

Please enter the length of each payment period in hours / minutes / seconds (e.g., 168h0m0s):
720h

Please enter the total number of payment periods:
24
```

Depois de inserir todas as entradas necessárias, uma proposta para criar um pagamento recorrente será criada. Quando o pDAO
aprovar e executar esta proposta, o destinatário receberá `1 RPL` começando em `2024-06-09 12:13:53 +0000 UTC`
a cada
`720 horas` por um total de `24 pagamentos`.

## Reivindicando um Gasto Recorrente do Tesouro

Reivindicar pagamentos recorrentes deve ser bem simples! Navegue até nossa ferramenta frontend
[aqui](https://node.rocketpool.net/claim-recurring-payments) para fazer isso. Se você está experimentando isso na testnet
Hoodi, use [este](https://testnet.node.rocketpool.net/stake-rpl-on-behalf-of-node) link.

Quando estiver no site, clique no botão **connect wallet**. Por favor, leia e aceite os Termos de Serviço &
Política de Privacidade, isso habilitará diferentes maneiras de se conectar, depois clique em connect **metamask**.

O MetaMask solicitará que você selecione uma conta para se conectar ao site. Depois de fazer login, você precisará inserir
o **nome do contrato**. Fazer isso exibirá todos os detalhes relevantes. Certifique-se de verificar novamente o endereço
do destinatário. Qualquer pessoa pode chamar a função de reivindicação, mas cada contrato de pagamento terá um destinatário designado para dispersar
RPL.

<img src="./images/claim_recurring1.png" width="100%" height="auto" />

Você pode reivindicar seus pagamentos a qualquer momento, você receberá apenas o RPL total não reivindicado até o período mais recente.
Alternativamente, você pode esperar até que todos os períodos tenham passado para coletar tudo de uma vez e economizar em gas.

Basta apertar o grande botão laranja de reivindicação quando estiver pronto e revisar a transação no metamask (ou sua carteira preferida). Depois que isso for feito, está tudo pronto!
