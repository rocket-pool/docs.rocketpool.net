# Oracle DAOノードの監視

ノードが起動して実行されたら、自動化された職務を正しく実行していることを確認するために、定期的にその健全性を監視することが重要です。
これには次のことが含まれます。

- OSレベルでの物理（または仮想）システムの健全性の監視
- 実行クライアントおよび/またはコンセンサスクライアント（ローカルクライアントを実行している場合）の健全性の監視
- ステータス更新のためにノードがチェーンに必要なトランザクションを定期的に送信していることの確認
- それらのトランザクションを実行するためにノードウォレットに十分なETH残高があることの確認
- Smartnode、クライアント（該当する場合）、およびオペレーティングシステムへの更新を定期的に適用すること
- 他のOracle DAOメンバーの健全性を監視し、そのノードが正しく機能していないと思われる場合は彼らと連絡を取ること

このセクションでは、Smartnodeの組み込み[Grafana](https://grafana.com/)サポートを介してこれらを行う方法のいくつかの例を説明します。

## 標準Rocket Poolダッシュボード

Smartnodeは、上記の多くのメトリクスを監視できる便利なダッシュボードを提供します。
各コンセンサスクライアントに1つのダッシュボードがあります。
以下はNimbusのダッシュボードの例です。

![](../node-staking/images/nimbus-dashboard.png)

- マシンのハードウェアの健全性は左上の象限に表示されます。
- 左下の象限のネットワーク統計が入力されている場合、実行クライアントは正常に機能しています。
- 右上の象限のピア数がゼロ以外の数値で更新されている場合、コンセンサスクライアントは正常に機能しています。正確な数値は、選択したクライアントとネットワーク構成によって異なります。
- ノードのETH残高は右下のテーブルに表示されます。
- オペレーティングシステムの更新またはSmartnodeの更新は、上部中央パネルの`Available Updates`ボックスに表示されます。

::: tip 注意
オペレーティングシステムとSmartnodeの更新には、`rocketpool service install-update-tracker`でインストールできる更新トラッカーが必要です。
:::

メトリクスシステムとSmartnodeダッシュボードの準備方法については、Smartnodeドキュメントの[ノードのパフォーマンスの監視](../node-staking/performance)および[Grafanaダッシュボードのセットアップ](../node-staking/grafana.mdx)ページをご覧ください。

## Oracle DAOダッシュボード

また、Oracle DAOメンバー向けに特別に調整されたシンプルなダッシュボードも構築しました。

![](../odao/images/odao-dashboard.png)

このダッシュボードは次のものを追跡します。

- 投票または実行が必要なOracle DAOプロポーザルのステータス（次のセクションで詳細を説明します）
- 価格および残高更新の送信履歴\*
- 各Oracle DAOノードのETH残高

\*_現在、価格と残高の送信には51%のノードのクォーラムが各送信に同意する必要があり、その時点で送信が正規化されることに注意してください。他のメンバーからの送信は不要になったため、リバートされます。したがって、特定の間隔でノードが送信しない場合でも、オフラインであることを意味するわけではありません。5回以上連続して間隔を見逃した場合は注意が必要であり、`watchtower`デーモンログを確認して問題がないことを確認する必要があります。_

このダッシュボードを有効にするのは2段階のプロセスです。

まず、`rocketpool service config`エディターの`Metrics`セクションでOracle DAOメトリクスを有効にします。

![](../odao/images/tui-odao-metrics.png)

DockerまたはHybridモードで実行している場合、これにより`node`デーモンが再起動され、変更が適用されます。
ネイティブモードで実行している場合は、`node`サービスを手動で再起動してください。

次に、Grafana Labs（ID `15003`）から[Oracle DAOダッシュボード](https://grafana.com/grafana/dashboards/15003-odao-member-dashboard/)をノードのローカルGrafanaサーバーにインポートします。

## ログの確認

あなたまたは他のOracle DAOメンバーの1人があなたのノードに懸念を表明している場合、最初の防御線は（DockerおよびHybridモードの場合）次のコマンドを使用して`watchtower`デーモンログを確認することです。

```shell
rocketpool service logs watchtower
```

これにより、watchtowerコンテナの`docker`ログが表示され、最後の100行程度に切り捨てられます。

さらに前に戻るには、`-t`フラグを使用して行数を指定できます。
例えば:

```shell
rocketpool service logs watchtower -t 2000
```

は最後の2000行を表示します。
これはすぐに乱雑になるため、スクロール可能にするために`less`のようなユーティリティにパイプすることをお勧めします。

## 次のステップ

次のセクションでは、Oracle DAOメンバーとして手動で実行する必要がある職務について説明します。
