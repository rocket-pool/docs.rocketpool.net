import { Tab, Tabs } from "@rspress/core/theme";

# Rocket Pool starten

Zu diesem Zeitpunkt sollten Sie die vollständige Rocket Pool-Infrastruktur laufen haben, einschließlich des Smartnode-Stacks, eines Execution- und eines Consensus-Clients.
Sie sollten auch Ihr Betriebssystem gegen externe Angreifer gehärtet haben.
Wenn Sie beide Schritte abgeschlossen haben, sind Sie bereit, einen Rocket Pool-Node zu erstellen und mit dem Staking zu beginnen.
Falls nicht, überprüfen Sie bitte die vorherigen Abschnitte und kehren Sie hierher zurück, sobald Sie diese Schritte abgeschlossen haben.

## Starten und Stoppen der Rocket Pool-Dienste

<div className="p-3">
  <Tabs>
    <Tab label="Docker (Standard) Modus">
      Nachdem Sie den Smartnode installiert haben, ist das Starten des Stacks einfach.
      Geben Sie einfach den folgenden Befehl ein:

      ```shell
      rocketpool service start
      ```

      Dieser Befehl erstellt alle notwendigen Docker-Images, falls sie noch nicht existieren, stellt sicher, dass das Rocket Pool Docker-Netzwerk und die Speicher-Volumes initialisiert wurden, und aktualisiert alle Container, falls sie nicht mehr mit den Konfigurationseinstellungen aus der Benutzeroberfläche von `rocketpool service config` übereinstimmen.

      Das erste Mal sollte die Ausgabe so aussehen:

      ```
      $ rocketpool service start

      Creating network "rocketpool_net" with the default driver
      Creating volume "rocketpool_eth1clientdata" with default driver
      Creating volume "rocketpool_eth2clientdata" with default driver
      Creating rocketpool_eth1 ...
      Creating rocketpool_eth1 ... done
      Creating rocketpool_eth2 ...
      Creating rocketpool_api  ...
      Creating rocketpool_api  ... done
      Creating rocketpool_eth2 ... done
      Creating rocketpool_watchtower ...
      Creating rocketpool_mev-boost   ...
      Creating rocketpool_mev-boost   ... done
      Creating rocketpool_node       ...
      Creating rocketpool_validator  ...
      Creating rocketpool_validator  ... done
      Creating rocketpool_node       ... done
      Creating rocketpool_watchtower ... done
      ```

      Wenn dies der Fall ist, wurde der Smartnode-Stack erfolgreich initialisiert und läuft jetzt.

      Wenn Sie die Dienste jemals stoppen müssen (z. B. während eines Upgrades oder weil Sie Wartungsarbeiten durchführen müssen), können Sie `rocketpool service stop` verwenden, um alles herunterzufahren.
      Die Ausgabe sollte so aussehen:

      ```
      $ rocketpool service stop

      Are you sure you want to pause the Rocket Pool service? Any staking minipools will be penalized! [y/n]
      y

      Stopping rocketpool_node       ...
      Stopping rocketpool_validator  ...
      Stopping rocketpool_watchtower ...
      Stopping rocketpool_mev-boost  ...
      Stopping rocketpool_eth2       ...
      Stopping rocketpool_api        ...
      Stopping rocketpool_eth1       ...
      Stopping rocketpool_validator  ... done
      Stopping rocketpool_node       ... done
      Stopping rocketpool_watchtower ... done
      Stopping rocketpool_api        ... done
      Stopping rocketpool_mev-boost  ... done
      Stopping rocketpool_eth2       ... done
      Stopping rocketpool_eth1       ... done
      ```

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">HINWEIS</p>
        Sobald Sie dies aufrufen, wird Rocket Pool nach einem Systemneustart **nicht** automatisch starten.
        Sie müssen `rocketpool service start` aufrufen, um alle Docker-Container zu starten und den automatischen Start beim Neustart wieder zu aktivieren.
      </p>
    </Tab>
    <Tab label="Hybrid-Modus">
      Nachdem Sie den Smartnode installiert haben, ist das Starten des Stacks einfach.
      Geben Sie einfach den folgenden Befehl ein:

      ```shell
      rocketpool service start
      ```

      Dieser Befehl erstellt alle notwendigen Docker-Images, falls sie noch nicht existieren, stellt sicher, dass das Rocket Pool Docker-Netzwerk und die Speicher-Volumes initialisiert wurden, und aktualisiert alle Container, falls sie nicht mehr mit den Konfigurationseinstellungen aus der Benutzeroberfläche von `rocketpool service config` übereinstimmen.

      Das erste Mal sollte die Ausgabe so aussehen:

      ```
      $ rocketpool service start

      Creating network "rocketpool_net" with the default driver
      Creating rocketpool_api  ...
      Creating rocketpool_api  ... done
      Creating rocketpool_watchtower ...
      Creating rocketpool_node       ...
      Creating rocketpool_validator  ...
      Creating rocketpool_validator  ... done
      Creating rocketpool_node       ... done
      Creating rocketpool_watchtower ... done
      ```

      Wenn dies der Fall ist, wurde der Smartnode-Stack erfolgreich initialisiert und läuft jetzt.

      Beachten Sie, dass Ihre externen Execution- und/oder Consensus-Clients hier nicht aufgeführt werden, da Rocket Pool sie nicht verwaltet und sie daher nicht starten kann.
      Sie müssen sicherstellen, dass Sie sie separat gestartet haben, mit welchem Mechanismus Sie sie ursprünglich erstellt haben.

      Wenn Sie die Dienste jemals stoppen müssen (z. B. während eines Upgrades oder weil Sie Wartungsarbeiten durchführen müssen), können Sie `rocketpool service stop` verwenden, um alles herunterzufahren.
      Die Ausgabe sollte so aussehen:

      ```
      $ rocketpool service stop

      Are you sure you want to pause the Rocket Pool service? Any staking minipools will be penalized! [y/n]
      y

      Stopping rocketpool_node       ...
      Stopping rocketpool_validator  ...
      Stopping rocketpool_watchtower ...
      Stopping rocketpool_api        ...
      Stopping rocketpool_validator  ... done
      Stopping rocketpool_node       ... done
      Stopping rocketpool_watchtower ... done
      Stopping rocketpool_api        ... done
      ```

      Auch hier sind Sie dafür verantwortlich, manuell sicherzustellen, dass Ihre Execution- und Consensus-Clients entsprechend gestoppt werden, falls Sie möchten, dass sie gestoppt werden.

      <p className="rspress-directive tip">
        <p className="rspress-directive-title">HINWEIS</p>
        Sobald Sie dies aufrufen, wird Rocket Pool nach einem Systemneustart nicht automatisch starten.
        Sie müssen `rocketpool service start` aufrufen, um alle Docker-Container zu starten und den automatischen Start beim Neustart wieder zu aktivieren.
      </p>

    </Tab>
    <Tab label="Native-Modus">
      Im Native-Modus haben Sie die Smartnode-Dienste bereits als Teil des Abschnitts [Konfigurieren eines nativen Rocket Pool-Nodes ohne Docker](./native) eingerichtet und gestartet.

      Angenommen, Sie haben sie als `systemd`-Dienste eingerichtet, können Sie sie mit `sudo systemctl start ...` starten.
      Zum Beispiel, wenn Sie Geth für Execution und Teku für Consensus verwenden:

      ```shell
      sudo systemctl start geth teku-bn teku-vc rp-node rp-watchtower
      ```

      Das Stoppen erfolgt auf die gleiche Weise, aber mit `sudo systemctl stop ...`.

      Beachten Sie, dass das Stoppen der Dienste **den Autostart nicht deaktiviert**; die Prozesse werden nach einem Neustart automatisch gestartet.

    </Tab>

  </Tabs>
</div>

## Bestätigung der korrekten Version und des Netzwerks

Sobald die Container oder Dienste laufen, ist es ein guter erster Schritt zu bestätigen, dass Sie die korrekten Versionen der Clients haben und sich im erwarteten Netzwerk befinden.
Sie können dies mit dem folgenden Befehl tun:

```shell
rocketpool service version
```

Die Ausgabe sieht so aus **(beachten Sie, dass Sie möglicherweise eine neuere Version haben als hier angezeigt, dies ist nur ein Beispiel)**:

```
Your Smartnode is currently using the Ethereum Mainnet.

Rocket Pool client version: 1.6.4
Rocket Pool service version: 1.6.4
Selected Eth 1.0 client: Geth (Locally managed)
Image: ethereum/client-go:v1.10.25
Selected Eth 2.0 client: Lighthouse (Locally managed)
Image: sigp/lighthouse:v3.1.0
```

Die erste Zeile zeigt Ihnen, ob Ihr Smartnode für das Ethereum-Mainnet oder für das Hoodi-Testnetzwerk konfiguriert ist.

::: warning HINWEIS
**Für Docker / Hybrid-Benutzer:**
Wenn Sie sich nicht im erwarteten Netzwerk befinden, gehen Sie zurück zum Abschnitt Installation von Rocket Pool und überprüfen Sie die Installationsanweisungen - möglicherweise haben Sie den Teil übersehen, der unterschiedliche Anweisungen je nach gewünschtem Netzwerk enthält.

**Für Native-Benutzer:**
Wenn Sie die Standardeinstellungen akzeptiert haben, als Sie `rp service config` zum ersten Mal ausgeführt haben, ist es möglich, dass das hier angezeigte Netzwerk falsch ist.
Wechseln Sie es einfach in der TUI von `rp service config` im Abschnitt `Smartnode` zum richtigen Netzwerk und starten Sie Ihre `node`- und `watchtower`-Dienste neu.
:::

Die zweite Gruppe von Zeilen zeigt Ihnen, welche Clients Sie verwenden und welche Versionen davon in der Rocket Pool-Konfiguration definiert sind.

## Überprüfung des Dienststatus und der Logs

Nachdem die Smartnode-Dienste gestartet wurden, ist es eine gute Idee zu überprüfen, dass sie ohne Fehler korrekt laufen.

<div className="p-3">
  <Tabs>
    <Tab label="Docker (Standard) Modus">
      Das erste, was zu überprüfen ist, ist, ob die Docker-Container gut laufen oder ob sie aufgrund eines Fehlers ständig neu starten.
      Führen Sie den folgenden Befehl aus:

      ```shell
      docker ps
      ```

      Die Ergebnisse sollten so aussehen:

      ```
      CONTAINER ID   IMAGE                         COMMAND                  CREATED       STATUS      PORTS                                                                                                         NAMES
      4c1de08a352b   prom/prometheus:v2.37.0       "/bin/prometheus --w…"   9 days ago    Up 9 days   9090/tcp                                                                                                      rocketpool_prometheus
      56940decdd1f   sigp/lighthouse:v2.5.1        "sh /setup/start-bn.…"   9 days ago    Up 9 days   0.0.0.0:9001->9001/tcp, 0.0.0.0:9001->9001/udp, :::9001->9001/tcp, :::9001->9001/udp                          rocketpool_eth2
      bd061e632535   grafana/grafana:8.5.9         "/run.sh"                9 days ago    Up 9 days   3000/tcp, 0.0.0.0:3100->3100/tcp, :::3100->3100/tcp                                                           rocketpool_grafana
      5c4db92762fb   ethereum/client-go:v1.10.21   "sh /setup/start-ec.…"   9 days ago    Up 9 days   8545-8546/tcp, 0.0.0.0:30303->30303/tcp, 0.0.0.0:30303->30303/udp, :::30303->30303/tcp, :::30303->30303/udp   rocketpool_eth1
      e20c560861fc   rocketpool/smartnode:v1.5.0   "/bin/sleep infinity"    9 days ago    Up 9 days                                                                                                                 rocketpool_api
      4cf8d364fb90   rocketpool/smartnode:v1.5.0   "/go/bin/rocketpool …"   9 days ago    Up 9 days                                                                                                                 rocketpool_watchtower
      9eb944c29997   rocketpool/smartnode:v1.5.0   "/go/bin/rocketpool …"   9 days ago    Up 9 days                                                                                                                 rocketpool_node
      2ca5d3dcb471   sigp/lighthouse:v2.5.1        "sh /setup/start-vc.…"   9 days ago    Up 9 days                                                                                                                 rocketpool_validator
      dedc577fe361   prom/node-exporter:v1.3.1     "/bin/node_exporter …"   2 weeks ago   Up 9 days                                                                                                                 rocketpool_exporter
      ```

      Das Wichtigste zu überprüfen ist die Spalte `STATUS`.
      Wenn keine der Einträge `Restarting...` anzeigt, sollten die Container ordnungsgemäß laufen (siehe Hinweis unten für eine Ausnahme bezüglich des `rocketpool_validator`-Containers).


      <p className="rspress-directive warning">
        <p className="rspress-directive-title">HINWEIS</p>
        Wenn Sie Prysm oder Lodestar als Ihren Consensus-Client verwenden, werden Sie wahrscheinlich feststellen, dass der `rocketpool_validator`-Container ständig neu startet.
        Das ist in Ordnung!
        Der Validator-Container wird fehlschlagen, bis ein neuer Validator mit dem Befehl `rocketpool node deposit` erstellt wurde, was wir im Abschnitt [Erstellen eines Minipools (Validator)](./create-validator) behandeln werden.
        Sobald dies erledigt ist, wird der Container korrekt funktionieren - bis dahin ignorieren Sie ihn einfach.
      </p>

      Dennoch kann es nützlich sein, die Logs der verschiedenen Dienste zu überprüfen.

      Um die Logs zu überprüfen, verwenden Sie den Befehl `rocketpool service logs container`, wobei `container` entweder `eth1`, `eth2`, `validator`, `api`, `node` oder `watchtower` ist.

      Um beispielsweise die Logs für Ihren ETH1-Client zu überprüfen:

      ```
      $ rocketpool service logs eth1

      Attaching to rocketpool_eth1
      eth1_1        | INFO [06-17|05:17:19.052] Imported new block receipts              count=25   elapsed=26.651ms    number=247,000   hash=6583ec..35eb1c age=2y3mo2w  size=15.72KiB
      eth1_1        | INFO [06-17|05:17:19.098] Imported new block headers               count=192  elapsed=18.515ms    number=247,551   hash=b7d5e4..d49faf age=2y3mo2w
      eth1_1        | INFO [06-17|05:17:19.334] Imported new block receipts              count=371  elapsed=46.450ms    number=247,371   hash=dd3240..1ed173 age=2y3mo2w  size=266.59KiB
      eth1_1        | INFO [06-17|05:17:19.354] Imported new state entries               count=1271 elapsed=2.866ms     processed=374,695 pending=3134  trieretry=0   coderetry=0  duplicate=0 unexpected=0
      eth1_1        | INFO [06-17|05:17:19.441] Imported new block headers               count=384  elapsed=35.331ms    number=247,935   hash=4c4dba..5bf8b6 age=2y3mo2w
      eth1_1        | INFO [06-17|05:17:19.460] Imported new block receipts              count=180  elapsed=33.648ms    number=247,551   hash=b7d5e4..d49faf age=2y3mo2w  size=128.73KiB
      eth1_1        | INFO [06-17|05:17:19.480] Imported new block headers               count=192  elapsed=19.122ms    number=248,127   hash=aa70b9..40d139 age=2y3mo1w
      eth1_1        | INFO [06-17|05:17:19.486] Imported new block receipts              count=6    elapsed=26.042ms    number=247,557   hash=fd6656..ca2439 age=2y3mo2w  size=3.77KiB
      ```

      Sie sollten dies sowohl für `eth1` als auch für `eth2` tun, um sicherzustellen, dass beide Clients ohne Fehler laufen.
    </Tab>
    <Tab label="Hybrid-Modus">
      Das erste, was zu überprüfen ist, ist, ob die Docker-Container gut laufen oder ob sie aufgrund eines Fehlers ständig neu starten.
      Führen Sie den folgenden Befehl aus:

      ```shell
      docker ps
      ```

      Die Ergebnisse sollten so aussehen:

      ```
      CONTAINER ID   IMAGE                               COMMAND                  CREATED       STATUS         NAMES
      a3c22f54eff0   rocketpool/smartnode:v1.0.0-rc3     "/go/bin/rocketpool …"   2 hours ago   Up 2 minutes   rocketpool_node
      0d5818868ef6   sigp/lighthouse:v1.4.0              "sh /setup/start-val…"   2 hours ago   Up 2 minutes   rocketpool_validator
      88bea525fa89   rocketpool/smartnode:v1.0.0-rc3     "/go/bin/rocketpool …"   2 hours ago   Up 2 minutes   rocketpool_watchtower
      62314e5a0ecf   rocketpool/smartnode:v1.0.0-rc3     "/bin/sleep infinity"    2 hours ago   Up 2 minutes   rocketpool_api
      ```

      Das Wichtigste zu überprüfen ist die Spalte `STATUS`.
      Wenn keine der Einträge `Restarting...` anzeigt, sollten die Container ordnungsgemäß laufen (siehe Hinweis unten für eine Ausnahme bezüglich des `rocketpool_validator`-Containers).

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">HINWEIS</p>
        Wenn Sie **Lodestar** oder **Prysm** als Ihren Consensus-Client verwenden, werden Sie wahrscheinlich feststellen, dass der `rocketpool_validator`-Container ständig neu startet.
        Das ist in Ordnung!
        Der Validator-Container wird fehlschlagen, bis ein neuer Validator mit dem Befehl `rocketpool node deposit` erstellt wurde, was wir im Abschnitt [Erstellen eines Minipools (Validator)](./create-validator) behandeln werden.
        Sobald dies erledigt ist, wird der Container korrekt funktionieren - bis dahin ignorieren Sie ihn einfach.
      </p>

      Dennoch kann es nützlich sein, die Logs der verschiedenen Dienste zu überprüfen.

      Um die Logs zu überprüfen, verwenden Sie den Befehl `rocketpool service logs container`, wobei `container` entweder `eth1`, `eth2`, `validator`, `api`, `node` oder `watchtower` ist.

      Sie können `eth1` und/oder `eth2` basierend darauf ignorieren, welche Sie extern verwalten, aber wenn Sie Rocket Pool einen davon verwalten lassen, sollten Sie jetzt dessen Status mit diesem Befehl überprüfen.
    </Tab>
    <Tab label="Native-Modus">
      Der einfachste Weg, den Status und die Logs im Native-Modus zu überprüfen, ist die Verwendung der Logging-Skripte, die Sie erstellt haben, als Sie die Smartnode-Dienste zum ersten Mal eingerichtet haben.

      Um beispielsweise das Geth-Log zu überprüfen, würden Sie einfach ausführen:

      ```shell
      /srv/geth/log.sh
      ```

      Sie sollten sehen, dass es langsam ohne Fehler voranschreitet.
      Tun Sie dies jetzt für Ihre Execution- und Consensus-Clients, um zu überprüfen, dass sie ordnungsgemäß funktionieren.
    </Tab>

  </Tabs>
</div>

::: tip TIPP
Wenn Sie mit dem Betrachten der Logs fertig sind, können Sie mit `Ctrl + C` beenden und zur Eingabeaufforderung zurückkehren.
:::

## Warten auf die Synchronisierung Ihrer ETH-Clients

Nachdem Ihre Clients gestartet sind, sollten Sie warten, bis Ihre Execution- und Consensus-Clients mit dem Netzwerk synchronisiert sind, bevor Sie fortfahren.

Eine einfache Möglichkeit, ihren Status zu überprüfen, ist dieser Befehl:

```shell
rocketpool node sync
```

Dieser Befehl zeigt, wie weit Ihre Execution- & Consensus-Clients im Synchronisierungsprozess sind, ähnlich wie folgt:

```shell
$ rocketpool node sync

Your Smartnode is currently using the Hoodi Test Network.

Your eth2 client is on the correct network.

Your primary execution client is fully synced.
You do not have a fallback execution client enabled.
Your consensus client is still syncing (99.69%).
```

Sie können dies gelegentlich aufrufen, um den Fortschritt Ihrer Clients zu verfolgen.

Um eine tatsächliche ETA der Synchronisierungszeit zu erhalten, ist es am einfachsten, sich die Logs für Ihre Clients mit `rocketpool service logs eth1` bzw. `rocketpool service logs eth2` anzusehen (oder die entsprechenden Log-Skript-Befehle, wenn Sie die Hybrid-/Native-Modi verwenden).
Jeder Client bietet normalerweise eine ETA zu seinem Synchronisierungsstatus in seiner Log-Ausgabe.

::: tip HINWEIS
Es kann **Tage** dauern, bis sowohl ETH1 als auch ETH2 vollständig synchronisiert sind, abhängig von Ihrer Client-Auswahl und dem Hardware-Profil Ihrer Maschine.
**Das ist zu erwarten**.
Lehnen Sie sich zurück, entspannen Sie sich und warten Sie, bis beide fertig sind.
:::

::: warning HINWEIS
Wenn Ihr Node überhaupt nicht synchronisiert oder keine Peers hat, liegt es möglicherweise daran, dass Ihr Router die Ports 30303 und 9001 blockiert. Falls sie geschlossen sind, müssen Sie Port-Weiterleitung auf Ihrem Router einrichten. Stellen Sie außerdem sicher, dass Ihr Node eine statische lokale IP-Adresse hat, damit die Port-Weiterleitung nicht aufgrund einer neuen Adresse Ihres Nodes unterbrochen wird.
:::

## Nächste Schritte

Sobald Ihre Clients synchronisiert sind, sind Sie bereit, entweder [ein neues Wallet zu erstellen](./wallet-init), wenn dies Ihr erster Node ist, oder [ein bestehendes Wallet wiederherzustellen](./recovering-rp), wenn Sie von einem Backup wiederherstellen oder von einem anderen Anbieter wie Allnodes zu Ihrer eigenen Hardware migrieren.

Wählen Sie aus, über welches Thema Sie mehr erfahren möchten, und folgen Sie den Schritten in der entsprechenden Anleitung.
