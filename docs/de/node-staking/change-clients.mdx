import tui_select_ec from "./images/tui-select-ec.png";
import tui_confirm_ec from "./images/tui-confirm-ec.png";
import tui_select_cc from "./images/tui-select-cc.png";
import tui_checkpoint_sync from "./images/tui-checkpoint-sync.png";
import tui_confirm_cc from "./images/tui-confirm-cc.png";

# Wechsel von Execution- oder Consensus-Clients

Unter normalen Umständen werden Sie wahrscheinlich nur einen Execution- und Consensus-Client auswählen, wenn Sie Ihren Rocket Pool Node zum ersten Mal erstellen, und sie für die Lebensdauer Ihres Nodes glücklich laufen lassen.
Es gibt jedoch einige Situationen, in denen Sie Ihre Client-Auswahl ändern möchten.
Hier sind ein paar Beispiele:

- Ihr Client erreicht einen [Supermajority](https://clientdiversity.org/)-Anteil auf den Execution- oder Beacon-Chains, und Sie möchten für die allgemeine Gesundheit des Netzwerks wechseln
- Ein Fehler führt dazu, dass Ihr Client nicht mehr korrekt funktioniert, und Sie müssen schnell wieder online gehen, um Validierungsaufgaben fortzusetzen
- Sie möchten eine neue Funktion ausprobieren, die ein anderer Client bietet
- Ein anderer Client ist besser für die Hardware Ihres Nodes geeignet (z.B. einige Clients sind besser auf ARM-Systemen als andere)

Glücklicherweise macht der Smartnode-Stack das Wechseln von Clients extrem einfach.
Alles, was es braucht, sind ein paar Änderungen in der Konfigurations-TUI und einige optional zusätzliche Befehle, um Ihre vorhandenen Client-Daten zu sichern, bevor Sie Clients wechseln.

## Wechsel von Execution-Clients

Bevor Sie Ihren Execution-Client wechseln, ist es erwähnenswert, die folgenden Punkte zu beachten:

- Chain-Daten **werden nicht** zwischen Clients geteilt. Ihr neuer Client muss die Mainnet-Chain-Daten neu synchronisieren, was einige Zeit dauern kann (obwohl jeder Client Snap Sync unterstützt, was die Smartnode verwendet, um das erneute Synchronisieren zu beschleunigen).
- Standardmäßig lässt die Smartnode die Chain-Daten Ihres alten Clients auf Ihrer Festplatte, falls Sie zu Ihrem alten Execution-Client zurückkehren und dort weitermachen möchten, wo Sie aufgehört haben. Sie möchten sie möglicherweise **an einen anderen Ort exportieren** und löschen, um Speicherplatz freizugeben, bevor Sie Clients wechseln, da Execution-Clients Hunderte von Gigabyte verwenden können. Wir haben unten Schritte dazu, wie dies zu tun ist.
- Während Ihr neuer Client neu synchronisiert, sind die meisten Smartnode-CLI-Funktionen offline, da sie auf den Execution-Client angewiesen sind. **Sie sollten einen Fallback-Execution-Client verfügbar haben, bevor Sie dies tun, um die Ausfallzeit Ihrer Smartnode zu mindern.**

### (Optional) Export der Datenbank Ihres Execution-Clients

Der erste Schritt im Prozess ist optional: Wenn Sie möchten, können Sie Ihre vorhandenen Chain-Daten für Ihren aktuellen Execution-Client exportieren.
Dies ermöglicht es Ihnen, wertvollen Festplattenspeicher auf Ihrem Node für Ihren neuen Execution-Client freizugeben, und Sie können die alten Chain-Daten behalten, falls Sie zum alten Client zurückkehren und dort weitermachen möchten, wo Sie aufgehört haben.

Bitte beziehen Sie sich auf den [Sicherung Ihres Nodes](./backups##sicherung-ihrer-execution-chain-daten) Leitfaden für Details.

### Ändern Sie Ihren ausgewählten Execution-Client

Um Ihren ausgewählten Client zu ändern, führen Sie `rocketpool service config` aus, um die Konfigurations-UI zu öffnen.
Navigieren Sie zum Abschnitt `Execution Client (ETH1)` und wählen Sie das `Execution Client` Dropdown:

<img src={tui_select_ec} width="100%" height="auto" />

Öffnen Sie das Dropdown mit `Enter`, verwenden Sie die Pfeiltasten, um zu Ihrem gewünschten Client zu navigieren, und drücken Sie erneut `Enter`, um die Auswahl zu bestätigen.

Beachten Sie, dass jeder Client seine eigenen einzigartigen Optionen hat, sodass Sie möglicherweise einige zusätzliche Einstellungen in diesem Bildschirm sehen, nachdem Sie einen anderen Client ausgewählt haben.
Erkunden Sie sie gerne, um zu sehen, wie sie sich auswirken.

Wenn Sie mit Ihrer Wahl zufrieden sind, drücken Sie `Esc`, um zum Hauptmenü zurückzukehren, dann `Tab`, um die Schaltfläche `Review Changes and Save` hervorzuheben.
Sie werden mit dem Überprüfungsbildschirm präsentiert, der Ihre Client-Auswahländerung zeigt:

<img src={tui_confirm_ec} width="100%" height="auto" />

Drücken Sie `Enter`, um die Änderungen zu akzeptieren, und Sie sind fertig!
Ihr neuer Execution-Client beginnt sofort mit der Synchronisierung.
Wie üblich können Sie ihn mit `rocketpool service logs eth1` verfolgen.
**Wir empfehlen Ihnen, dies zu tun, um zu überprüfen, dass es keine Fehler gibt und dass er ordnungsgemäß funktioniert.**

::: danger HINWEIS
Jetzt, da die Execution- und Consensus-Layer zusammengeführt wurden, wird das Herunterfahren Ihres Execution-Clients _auch_ Ihren Consensus-Client herunterfahren, bis Ihr Execution-Client die erneute Synchronisierung abgeschlossen hat.
Dies bedeutet, dass Ihr Node **aufhört zu attestieren und Blöcke vorzuschlagen, und er wird ETH verlieren, anstatt es zu verdienen!**

Um dies zu vermeiden und während der erneuten Synchronisierung Ihres Execution-Clients weiter zu validieren, **richten Sie bitte einen [Fallback-Node](./fallback) ein**.
:::

### (Empfohlen) Entfernen Sie Ihre alten Chain-Daten

Dies ist kein erforderlicher Schritt, aber wir **empfehlen dringend**, dass Sie die Chain-Daten von Ihrem alten Client entfernen, jetzt, da Sie zu einem neuen gewechselt haben, damit Sie Festplattenspeicher dafür freigeben können.

Um dies zu tun, führen Sie einfach den folgenden Befehl aus:

```shell
rocketpool service resync-eth1
```

Dies löscht alle Ihre Execution-Client-Daten und startet sie neu.

::: tip TIPP
Da Sie gerade einen neuen Execution-Client ausgewählt haben, wird er davon nicht betroffen sein - im Wesentlichen wird dies nur Ihre alten Chain-Daten löschen.
Sie sollten dies so bald wie möglich nach dem Wechseln von Clients tun, um unnötigen Fortschrittsverlust bei Ihrem neuen Client zu verhindern.
:::

## Wechsel von Consensus-Clients

Das Wechseln von Consensus-Clients ist sogar einfacher als bei Execution-Clients, dank [Checkpoint Sync](./config-docker#beacon-chain-checkpoint-syncing).
Diese Funktion ermöglicht es Ihnen, einen neuen Consensus-Client sofort mit dem Netzwerk zu synchronisieren, sodass es nicht notwendig ist, Ihre alten Chain-Daten zu bewahren.

Beginnen Sie mit der Verwendung der `rocketpool service config` UI und navigieren Sie zum Abschnitt `Consensus Client (ETH2)`.
Als nächstes wählen Sie das `Consensus Client` Dropdown:

<img src={tui_select_cc} width="100%" height="auto" />

Öffnen Sie das Dropdown mit `Enter`, verwenden Sie die Pfeiltasten, um zu Ihrem gewünschten Client zu navigieren, und drücken Sie erneut `Enter`, um die Auswahl zu bestätigen.

Beachten Sie, dass jeder Client seine eigenen einzigartigen Optionen hat, sodass Sie möglicherweise einige zusätzliche Einstellungen in diesem Bildschirm sehen, nachdem Sie einen anderen Client ausgewählt haben.
Erkunden Sie sie gerne, um zu sehen, wie sie sich auswirken.

Als nächstes überprüfen Sie, dass Sie einen Checkpoint-Sync-Anbieter verwenden:

<img src={tui_checkpoint_sync} width="100%" height="auto" />

Wenn Sie keinen Checkpoint-Sync-Anbieter konfiguriert haben, [können Sie dies ganz einfach mit Anweisungen von hier kostenlos tun](./config-docker#beacon-chain-checkpoint-syncing)!

Wenn Sie mit Ihrer Wahl zufrieden sind, drücken Sie `Esc`, um zum Hauptmenü zurückzukehren, dann `Tab`, um die Schaltfläche `Review Changes and Save` hervorzuheben.
Sie werden mit dem Überprüfungsbildschirm präsentiert, der Ihre Client-Auswahländerung zeigt:

<img src={tui_confirm_cc} width="100%" height="auto" />

Drücken Sie `Enter`, um die Änderungen zu akzeptieren, und Sie sind fertig!
Ihr neuer Consensus-Client beginnt sofort mit der Synchronisierung.
Wie üblich können Sie ihn mit `rocketpool service logs eth2` verfolgen.
**Wir empfehlen Ihnen, dies zu tun, um zu überprüfen, dass es keine Fehler gibt und dass er ordnungsgemäß funktioniert.**
