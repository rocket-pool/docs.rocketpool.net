import claim_rewards_gb from "./images/claim-rewards-gb.png";
import autostake from "./images/autostake.png";

# Anspruch auf Node Operator Belohnungen

Als Rocket Pool Node Operator haben Sie Anspruch auf regelmäßige Belohnungen, die in Form des RPL-Tokens und (wenn Sie in den Smoothing Pool aufgenommen sind) auch ETH bereitgestellt werden.
Dieser Abschnitt beschreibt, wie diese Belohnungen funktionieren und wie Sie sie beanspruchen können.

## Belohnungen und Checkpoints

In regelmäßigen Abständen markiert Rocket Pool einen **Checkpoint** im Netzwerk.
Derzeit erfolgen Checkpoints **alle 28 Tage**.

Bei einem neuen Checkpoint erstellt das Oracle DAO gemeinsam einen **echten Snapshot** des Zustands der Node Operators im Rocket Pool-Netzwerk, mit dem die RPL- und Smoothing Pool ETH-Belohnungen für jeden Node während dieses Intervalls ermittelt werden. Beachten Sie, dass "Bonuskommission" für Saturn 0 Minipools über Smoothing Pool Belohnungen verteilt wird (Saturn 0 Minipools sind diejenigen, die nach dem 28.10.2024 erstellt wurden und eine Vertragskommission von 5% haben).

Diese Informationen werden in einem [Merkle Tree](https://en.wikipedia.org/wiki/Merkle_tree) zusammengestellt - eine äußerst effiziente Methode, um alle Details für Smart Contracts verfügbar zu machen.
Der Merkle Tree wird in eine JSON-Datei eingebettet und auf dem [InterPlanetary File System (IPFS)](https://en.wikipedia.org/wiki/InterPlanetary_File_System) gehostet und auf [einem GitHub-Repository, das wir pflegen](https://github.com/rocket-pool/rewards-trees/), gespiegelt.

Sobald der Tree eingereicht wurde, prägen die Rocket Pool Smart Contracts neue RPL-Token und verschieben sie zusammen mit dem gesamten ETH-Guthaben des Smoothing Pools zur sicheren Aufbewahrung in den Rocket Pool-Tresor.
Sie können dann sehen, wie viele RPL- und ETH-Belohnungen Sie während dieses Intervalls verdient haben, und diese Belohnungen beanspruchen.

Das Belohnungssystem hat folgende Eigenschaften:

- Jedes Intervall ist unabhängig. Die Menge an RPL und ETH, die Sie in einem Intervall verdient haben, beeinflusst die Einnahmen für nachfolgende Intervalle nicht.
- Sie können **Belohnungen so lange ansammeln lassen**, wie Sie möchten. Sie müssen Belohnungen nicht zu einem bestimmten Zeitpunkt beanspruchen; sie werden immer für Sie verfügbar sein und immer genau die gleiche Menge an RPL und ETH bereitstellen, **unabhängig davon, wann Sie sie beanspruchen**.
- Sie können ein Intervall nach dem anderen oder **mehrere Intervalle** auf einmal beanspruchen.
- Ihre erste Anspruchstransaktion verbraucht etwa 85k Gas. Jede nachfolgende Anspruchstransaktion kostet etwa 55k Gas.
  - Wenn Sie mehrere Intervalle auf einmal beanspruchen, kostet jedes zusätzliche Intervall **6k Gas**, daher ist es am kosteneffektivsten, so viele wie möglich auf einmal zu beanspruchen.
- Sie können **einige (oder alle) Ihrer RPL-Belohnungen als Teil der Anspruchstransaktion erneut staken**, sodass alles in einer einzigen Transaktion erledigt wird (was die Gaskosten weiter reduziert).
- Derzeit **müssen alle Ihre Ansprüche auf Mainnet erfolgen**, aber wir haben die Infrastruktur, um die Möglichkeit zu schaffen, zu einem späteren Zeitpunkt auf Layer 2-Netzwerken zu beanspruchen.

Weitere Informationen darüber, wie der Merkle Tree erstellt wird und wie Belohnungen berechnet werden, [besuchen Sie bitte unser `research`-Repository und sehen Sie sich die offiziellen Spezifikationen an](https://github.com/rocket-pool/rocketpool-research/tree/master/Merkle%20Rewards%20System).
Wir haben unten eine kurze Erklärung dazu bereitgestellt.

### RPL-Belohnungen

Die aktuelle Belohnungsrate von RPL beträgt **5% Inflation pro Jahr** und Belohnungen werden alle 28 Tage ausgezahlt.
Ab dem 21.10.2024 betrug die Inflation der letzten Periode 77.533. Da 70% an Rocket Pool Node Operators verteilt werden, waren das 54.273 RPL in dieser Periode.

Dieser Betrag wird unter allen Node Operators im Netzwerk aufgeteilt, basierend auf ihrem [Node-Gewicht](https://rpips.rocketpool.net/RPIPs/RPIP-30#specification).
Node Operators erhalten den maximalen APY für gestakte RPL-Positionen im Wert von 0-15% des geliehenen ETH.
RPL-Stake über 15% des geliehenen ETH hinaus verdient weiterhin weitere Belohnungen, jedoch mit einem reduzierten marginalen APY.

Wenn zwischen der Registrierung Ihres Nodes und dem Checkpoint weniger als 28 Tage vergangen sind, werden Ihre Belohnungen in diesem ersten Belohnungsintervall **anteilig berechnet**, um dies zu berücksichtigen. Wenn Sie sich beispielsweise an Tag 14 des Intervalls registriert haben, würden Sie 50% der normalen Belohnungen erhalten.

Nach diesem ersten Intervall wird Ihr Node in nachfolgenden Intervallen lange genug registriert gewesen sein, dass Sie für alle von ihnen volle Belohnungen erhalten.

Der Befehl `rocketpool node status` zeigt Ihnen zu jedem Zeitpunkt Ihr aktuelles Besicherungsverhältnis. Dieses Besicherungsverhältnis basiert auf den Preisen zum Zeitpunkt der Ausführung des Befehls. Wenn Sie jedoch wissen möchten, wie Ihr Besicherungsverhältnis bei der nächsten Belohnungsrunde aussehen wird, befolgen Sie die nächsten Schritte:

- Führen Sie den Befehl `/when` im "random"-Kanal des [Rocketpool Discord](https://discord.com/channels/405159462932971535/405503016234385409) aus und sehen Sie, wie viele Stunden noch bis zum Beginn der nächsten Belohnungsperiode verbleiben.
- Das oDAO nimmt alle 19,2 Stunden einen Preis-Snapshot (d.h. etwa 5760 Blöcke \* 12 Sekunden, ohne verpasste Blöcke). Daher zeigt Ihnen die Überprüfung des oDAO-Preisübermittlungsvertrags in Etherscan, ob in den 19,2 Stunden vor dem im vorherigen Aufzählungspunkt genannten Zeitpunkt ein Preis-Snapshot erstellt wurde. Wenn ja, wurde der Preis-Snapshot erstellt. Wenn nicht, steht er noch aus und Sie können abschätzen, wann er stattfinden wird, indem Sie sich die letzte Runde der oDAO-Preisübermittlungen ansehen und 19,2 Stunden hinzufügen.
- Um zu überprüfen, welches RPL/ETH-Preisverhältnis vom oDAO als Snapshot für die nächste Belohnungsrunde aufgenommen wurde, überprüfen Sie den oDAO-Preisübermittlungsvertrag in Etherscan (den Sie durch Ausführen des Befehls `/get_address_of_contract contract:rocketNetworkPrices` im "random"-Kanal des Rocketpool Discord erhalten können). Öffnen Sie anschließend eine oder mehrere der von den oDAO-Mitgliedern übermittelten Transaktionen. <a href="/images/node/rewards/rewards-1.png" target="_blank"><img src="/images/node/rewards/rewards-1.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Scrollen Sie nach unten und klicken Sie im Abschnitt "More Details" auf **"+ Click to show more"** und dann auf **"Decode Input Data"**. <a href="/images/node/rewards/rewards-2.png" target="_blank"><img src="/images/node/rewards/rewards-2.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Der im Input Data-Feld angezeigte RPL-Preis (in Wei-Einheiten), geteilt durch 10^18 (um ihn in ETH-Einheiten umzurechnen), multipliziert mit der Anzahl der gestakten RPL, sollte >= 1,6 ETH (für 16 ETH Minipools) und >= 2,4 ETH (für LEB8s) sein, multipliziert mit der Anzahl der Minipools jedes Typs, die Sie betreiben. <a href="/images/node/rewards/rewards-3.png" target="_blank"><img src="/images/node/rewards/rewards-3.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Wenn Ihr Besicherungsverhältnis unter dem erforderlichen Betrag liegt, wie im vorherigen Punkt erläutert, können Sie in der Zeit zwischen dem letzten Preis-Snapshot des oDAO (siehe Aufzählungspunkt 3 oben) und dem Beginn der nächsten Belohnungsrunde (siehe Aufzählungspunkte 1 und 2 oben) zusätzliches RPL staken, um Ihren Node wieder auf ein >=10% Besicherungsverhältnis zu bringen.
- Eine Alternative zur Überprüfung der oDAO-Preisübermittlungen in Etherscan besteht darin, den "events"-Kanal des Rocketpool Discord im Auge zu behalten und innerhalb der letzten 19,2 Stunden vor Beginn der nächsten Belohnungsperiode nach der **RPL Price Update**-Nachricht vom Rocket Watch Bot (siehe Beispiel unten) zu suchen. <a href="/images/node/rewards/rewards-4.png" target="_blank"><img src="/images/node/rewards/rewards-4.png" style={{ display: "block", margin: "0 auto" }} /></a>

### Smoothing Pool ETH-Belohnungen

Zusammen mit RPL-Belohnungen wird während der Belohnungs-Checkpoints das gesamte ETH-Guthaben des Smoothing Pools verteilt.
Von der gesamten Belohnungsbilanz des Smoothing Pools wird der Prozentsatz, der den Pool-Stakern entspricht (50% für 16 ETH Minipools oder 75% für LEB8s), abzüglich der jeweiligen Node-Kommission, an den rETH-Vertrag gesendet. Dort kann er entweder 1) von Pool-Stakern, die aussteigen möchten, gegen ETH verbrannt werden, oder 2) zur Erstellung weiterer Minipools verwendet werden.
Der verbleibende Teil wird unter den berechtigten Node Operators verteilt.

Nodes, die für das Intervall in den Smoothing Pool aufgenommen sind, auch wenn nur für einen Teil der Zeit, haben Anspruch auf einen Teil des Gesamtguthabens des Smoothing Pools.
Das Guthaben wird beim Belohnungs-Checkpoint als Snapshot aufgenommen, und das Oracle DAO bestimmt den Anteil jedes berechtigten Nodes.
Der Anteil wird durch folgende Faktoren bestimmt:

- Zeit im Smoothing Pool in diesem Intervall
- Attestierungsleistung auf der Beacon Chain für jeden Minipool
- Die Kommission jedes Minipools

Wenn Sie mehr wissen möchten, lesen Sie bitte das oben verlinkte `research`-Repository für eine vollständige Aufschlüsselung der Berechnung der Belohnungen.

### (Optional) Generieren des Belohnungsbaums

Wenn ein neuer Belohnungs-Checkpoint erreicht wird, beginnt das Oracle DAO mit dem Aufbau des Belohnungsbaums für dieses Intervall.
Der Aufbau dieses Baums dauert derzeit etwa 2 Stunden, und die Belohnungen für das Intervall sind erst verfügbar, wenn der Baum erstellt und eingereicht wurde.
Sobald er verfügbar ist, lädt Ihr Node diese Datei automatisch herunter und Sie können Ihre Belohnungen für dieses Intervall ansehen und beanspruchen.

Wenn Sie den Baum lieber selbst generieren möchten, anstatt den vorbereiteten vom Oracle DAO herunterzuladen, können Sie das tun!

- Geben Sie die `rocketpool service config` TUI ein.
- Navigieren Sie zum Abschnitt `Smartnode and TX Fees`.
- Ändern Sie den `Rewards Tree Mode` von `Download` auf `Generate`.
- Wenn Ihr primärer Execution Client kein Archiv-Node ist, können Sie eine URL für einen separaten Archiv-Node im Feld `Archive-Mode EC URL` hinzufügen.
  - Dies ist erforderlich, um historische Belohnungsbäume zu generieren.
  - Der Archiv-EC wird nur zur Baumgenerierung verwendet; er wird nicht für andere Smartnode-Aufgaben verwendet.
  - [Infura](https://infura.io/product/ethereum) und [Alchemy](https://www.alchemy.com/supernode) bieten Archiv-Node-Zugriff an. **Beachten Sie, dass die kostenlosen Stufen normalerweise nicht ausreichen, um die Baumgenerierung zu bewältigen, sodass Sie eine der kostenpflichtigen Stufen benötigen.**

Jetzt erstellt Ihr Smartnode den Baum vollständig unabhängig vom Oracle DAO, nur unter Verwendung der von Ihren Execution- und Consensus-Clients bereitgestellten Daten.
Sie können es während eines Belohnungsintervall-Checkpoints mit `rocketpool service logs watchtower` beobachten.

Wenn Sie vergangene Bäume aus früheren Intervallen neu erstellen möchten, können Sie dies mit folgendem Befehl tun:

```shell
rocketpool network generate-rewards-tree
```

Folgen Sie den Anweisungen und verwenden Sie dann `rocketpool service logs watchtower`, um den Fortschritt anzuzeigen.

## Belohnungen beanspruchen

Um Ihre ausstehenden nicht beanspruchten Belohnungen anzuzeigen, führen Sie folgenden Befehl aus:

```shell
rocketpool node claim-rewards
```

Wenn Intervalle vergehen und Sie Belohnungen ansammeln, sieht die Ausgabe so aus:

<img src={claim_rewards_gb} width="100%" height="auto" />

Hier können Sie schnell sehen, wie viele Belohnungen Sie in jedem Intervall verdient haben, und entscheiden, welche Sie beanspruchen möchten.

Sie können auch einen Betrag angeben, den Sie während dieser Inanspruchnahme erneut staken möchten:

<img src={autostake} width="100%" height="auto" />

Auf diese Weise können Sie Ihre RPL-Belohnungen in einer Transaktion aufzinsen, was Gaskosten spart.

Folgen Sie einfach den Anweisungen, stellen Sie sicher, dass Ihre Node-Wallet genug ETH hat, um die Gaskosten für die Inanspruchnahme zu bezahlen, und fertig!
**Ihre Belohnungen werden an Ihre Withdrawal-Adresse gesendet.**

::: tip TIPP
Um die gesamten Belohnungen Ihres Nodes anzuzeigen, einschließlich derjenigen, die Sie bereits beansprucht haben, verwenden Sie folgenden Befehl:

```shell
rocketpool node rewards
```

Dies bietet eine Aufschlüsselung, wie viel RPL und ETH Sie bisher beansprucht haben und wie viel noch nicht beansprucht ist:

```
=== ETH ===
You have earned 8.1935 ETH from the Beacon Chain (including your commissions) so far.
You have claimed 0.0634 ETH from the Smoothing Pool.
You still have 3.4788 ETH in unclaimed Smoothing Pool rewards.

=== RPL ===
The current rewards cycle started on 27 Sep 22 21:26 EDT.
It will end on 30 Sep 22 21:26 EDT (20h35m17s from now).
You currently have 675.616380 unclaimed RPL from staking rewards.

Your estimated RPL staking rewards for this cycle: 36.851544 RPL (this may change based on network activity).
Based on your current total stake of 6615.797278 RPL, this is approximately 67.77% APR.
Your node has received 208.551820 RPL staking rewards in total.

You may claim these rewards at any time. You no longer need to claim them within this interval.
```

:::

## Execution-Layer-Belohnungen in Ihrem Fee Distributor

Wenn Sie **nicht** in den Smoothing Pool aufgenommen sind, wird der Execution-Layer-Teil Ihrer Belohnungen aus Block-Proposals (einschließlich Transaktionsgebühren und MEV) stattdessen an den [Fee Distributor](./fee-distrib-sp#fee-distributors-and-the-smoothing-pool)-Vertrag Ihres Nodes gesendet.

Um das Guthaben Ihres Fee Distributors zu überprüfen, können Sie entweder einen Chain-Explorer wie [https://etherscan.io](https://etherscan.io) verwenden oder einfach `rocketpool node status` ausführen - es wird einen Abschnitt namens **Fee Distributor and Smoothing Pool** geben, der es zeigt:

```
=== Fee Distributor and Smoothing Pool ===
The node is not opted into the Smoothing Pool.
To learn more about the Smoothing Pool, please visit /de/legacy/redstone/whats-new.html#smoothing-pool.
The node's fee distributor 0xA0bfbFC582f5814585f8455Ed6D7B620eA9a9EE4 has a balance of 1.143598 ETH.
```

### Verteilung des Guthabens

Um auf das Guthaben des Fee Distributors zuzugreifen, werden Sie es **verteilen** (daher der Name _Fee Distributor_).
Dies berechnet Ihren Anteil an den Belohnungen (basierend auf der durchschnittlichen Minipool-Kommission Ihres Nodes) und sendet ihn an die Withdrawal-Adresse Ihres Nodes; der Rest wird an den Staking Pool gesendet.

Die Verteilung kann **jederzeit** erfolgen.
Sie können auf dem Guthaben sitzen bleiben und es ansammeln lassen, wenn Sie möchten, oder es regelmäßig verteilen.

Um das Guthaben zu verteilen, führen Sie folgenden Befehl aus:

```shell
rocketpool node distribute-fees
```

Dies zeigt, wie viel an Sie und wie viel an den Staking Pool geht:

```
Your node's average commission is 15.00%.
Your fee distributor's balance of 1.143599 ETH will be distributed as follows:
 Your withdrawal address will receive 0.657569 ETH.
 rETH pool stakers will receive 0.486030 ETH.
```

Bestätigen Sie einfach den gewünschten Gaspreis und übermitteln Sie die Transaktion.
Sobald sie abgeschlossen ist, steht Ihr Anteil an den Belohnungen in der Withdrawal-Adresse Ihres Nodes zur Verfügung.
