import { Tab, Tabs } from "@rspress/core/theme";

# Oracle DAO Proposals

Zur Erinnerung: Es gibt zwei Arten von Oracle DAO Aufgaben:

1. **Automatisierte Aufgaben** - Dies sind Aufgaben im Zusammenhang mit dem routinemäßigen Betrieb von Rocket Pool, wie z.B. das Weiterleiten von Informationen von der Consensus Layer zur Execution Layer, das Berechnen verschiedener Aspekte des Protokolls off-chain und das Einreichen als Updates an die Smart Contracts. Jede davon wird automatisch vom `watchtower`-Daemon-Prozess ausgeführt und erfordert keine manuelle Intervention, solange Ihre Execution- und Consensus-Clients sowie Ihr `watchtower`-Daemon normal arbeiten. Sie haben den `watchtower`-Daemon bereits in den vorherigen Schritten eingerichtet, daher wird dieser Abschnitt sie nicht erneut behandeln.
2. **Manuelle Aufgaben** - Dies sind Aufgaben, die Ihre eigene Entscheidungsfindung und Out-of-Band-Kommunikation mit dem Rest des Oracle DAO erfordern. Dazu gehören Dinge wie die Abstimmung über Contract-Upgrades, das Ändern von Parametern und das Einladen oder Entfernen von Mitgliedern zum/vom Oracle DAO. All dies kann über die Standard-Smartnode-CLI erfolgen. Dieser Abschnitt beschreibt jede dieser Aufgaben und wie sie durchgeführt werden.

Proposals bilden den Kern Ihrer Verantwortlichkeiten außerhalb der automatisierten `watchtower`-Aufgaben.
Im Wesentlichen funktionieren sie wie folgt:

- Das kollektive Oracle DAO sollte einen bevorstehenden Proposal im Voraus ausführlich diskutieren, damit jedes Mitglied davon Kenntnis hat und versteht, was dieser Proposal beinhalten wird.
- Ein Oracle DAO Mitglied erstellt dann den Proposal über eine On-Chain-Transaktion.
- Der Proposal tritt dann in eine **Wartezeit** ein, bevor die Abstimmung beginnen kann, um weitere Diskussionen zu führen und sich eine Meinung dazu zu bilden. Dies beträgt derzeit **7 Tage** auf Mainnet.
- Nach der Wartezeit können Mitglieder über den Proposal abstimmen mittels einer einfachen Ja-oder-Nein-Abstimmung.
- Wenn ein Quorum von 51% der Oracle DAO Mitglieder auf die gleiche Weise abgestimmt hat, ist die Abstimmung abgeschlossen. Wenn 51% dem Proposal zugestimmt haben, kann er **ausgeführt** werden. Jedes Mitglied kann den Proposal ausführen, sobald er genehmigt ist.
- Ausführung bedeutet, die Änderung formal on-chain auszulösen und somit den Zustand der Kern-Rocket Pool Contracts zu ändern.

## Erstellen eines Proposals

Sobald Sie einen Proposal erstellen, tritt er in eine **Überprüfungsphase** ein, in der die anderen Mitglieder ihn sehen und diskutieren können, aber noch nicht darüber abstimmen können.
Zum Zeitpunkt des Schreibens beträgt diese derzeit **7 Tage**.

Nach der Überprüfungsphase gibt es eine **Abstimmungsphase**, in der Mitglieder entweder für den Proposal oder dagegen stimmen können.
Zum Zeitpunkt des Schreibens beträgt diese derzeit **14 Tage**.

Wenn der Proposal das Quorum erreicht, bevor er abläuft (d.h. wenn genügend Mitglieder dafür stimmen, um einen Konsens zu erreichen), wird er **verabschiedet**.
Quorum ist ein vom Oracle DAO konfigurierbarer Parameter; er ist derzeit auf mindestens **51%** des gesamten Mitgliederpools festgelegt.

Sobald eine Abstimmung verabschiedet ist, kann sie **ausgeführt** werden, wodurch ihre Änderungen wirksam werden.
Zum Zeitpunkt des Schreibens erfolgt die Ausführung **14 Tage** nachdem der Proposal verabschiedet wurde.

Der Prozess zur Erstellung eines neuen Proposals hängt von der Art des Proposals ab, den Sie erstellen möchten.
Wählen Sie einen Typ aus den Tabs unten.

<div className="p-3">
  <Tabs>
    <Tab label="Oracle DAO Mitgliederliste">
      Um die Änderung der Liste der Oracle DAO Mitglieder vorzuschlagen, verwenden Sie den Befehl `rocketpool odao propose member`, der
      die folgenden Optionen bietet:

      ```
      NAME:
      rocketpool odao propose member - Make an oracle DAO member proposal

      USAGE:
      rocketpool odao propose member command [command options] [arguments...]

      COMMANDS:
      invite, i Propose inviting a new member
      leave, l Propose leaving the oracle DAO
      kick, k Propose kicking a member

      OPTIONS:
      --help, -h show help
      ```

      #### invite

      Das Einladen eines Mitglieds erfolgt über `rocketpool odao propose member invite`, der 3 zusätzliche Argumente benötigt:

      - Die Node-Adresse zum Einladen (muss ein registrierter Rocket Pool Node sein)
      - Der Name / das Label für diesen Node
      - Die URL oder Kontaktinformationen für den Benutzer oder die Organisation, die den Node betreibt

      Zum Beispiel: Um ein neues Mitglied einzuladen, führen Sie `rocketpool odao propose member invite
      0xabcd1234abcd1234abcd1234abcd1234abcd1234 some-user user@example.com` aus.

      #### kick

      Das Entfernen eines Mitglieds aus dem Oracle DAO erfolgt über den Befehl `rocketpool odao propose member kick`.
      Sie werden aufgefordert, auszuwählen, welches Mitglied Sie entfernen möchten, und eine optionale Strafe zu verhängen (von 0 RPL bis zum
      gebundenen RPL-Betrag, derzeit 1750 RPL).
      Diese Strafe, falls angegeben, wird einen Teil der (oder die gesamte) RPL-Bond des Mitglieds verbrennen, wenn das Oracle DAO dafür stimmt, dieses
      Mitglied zu entfernen.

      #### leave

      Wenn Sie freiwillig aus dem Oracle DAO zurücktreten möchten, verwenden Sie den Befehl `rocketpool odao propose member leave`.
      Dies erstellt einen neuen Proposal, damit die anderen Mitglieder darüber abstimmen können, ob sie Ihren Rücktritt genehmigen oder nicht.
    </Tab>
    <Tab label="Oracle DAO Parameter">
      Um die Änderung der Parameter vorzuschlagen, die regeln, wie Oracle DAO Abstimmungen und Mitgliedsänderungen funktionieren, verwenden Sie den
      Befehl `rocketpool odao propose setting`, der die folgenden Optionen bietet:

      ```
      NAME:
      rocketpool odao propose setting - Make an oracle DAO setting proposal

      USAGE:
      rocketpool odao propose setting command [command options] [arguments...]

      COMMANDS:
      members-quorum, q Propose updating the members.quorum setting - takes a percent, from 0 to 100
      members-rplbond, b Propose updating the members.rplbond setting - takes an RPL amount (e.g. 5000)
      proposal-cooldown, c Propose updating the proposal.cooldown.time setting - format is e.g. 1h30m45s
      proposal-vote-timespan, v Propose updating the proposal.vote.time setting - format is e.g. 1h30m45s
      proposal-vote-delay-timespan, d Propose updating the proposal.vote.delay.time setting - format is e.g. 1h30m45s
      proposal-execute-timespan, x Propose updating the proposal.execute.time setting - format is e.g. 1h30m45s
      proposal-action-timespan, a Propose updating the proposal.action.time setting - format is e.g. 1h30m45s
      scrub-period, s Propose updating the minipool.scrub.period setting - format is e.g. 1h30m45s

      OPTIONS:
      --help, -h show help
      ```

      #### members-quorum

      Die Verwendung von `rocketpool odao propose setting members-quorum value` ändert das für die Aufgaben des Oracle DAO erforderliche Quorum,
      bevor sie als kanonisiert gelten.
      `value` kann hier eine Gleitkommazahl zwischen 0 und 100 sein, die den Prozentsatz der Mitglieder angibt, die erforderlich sind, um
      ein Quorum bei Oracle DAO Abstimmungen zu erreichen.

      ::: warning HINWEIS
      Beachten Sie, dass dies **nicht** das für automatisierte Aufgaben wie RPL-Preis- und rETH-Balance-Einreichung erforderliche Quorum betrifft;
      diese Einstellungen werden vom Protocol DAO (pDAO), _nicht_ vom Oracle DAO kontrolliert.
      :::

      #### members-rplbond

      Verwenden Sie `rocketpool odao propose setting members-rplbond value`, um den RPL-Betrag zu ändern, der als Bond für neue
      zum Oracle DAO eingeladene Mitglieder erforderlich ist.
      Beispielsweise wird durch Eingabe von `5000` für `value` der Bond auf 5000 RPL festgelegt.
      Beachten Sie, dass dies bestehende Mitglieder nicht betrifft; es betrifft nur neue Mitglieder, die nach der Änderung eingeladen werden.

      #### proposal-cooldown

      Verwenden Sie `rocketpool odao propose setting proposal-cooldown value`, um die Abklingzeit zu ändern, die ein Mitglied zwischen
      dem Einreichen von Proposals warten muss.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.

      #### proposal-vote-timespan

      Verwenden Sie `rocketpool odao propose setting proposal-vote-timespan value`, um zu ändern, wie lange eine Abstimmung existieren kann, bevor
      sie abläuft.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.

      #### proposal-vote-delay-timespan

      Verwenden Sie `rocketpool odao propose setting proposal-vote-delay-timespan value`, um zu ändern, wie lange das Oracle DAO
      warten muss, bevor es über einen neuen Proposal abstimmen kann.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.

      #### proposal-execute-timespan

      Verwenden Sie `rocketpool odao propose setting proposal-execute-timespan value`, um zu ändern, wie lange das Oracle DAO Zeit hat,
      einen Proposal nach seiner Genehmigung auszuführen (in Kraft zu setzen).
      Wenn keines der Mitglieder den Proposal während dieses Zeitfensters ausführt, wird er ablaufen und der Proposal wird
      ungültig.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.

      #### proposal-action-timespan

      Bestimmte Proposals erfordern sekundäre Aktionen, nachdem sie ausgeführt wurden, damit sie vollständig wirksam werden (wie z.B.
      das Einladen eines Mitglieds zum Beitritt, das dann tatsächlich beitritt).
      Verwenden Sie `rocketpool odao propose setting proposal-action-timespan value`, um zu ändern, wie lange diese sekundäre Aktion
      nach der Ausführung des Proposals durchgeführt werden kann.
      Der Benutzer kann diese Aktion _nach_ diesem Zeitfenster nicht mehr durchführen; wenn die Aktion nicht rechtzeitig durchgeführt wird, ist der Proposal
      im Wesentlichen ungültig.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.

      #### scrub-period

      Verwenden Sie `rocketpool odao propose setting scrub-period value`, um zu ändern, wie lange die "Scrub-Periode" dauert (die Zeit
      zwischen einem neuen minipool, der in den `prelaunch`-Status eintritt, und dem Eintritt in den `staking`-Status).
      Das Oracle DAO hat diese Zeit, um neue minipools auf den [withdrawal credentials
      exploit](https://github.com/rocket-pool/rocketpool-research/blob/master/Reports/withdrawal-creds-exploit) zu überprüfen und
      sie zu scrubben, wenn der Exploit erkannt wird, um sicherzustellen, dass rETH-Gelder nicht gestohlen werden.
      Diese Aufgabe wird automatisch vom `watchtower`-Daemon durchgeführt.
      Da die Überprüfung normalerweise in wenigen Minuten durchgeführt wird, soll dieser Wert einfach als Versicherungspuffer dienen
      für den Fall, dass das Oracle DAO aufgrund von Node-Ausfällen keinen Konsens erreichen kann; die Mitglieder haben diese Zeit,
      das Problem zu lösen und das Quorum zum Scrubben eines ausgenutzten minipools zu erreichen.

      `value` ist eine string-formatierte Zeitdauer, wie z.B. `1h30m45s` für eine Stunde, dreißig Minuten und fünfundvierzig Sekunden.
      Es akzeptiert keine Tage; für mehrere Tage verwenden Sie einfach die Gesamtzahl der Stunden.
    </Tab>
    <Tab label="Contract Upgrades">
      Contract-Upgrades liegen derzeit außerhalb des Umfangs der CLI.
      Die Transaktionen müssen manuell eingereicht werden; bitte wenden Sie sich an das Rocket Pool Team, wenn Sie lernen möchten, wie Sie
      ein Contract-Upgrade für das Netzwerk vorschlagen können.
    </Tab>

  </Tabs>
</div>

## Anzeigen von Proposals

Um eine kurze Zusammenfassung aller Proposals in der Historie des Protokolls anzuzeigen, verwenden Sie `rocketpool odao proposals list`.
Dies sortiert die Proposals nach ihrem Status und zeigt an, wer ihn vorgeschlagen hat und was er tut.

Um die Details eines bestimmten Proposals anzuzeigen, verwenden Sie `rocketpool odao proposals details value`, wobei `value` die ID des Proposals ist, den Sie anzeigen möchten.
Dies zeigt eine umfassende Aufschlüsselung der Informationen des Proposals, einschließlich wer ihn erstellt hat, wann er erstellt wurde, den Payload-Body, wie viele Mitglieder dafür gestimmt haben, wie viele Mitglieder dagegen gestimmt haben und ob Ihr Node bereits darüber abgestimmt hat oder nicht.

## Abstimmen über Proposals

Um über einen Proposal abzustimmen, verwenden Sie den folgenden Befehl:

```shell
rocketpool odao proposals vote
```

Dies bietet Ihnen einen interaktiven Dialog, der fragt, über welchen Proposal Sie abstimmen möchten und ob Sie dafür oder dagegen stimmen möchten.
Folgen Sie den Anweisungen sorgfältig, um die Abstimmung abzuschließen.

## Ausführen von Proposals

Wenn ein Proposal genügend Stimmen erhalten hat, um das Quorum zu erreichen, kann jedes Mitglied des Oracle DAO dann den Proposal _ausführen_ (seine Änderungen anwenden), indem es den folgenden Befehl verwendet:

```shell
rocketpool odao proposals execute
```

Dies bietet Ihnen einen interaktiven Dialog, der fragt, welchen Proposal Sie ausführen möchten.
Folgen Sie den Anweisungen sorgfältig, um die Ausführung abzuschließen.
