import { Tab, Tabs } from "@rspress/core/theme";
import tuiOdao from "./images/tui-odao.png";

# Oracle DAO Node'u Kurma

En azından, standart bir Rocket Pool node'u aşağıdakileri çalıştırır:

- Smartnode CLI
- Smartnode API daemon
- Smartnode `node` daemon
- Smartnode `watchtower` daemon

İsteğe bağlı olarak, node aşağıdaki bileşenleri de çalıştırabilir:

- Bir Execution Client
- Bir Beacon Node
- Bir Validator Client
- MEV-Boost
- Prometheus
- Prometheus Node Exporter
- Grafana

Bu bileşenlerin her biri standart kurulumda Docker container'ları olarak, "Native Mode" kurulumunda `systemd` servisleri olarak veya Smartnode'un ilgili API rotaları aracılığıyla bağlanabileceği harici olarak yönetilen varlıklar olarak çalıştırılabilir.

Uygun bir şekilde, Oracle DAO node'ları normal Rocket Pool node'ları ile aynıdır, ancak `watchtower` daemon ek Oracle DAO görevlerini yerine getirir ve performans izleme amaçları için daha fazla Prometheus metriği toplanır.

## İlk Node Kurulumu

Başlamanın en iyi yolu, normal bir Rocket Pool node'u için [standart kurulum talimatlarını](../node-staking/platform) takip etmektir.
Bu süreç, node'unuzu nasıl yapılandırmak ve çalıştırmak istediğinizi belirlemenize yardımcı olacaktır.

Node'unuzda minipool'lar (validator'lar) çalıştırmak istiyorsanız, lütfen normal node belgelerini baştan sona takip edin ve işiniz bittiğinde buraya geri dönün.

Minipool'lar çalıştırmayı _düşünmüyorsanız_ ve bunun yerine yalnızca Oracle DAO görevleri için kullanacaksanız, RPL stake etme ve minipool oluşturmayla ilgili tüm adımları atlayabilirsiniz.
Node kaydı, iyi bir güvenlik duruşu oluşturma, node'un sağlığını ve performansını izleme ve bir güncellemeden sonra Smartnode'u güncelleme gibi diğer adımlar hala sizin için geçerlidir ve devam etmeden önce bunları dikkatle incelemelisiniz.
İşiniz bittiğinde buraya geri dönün.

## Ek Oracle DAO Yapılandırması

Oracle DAO sorumluluklarınızı yerine getirmek için sağlamanız gereken iki ek ayar vardır.
Lütfen node'unuzu yapılandırmak için kullandığınız modu aşağıdaki sekmelerden seçin.

<div className="p-3">
  <Tabs>
    <Tab label="(service config) Etkileşimli UI">
      `rocketpool service config` TUI'yi açın ve `Smartnode and TX Fees` bölümüne gidin.
      Burada, altta iki seçenek göreceksiniz:

      <img src={tuiOdao} width="100%" height="auto"/>

      `Archive-Mode EC URL`, Arşiv Execution Client'ınız için RPC API'sinin HTTP uç noktası olmalıdır.
      **Harici Olarak Yönetilen modda birincil istemciniz olarak zaten Arşiv EC'nizi kullanıyorsanız, bu ayarı görmezden gelebileceğinizi unutmayın.**
    </Tab>
    <Tab label="(service config) Başsız">

      Node'unuzu başsız yapılandırmak için aşağıdaki komutu çalıştırın:

      ```shell
      rocketpool service config --smartnode-archiveECUrl "http://your Archive EC URL"
      ```

      Burada:

      `--smartnode-archiveECUrl`, Arşiv Execution Client'ınız için RPC API'sinin HTTP uç noktası olmalıdır.
      **Harici Olarak Yönetilen modda birincil istemciniz olarak zaten Arşiv EC'nizi kullanıyorsanız, bu ayarı görmezden gelebileceğinizi unutmayın.**

      Son olarak, ayarların etkili olması için `watchtower` daemon'unuzu yeniden başlatın (örneğin, Docker veya Hybrid modda `docker restart rocketpool_watchtower` ile veya Native modda `sudo systemctl restart rp_watchtower` ile).
    </Tab>
    <Tab label="Doğrudan Config Dosyası">
      Smartnode dizininizdeki (`~/.rocketpool` varsayılan olarak) `user-settings.yml` dosyasını bir metin düzenleyicide açın.
      `smartnode` bölümüne gidin:

      ```
      smartnode:
      archiveECUrl: http://your Archive EC URL
      dataPath: /home/user/.rocketpool/data
      manualMaxFee: "0"
      minipoolStakeGasThreshold: "150"
      network: mainnet
      priorityFee: "2"
      projectName: rocketpool
      rewardsTreeMode: generate
      ```

      `archiveECUrl` alanındaki değerleri değiştirin, burada:

      `archiveECUrl`, Arşiv Execution Client'ınız için RPC API'sinin HTTP uç noktası olmalıdır.
      **Harici Olarak Yönetilen modda birincil istemciniz olarak zaten Arşiv EC'nizi kullanıyorsanız, bu ayarı görmezden gelebileceğinizi unutmayın.**

      Son olarak, ayarların etkili olması için `watchtower` daemon'unuzu yeniden başlatın (örneğin, Docker veya Hybrid modda `docker restart rocketpool_watchtower` ile veya Native modda `sudo systemctl restart rp_watchtower` ile).
    </Tab>

  </Tabs>
</div>

## Oracle DAO Smartnode Komutları

Smartnode CLI'nin `odao` komut grubu, Oracle DAO contract'ları ve görevleriyle zincir üstünde etkileşim kurmak için kullanılır:

```
NAME:
   rocketpool odao - Manage the Rocket Pool oracle DAO

USAGE:
   rocketpool odao command [command options] [arguments...]

COMMANDS:
   status, s             Get oracle DAO status
   members, m            Get the oracle DAO members
   member-settings, b    Get the oracle DAO settings related to oracle DAO members
   proposal-settings, a  Get the oracle DAO settings related to oracle DAO proposals
   minipool-settings, i  Get the oracle DAO settings related to minipools
   propose, p            Make an oracle DAO proposal
   proposals, o          Manage oracle DAO proposals
   join, j               Join the oracle DAO (requires an executed invite proposal)
   leave, l              Leave the oracle DAO (requires an executed leave proposal)

OPTIONS:
   --help, -h  show help
```

### status

`status` komutu, Oracle DAO hakkında üye sayısı ve teklif sayısı gibi birkaç ayrıntıyı özetler:

```
The node is a member of the oracle DAO - it can create unbonded minipools, vote on DAO proposals and perform watchtower duties.

There are currently 8 member(s) in the oracle DAO.

There are 29 oracle DAO proposal(s) in total:
- 22 proposal(s) have passed and been executed
- 7 proposal(s) were cancelled, defeated, or have expired
```

### members

`members` komutu, Oracle DAO'nun her üyesi hakkında kullanıcı adı, iletişim bilgileri, node adresi, RPL bond'u ve oylama için bir teklif gönderdikleri son zaman dahil olmak üzere ayrıntılı bilgi yazdırır:

```
The oracle DAO has 8 members:

--------------------

Member ID:            kermit-2
URL:                  https://www.rocketpool.net
Node address:         0x04ddB06D1429578691F630B67A53916445DA38bE
Joined at:            31 Jul 21 23:32 EDT
Last proposal:        27 Sep 22 21:18 EDT
RPL bond amount:      5000.000000
Unbonded minipools:   0
...
```

### member-settings

`member-settings`, Oracle DAO üyeliğiyle ilgili yapılandırılabilir parametrelerin her biri için mevcut değerleri gösterir:

```
ODAO Voting Quorum Threshold: 51.000000%
Required Member RPL Bond: 1750.000000 RPL
Max Number of Unbonded Minipools: 250
Consecutive Challenge Cooldown: 300 Blocks
Challenge Meeting Window: 900 Blocks
Cost for Non-members to Challenge Members: 1.000000 ETH
```

Bu komut [Oracle DAO Teklifleri](./proposals) bölümünde daha ayrıntılı olarak açıklanmıştır.

### proposal-settings

`proposal-settings`, Oracle DAO'nun oy kullanabileceği tekliflerle ilgili yapılandırılabilir parametrelerin her biri için mevcut değerleri gösterir:

```
Cooldown Between Proposals: 1h0m0s
Proposal Voting Window: 168h0m0s
Delay Before Voting on a Proposal is Allowed: 15m0s
Window to Execute an Accepted Proposal: 168h0m0s
Window to Act on an Executed Proposal: 168h0m0s
```

Bu komut [Oracle DAO Teklifleri](./proposals) bölümünde daha ayrıntılı olarak açıklanmıştır.

### minipool-settings

`minipool-settings`, Rocket Pool ağındaki minipool'larla ilgili yapılandırılabilir parametrelerin her biri için mevcut değerleri gösterir:

```
Scrub Period: 1h0m0s
```

### propose

`propose` komutu, Oracle DAO'nun geri kalanının oy kullanabileceği yönetişim tekliflerini göndermek için kullanılır.
Bunlar bir ayarı değiştirmeyi veya Oracle DAO üyelerini değiştirmeyi (yani, diğer üyeleri davet etmeyi veya çıkarmayı) içerebilir.

Bu komut [Oracle DAO Teklifleri](./proposals) bölümünde daha ayrıntılı olarak açıklanmıştır.

### proposals

`proposals` komutu, mevcut Oracle DAO yönetişim teklifleriyle etkileşim kurmak için kullanılır.
Bunları görüntüleyebilir, yaptığınız teklifleri geri çekebilir, üzerlerinde oy kullanabilir ve (uygulanabilirse) diğer üyeler tarafından onaylandıktan sonra yürürlüğe girmelerini sağlayarak yürütebilir:

```
NAME:
   rocketpool odao proposals - Manage oracle DAO proposals

USAGE:
   rocketpool odao proposals command [command options] [arguments...]

COMMANDS:
   list, l     List the oracle DAO proposals
   details, d  View proposal details
   cancel, c   Cancel a proposal made by the node
   vote, v     Vote on a proposal
   execute, x  Execute a proposal

OPTIONS:
   --help, -h  show help

```

Bu komut [Oracle DAO Teklifleri](./proposals) bölümünde daha ayrıntılı olarak açıklanmıştır.

### join / leave

`join` ve `leave` komutları, davet edildikten sonra Oracle DAO'ya katılmak veya diğer üyeler istifa talebinizi onayladıktan sonra Oracle DAO'dan ayrılmak için kullanılır.

## Oracle DAO'ya Katılma

### RPL Bond'u

Oracle DAO'ya katılmak için, node cüzdanınızda gerekli üyelik bond'unu karşılamak için yeterli RPL bulunması gerekir.
Bu, katılma sürecinin bir parçası olarak Rocket Pool'un kasasında kilitlenecektir.
Bond için gereken tam RPL miktarı davetiniz sırasında belirlenecek ve size dahil edilmeden önce diğer Oracle DAO üyeleri tarafından iletilecektir.

::: warning NOT
Diğer tüm ETH ve RPL ödüllerinin aksine, RPL bond'u Oracle DAO'dan çıktığınızda node'unuzun withdrawal adresine gönderilmez.
Node cüzdanınızın kendisine geri gönderilir.
Bunu node cüzdanınızı tehlikeden korumak için ekstra bir teşvik olarak düşünün.
:::

### Daveti Kabul Etme

Node'unuz kurulduktan ve mevcut üyeler tarafından Oracle DAO'ya katılmaya davet edildikten sonra, daveti kabul etmek için `rocketpool odao join` komutunu kullanabilirsiniz.
Bu iki işlem içerecektir:

- Bond'unuz için gereken RPL'yi kilitlemek için bir
- Bond alındığında Oracle DAO'ya katılmak için bir

Katıldıktan sonra, `watchtower` daemon'unuz otomatik olarak gerekli görevlerini yerine getirmeye başlayacaktır.
Bunu loglarına bakarak doğrulayabilirsiniz (örneğin, standart Docker tabanlı kurulumlar için `rocketpool service logs watchtower`); watchtower görev döngüsünü her 4 ila 6 dakikada bir gerçekleştirir ve Oracle DAO'ya katıldıktan sonra çıktısında belirgin bir değişiklik fark edeceksiniz.

### Sonraki Adımlar

Artık Oracle DAO'ya katıldığınıza göre, node'unuzu bu rolde nasıl test edeceğinizi öğrenmek için sonraki bölüme göz atın.
