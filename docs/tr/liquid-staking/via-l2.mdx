import { Tab, Tabs } from "@rspress/core/theme";

# Layer 2'de Merkeziyetsiz Bir Borsa Üzerinden Staking

Hatırlatma olarak, merkeziyetsiz staking'in avantajlarından yararlanmak için ETH'yi doğrudan Rocket Pool aracılığıyla rETH ile takas etmek zorunda değilsiniz.
Yapmanız gereken tek şey rETH tutmaktır, çünkü doğası gereği değer kazanır - nasıl elde ettiğiniz önemli değildir!

Bununla birlikte, özellikle son zamanlarda ana endişelerden biri, staking veya ETH'yi rETH ile takas etme ile ilişkili gaz maliyetidir.

Bunu azaltmaya yardımcı olmak için Ethereum ağı, **Layer 2** olarak da bilinen [rollup'ların](https://www.youtube.com/watch?v=7pWxCklcNsU) kullanımını benimsemeye başladı.

Layer 2, Ethereum'un altında yaşayan, Ethereum'un normalde yapacağı gibi birçok işlemi yürüten, ancak bunların hepsini tek bir "mega" işleme yuvarlayıp bunun yerine ana Ethereum zincirine gönderen birkaç ayrı ağdan oluşur.
İdeal olarak, bu Ethereum'un merkeziyetsiz yapısıyla ilişkili tüm güvenlik avantajlarını elde edeceğiniz, ancak Layer 2'lerdeki yürütme ve depolama maliyetleri çok daha düşük olabileceği ve işlemlerinizin yalnızca bir kısmının durumun çok daha pahalı olduğu Katman 1'de depolanması gerektiği için işlemleriniz için **çok daha düşük gaz ücretlerinden** faydalanacağınız anlamına gelir.

Rocket Pool şu anda iki Layer 2 ağını desteklemektedir: [Optimism](https://www.optimism.io/) ve [Arbitrum](https://arbitrum.io/).
Her ikisinin de en yaygın kullanılan merkezi olmayan borsa protokolü olan [Uniswap](https://docs.uniswap.org/protocol/introduction)'in çalışan sürümleri vardır.
Uniswap ile ETH'yi rETH ile hızlı ve kolay bir şekilde takas edebilirsiniz.

Bu yaklaşımı kullanmanın avantajı, **gaz ücretlerinin diğer yöntemlere göre önemli ölçüde daha düşük** olacağıdır.
Küçük miktarda ETH stake etmek istediğiniz için bu sizin için önemliyse, Layer 2 ağı kullanmak muhtemelen tercih edeceğiniz seçenek olacaktır.

Dezavantajı, rETH için en iyi anlaşmayı alamayabilirsiniz.
Uniswap, likidite sağlayıcılarına verilen küçük bir ücret gerektirir ve büyük işlemler, çok fazla fiyat etkisi olmadan iyi anlaşmalar elde etmek için büyük likidite havuzları gerektirir.
Layer 2 ağları, ana Ethereum ağına kıyasla daha düşük rETH likiditesine sahip olma eğilimindedir.

Bu nedenle, bu yolu izlemenin sizin için mantıklı olup olmadığını belirlemek için bir Layer 2 ağında elde edeceğiniz toplam rETH'yi diğer yöntemlerle elde edeceğiniz ile karşılaştırmanızı öneririz.

Takasınızı karşılamak için yeterli rETH'ye sahip olup olmadıklarını belirlemek için [Optimism havuzunun](https://info.uniswap.org/#/optimism/pools/0xaefc1edaede6adadcdf3bb344577d45a80b19582) ve [Arbitrum havuzunun](https://info.uniswap.org/#/arbitrum/pools/0xaac7de2b91293ba1791503d9127d2bdf2159db65) mevcut ETH ve rETH bakiyelerini görüntüleyebilirsiniz.

Aşağıdaki örnekte, Layer 2 ağlarıyla nasıl etkileşim kuracağınızı ve ETH'yi rETH ile takas etmek için Uniswap'i nasıl kullanacağınızı göstereceğiz.

::: warning NOT
Şu anda bu yöntem yalnızca Mainnet'te mevcuttur.
Hoodi Testnet'te pratik yapmak istiyorsanız, [doğrudan Rocket Pool ile takas yapmalısınız](./via-rp).

**Bu kılavuzun geri kalanı Mainnet'te olduğunuzu varsayacaktır.**
:::

Bu işlem, web3 uyumlu herhangi bir cüzdan ile tamamlanabilir.
Tanıtım amaçlı, daha popüler cüzdan seçeneklerinden biri olduğu için [MetaMask](https://metamask.io/) kullanacağız.

**Farklı bir cüzdan kullanmayı seçerseniz, benzer adımları izleyebilirsiniz - sadece her adım için cüzdanınızda karşılaştırılabilir işlevi bulun.**

## Mainnet'te MetaMask'ı Kurma

Eğer henüz yapmadıysanız, [MetaMask](https://metamask.io/)'i yükleyerek başlayın.
Uzantıyı yüklemek, bir hesap oluşturmak ve oturum açmak için sitelerindeki talimatları izleyin.

Ardından, tarayıcı araç çubuğunuzdaki simgesini kullanarak MetaMask panelini açın.
Üstteki araç çubuğunda **ağ açılır menüsüne** tıklayın ve **Ethereum Mainnet**'in seçili olduğundan emin olun:

<img src="./images/mm_network_main.png" width="100%" height="auto" />

Bunun hemen altındaki adres, sizin **Ethereum cüzdan adresinizdir**.

Daha ileri gitmeden önce, bu cüzdana ETH sağlamanız gerekecektir.
Önceki kullanımdan hesapta zaten ETH'niz yoksa, bunu mevcut bir hesaptan bu cüzdan adresine ETH transfer ederek yapabilirsiniz.

## Hop Üzerinden ETH'yi Katman 1'den Layer 2'ye Transfer Etme

Ethereum Mainnet'ten Layer 2 ağına ETH köprülemek için çeşitli yollar vardır.
Bu gösteride, Katman 1'den birkaç Layer 2 ağına veya Layer 2 ağları arasında ETH (ve birkaç başka coin) taşımak için basit ve güvenilir bir yol olan [Hop](https://docs.hop.exchange/faq) protokolünü kullanacağız.

Hop exchange web sitesine buradan gidin:

[https://app.hop.exchange/send?token=ETH](https://app.hop.exchange/send?token=ETH)

Ana ekran şöyle görünmelidir:

<img src="./images/hop.png" width="100%" height="auto" />

Sağ üst köşedeki **Connect a Wallet** düğmesine tıklayarak başlayın.
Hangi cüzdan sağlayıcısını kullanmak istediğinizi soran bir ekranla karşılaşacaksınız.
Bu örnek için **MetaMask**'i seçin.

::: tip NOT
MetaMask kullanmıyorsanız, WalletConnect gibi diğer sağlayıcılardan biri muhtemelen cüzdanınızla uyumlu olacaktır.
:::

Bu düğmeye tıkladığınızda, MetaMask hangi hesapları kullanmak istediğinizi seçmenizi isteyen bir istem ile açılacaktır.
Yalnızca bir tane olduğunu varsayarsak, hesabınız zaten seçili olmalıdır.
**Next**'e tıklayın.

Ardından, Hop'a hesaplarınızın adreslerini görüntüleme erişimi vermek isteyip istemediğinizi soracaktır:

<img src="./images/hop_connect.png" width="100%" height="auto" />

**Connect**'e tıklayın ve kısa bir duraklamadan sonra cüzdanınız Hop'a bağlanacaktır.
Şimdi ekranın sağ üst köşesinde ETH bakiyesini görmelisiniz.

Şimdi, ağlarınızı seçmek için **From** ve **To (estimated)** kutularındaki iki açılır menüyü kullanabilir ve **From** kutusuna göndermek istediğiniz ETH miktarını girebilirsiniz.

Örneğin, Katman 1'den Arbitrum'a 0.1 ETH göndermek şöyle görünürdü:

<img src="./images/hop_send.png" width="100%" height="auto" />

::: warning NOT
Hatırlatma olarak, Uniswap (ve dolayısıyla Rocket Pool staking) şu anda **yalnızca Optimism ve Arbitrum'da desteklenmektedir**.
Bu ağlardan birini seçmelisiniz.
:::

Hazır olduğunuzda **Send** düğmesine tıklayın.
Metamask, işlemle ilişkili gaz ücretini gösteren bir onay iletişim kutusuyla açılacaktır:

<img src="./images/hop_confirm.png" width="100%" height="auto" />

Bu gaz ücretlerinden memnunsanız, işleme başlamak için **Confirm**'e tıklayın.
Birkaç dakika sonra, MetaMask başarılı bir işlem onay mesajıyla açılacak ve ETH'niz artık seçtiğiniz Layer 2 ağında kullanılabilir olacaktır!

## Layer 2'de Uniswap'e Bağlanma

Cüzdanınız kurulup fonlandıktan sonra, Uniswap'i açacak ve otomatik olarak ETH'yi rETH ile takas etmeyi gösterecek bu URL'ye gidin:

[https://app.uniswap.org/#/swap?inputCurrency=eth](https://app.uniswap.org/#/swap?inputCurrency=eth)

Sayfa başlangıçta şöyle görünecektir:

<img src="./images/uni_connect.png" width="100%" height="auto" />

Sağ üst köşede vurgulanan gibi `Connect Wallet` düğmelerinden birine tıklayın.
Hangi cüzdan sağlayıcısını kullanmak istediğinizi soran bir ekranla karşılaşacaksınız.
Bu örnek için **MetaMask**'i seçin.

::: tip NOT
MetaMask kullanmıyorsanız, WalletConnect gibi diğer sağlayıcılardan biri muhtemelen cüzdanınızla uyumlu olacaktır.
:::

Bu düğmeye tıkladığınızda, MetaMask Hop'ta yaptığı gibi hangi hesapları kullanmak istediğinizi soran başka bir istem ile açılacaktır.
Hesabınızı seçili bırakın, **Next**'e tıklayın ve ardından Hop'ta yaptığınız gibi **Connect**'e tıklayın.
Kısa bir duraklamadan sonra cüzdanınız Uniswap'e bağlanacaktır.
Şimdi ekranın sağ üst köşesinde ETH bakiyesini görmelisiniz.

Yapılacak ilk şey, ağınızı Ethereum mainnet'ten az önce takas yaptığınız Layer 2'ye değiştirmektir.
Ekranın sağ üst kısmındaki ağ açılır menüsüne tıklayın (burada kırmızıyla vurgulanmıştır):

<img src="./images/uni_network.png" width="100%" height="auto" />

Bunu yaptığınızda, MetaMask özel bir ağ eklemek istediğinizi onaylamanızı isteyecektir:

<img src="./images/uni_net_confirm.png" width="100%" height="auto" />

**Approve**'a ve ardından **Switch Network**'e tıklayın.
Bu, MetaMask'in işlemler için Ethereum'un mainnet'i yerine yeni Layer 2 ağını kullanmasını sağlayacaktır.

::: warning NOT
MetaMask ile herhangi bir işlem yapmadan önce, MetaMask'i açıp üstteki ağ açılır menüsüne bakarak şu anda hangi ağı kullandığını _her zaman_ doğrulayın!
Yanlışlıkla farklı bir ağa geçmek ve unutmak kolaydır!
:::

## MetaMask'e rETH Ekleme

Bir sonraki adım, bakiyenizi görebilmeniz ve işlem yapmak için erişebilmeniz için rETH token'ını MetaMask'e eklemektir.
**Assets** sekmesine tıklayın, ardından **Add Token**'a tıklayın:

<img src="./images/mm_add_token.png" width="100%" height="auto" />

Bu iletişim kutusunda **Custom Token**'ın seçili olduğundan emin olun ve aşağıda seçtiğiniz Layer 2 ağı için uygun sekmeyi seçin:

<div className="p-3">
  <Tabs>
    <Tab label="Optimism">
      **Token Contract Address** kutusuna aşağıdaki değeri girin:

      ```shell
      0x9bcef72be871e61ed4fbbc7630889bee758eb81d
      ```

      **Token Symbol** otomatik olarak `rETH` ile doldurulmalı ve **Decimals of Precision** otomatik olarak `18` ile doldurulmalıdır.

      Geri kalan istemleri kabul edin ve ardından listede rETH token'ının göründüğünü göreceksiniz.
    </Tab>
    <Tab label="Arbitrum">
      **Token Contract Address** kutusuna aşağıdaki değeri girin:

      ```shell
      0xec70dcb4a1efa46b8f2d97c310c9c4790ba5ffa8
      ```

      **Token Symbol** otomatik olarak `rETH` ile doldurulmalı ve **Decimals of Precision** otomatik olarak `18` ile doldurulmalıdır.

      Geri kalan istemleri kabul edin ve ardından listede rETH token'ının göründüğünü göreceksiniz.
    </Tab>

  </Tabs>
</div>

## Uniswap ile ETH'yi rETH ile Takas Yapma

İşlemin son adımı takası yapmaktır!

**Select a token** açılır menüsüne tıklayın ve MetaMask'e eklediğiniz rETH adresini girin (sadece rETH yazabilirsiniz, ancak önce adresini doğrulayarak **doğru token olduğundan ve sahtekar veya dolandırıcılık tokeni olmadığından emin olun**).

::: warning NOT
Başlangıçta şuna benzer bir uyarı ile karşılaşabilirsiniz:

<img src="./images/unknown_token.jpg" width="100%" height="auto" />

Bu, Uniswap kullandığınız Katman'da rETH'yi kanonik token listesine ekleyene kadar geçici bir uyarıdır.
Token adresi Optimism'de `0x9bcef72be871e61ed4fbbc7630889bee758eb81d` veya Arbitrum'da `0xec70dcb4a1efa46b8f2d97c310c9c4790ba5ffa8` olduğu sürece güvenle ekleyebilirsiniz.
:::

Ardından, takas etmek istediğiniz ETH miktarını girin ve Uniswap'in arayüzü karşılığında alacağınız rETH miktarını gösterecektir:

<img src="./images/arb_swap.png" width="100%" height="auto" />

::: warning NOT
Aldığınız rETH miktarının koyduğunuz ETH miktarından **daha az** olacağını unutmayın.
Bu normaldir, çünkü **rETH, ETH'den daha değerlidir** ve sürekli olarak değer kazanır.
Bunu ekran görüntüsünün altında vurgulanan döviz kurunda görebilirsiniz.
:::

Şimdi işlemin detaylarını görmek için **Swap**'e tıklayın, kayma nedeniyle alabileceğiniz minimum tutarı da içerir.
Memnunsanız, **Confirm Swap**'e tıklayın.
Bu, isteği MetaMask'e gönderecektir, burada onaylamadan önce toplam işlem maliyetini inceleyebilirsiniz:

<img src="./images/arb_gas.png" width="100%" height="auto" />

::: tip NOT
Burada tahmini gaz ücretine **yakından dikkat edin**.
Muhtemelen bu takası bir Layer 2 ağında yapmanın Ethereum Mainnet'te yapmaktan gaz ücretleri açısından **yaklaşık 10 kat daha ucuz** olduğunu fark edeceksiniz!
:::

Alacağınız toplam rETH miktarına göre gaz ücretlerinden memnunsanız, işlemi göndermek için **Confirm**'e tıklayın.
Kısa bir süre sonra, MetaMask'ten başarıyla tamamlandığına dair bir bildirim görmelisiniz ve artık cüzdanınızda rETH token'ını göreceksiniz.

İşte bu kadar! Artık Rocket Pool ile staking yapıyorsunuz. Yapmanız gereken tek şey rETH'nizi tutmak ve rETH token'ının değeri arttıkça otomatik olarak staking ödüllerinizi kazanacaksınız.
