import { Tab, Tabs } from "@rspress/core/theme";

::: danger UYARI
Minipool yatırımları şu anda Saturn 1 hazırlığı nedeniyle devre dışı bırakılmıştır.
:::

# 16-ETH Minipool'u 8-ETH'ye Taşıma

Node operatörleri, mevcut 16-ETH minipool'larını 8-ETH minipool'lara **doğrudan taşıma** yapabilir.
Bunu yapmak, [yatırım kredisi bakiyelerine](./credit) 8 ETH ekleyecektir ve bu kredi **node operatörlerinden ETH gerektirmeden ek minipool'lar oluşturmak için kullanılabilir**.

Aslında bu süreç, bir node operatörünün **bir 16-ETH minipool'u ücretsiz olarak iki 8-ETH minipool'a dönüştürmesine** olanak tanır (_ancak yine de gas için ETH gerektirecek ve her iki minipool'u da karşılayacak yeterli RPL teminatı gerektirecektir_).

Mevcut bir 16-ETH minipool'u 8-ETH'ye taşımak resmi olarak **bond azaltma** olarak bilinir.
Bu iki aşamalı bir süreçtir ve Oracle DAO tarafından doğrulama içerir.
Aşağıdaki bölümlerde tüm süreç boyunca size rehberlik edeceğiz.

### Bond Azaltma Kuralları

Bond azaltma aşağıdaki adımları içerir:

1. Bond azaltmayı başlatma, node operatörü tarafından yapılır.
2. Bir bekleme süresi ("bond azaltma temizlik kontrolü"), Oracle DAO'nun bond azaltmanın yasal olduğunu doğrulama ve kurallara aykırı bond azaltmaları iptal etme süresine izin verir.
3. Bond azaltmayı tamamlama, node operatörü tarafından yapılır.

Temizlenmeden başarılı bir bond azaltma gerçekleştirmek için minipool şu kurallara uymalıdır:

1. Minipool, [Atlas delegate](./minipools/delegates)'e yükseltilmiş olmalıdır; eski Redstone delegate kullanılamaz.
1. Minipool'un Beacon Chain'deki validator'ü **beklemede veya aktif olarak staking yapıyor olmalıdır**. Slashed, çıkış yapıyor / çıkmış veya çekilebilir / çekilmiş durumda olamaz.
1. Minipool'un Beacon Chain'deki validator bakiyesi **en az 31.99 ETH** olmalıdır (rewards skim sonrasında kötü zamanlanmış komplikasyonlar nedeniyle kaçırılan attestation'lar için küçük bir tampon ile 32 ETH).

Minipool, Oracle DAO'nun yukarıdaki koşullara uyumluluğunu sağlamak için izlediği temizlik kontrolünün **tüm süresi boyunca** bu koşullara uymalıdır.

Eğer temizlik kontrolü sırasında herhangi bir zamanda bir minipool'un bu koşulları ihlal ettiği tespit edilirse, bond azaltma **temizlenecektir**.
Minipool'un kendisi etkilenmeyecektir; 16 ETH minipool olarak mutlu bir şekilde yaşamaya devam edecek, doğrulama yapacak ve tüm bond azaltma süreci hiç yaşanmamış gibi davranacaktır.
Ancak, **artık bond azaltmaya uygun olmayacaktır**.
Bir minipool'un bond azaltması temizlendiğinde, bir daha asla denenemez.

::: warning NOT
Başarılı bir bond azaltma sonrasında, minipool'un bond miktarı 16 ETH'den 8 ETH'ye düşürülecek ve **minipool'un komisyonu mevcut ağ değerine sıfırlanacaktır**.

%20 komisyonlu bir 16-ETH minipool'u azaltırsanız, **bu %20 komisyonu korumayacaksınız**.
Ağ değerine düşürülecektir (**şu anda sabit %14 olarak ayarlanmıştır**).

[Örnek matematik](./create-validator.mdx#rewards) bölümünde gösterildiği gibi, %14'lük bir 8-ETH minipool'un %20'lik bir 16-ETH minipool'dan _hala daha karlı olduğunu_ unutmayın, bu nedenle yüksek bir komisyon oranını tutmak 16 ETH bond'u korumak için ikna edici bir neden değildir.
:::

### Adım 1: Bond Azaltmaya Başlama

Bond azaltma sürecini başlatmak için aşağıdaki komutu girin:

```shell
rocketpool minipool begin-bond-reduction
```

Bu, süreç hakkında kısa bir açıklama sunarak başlayacaktır (ancak bu kılavuzu okuduysanız, size zaten tanıdık gelecektir).
Süreci anladığınızı onayladığınızda, şu anda bond'u azaltılabilecek minipool'ları, mevcut bond'ları ve komisyonları ile birlikte gösterecektir:

```
Please select a minipool to begin the ETH bond reduction for:
1: All available minipools
2: 0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5 (Current bond: 16 ETH, commission: 15.00%)
3: 0x7E5704aD2a63eb90880426Dcd4a3811246dF3cB0 (Current bond: 16 ETH, commission: 15.00%)
4: 0x7E5705c149D11efc951fFc20349D7A96bc6b819C (Current bond: 16 ETH, commission: 15.00%)
5: 0x7E570625cE8F586c90ACa7fe8792EeAA79751778 (Current bond: 16 ETH, commission: 15.00%)

```

Azaltmak için bir veya daha fazla minipool seçtiğinizde, Smartnode bu minipool'ların bond azaltma için uygun olup olmadığını kontrol edecektir.

Uygun olmak için bu koşullar karşılanmalıdır:

- Minipool, [Atlas minipool delegate contract](./minipools/delegates)'i kullanacak şekilde yükseltilmiş olmalıdır.
- Minipool'un validator'ü en az 32 ETH Beacon Chain bakiyesine sahip olmalıdır.
- Minipool'un validator'ü beklemede veya aktif olmalıdır.
- Bond azaltmadan _sonra_ gereken minimum RPL teminat seviyesini destekleyecek yeterli RPL stake edilmiş olmalıdır.

Değilse, önce nelerin yapılması gerektiğini açıklayan bir uyarı hatası yazdıracaktır; örneğin:

```
Please select a minipool to begin the ETH bond reduction for:
1: All available minipools
2: 0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5 (Current bond: 16 ETH, commission: 15.00%)
3: 0x7E5704aD2a63eb90880426Dcd4a3811246dF3cB0 (Current bond: 16 ETH, commission: 15.00%)
4: 0x7E5705c149D11efc951fFc20349D7A96bc6b819C (Current bond: 16 ETH, commission: 15.00%)
5: 0x7E570625cE8F586c90ACa7fe8792EeAA79751778 (Current bond: 16 ETH, commission: 15.00%)
2

Cannot reduce bond for minipool 0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5:
The minipool version is too low. It must be upgraded first using `rocketpool minipool delegate-upgrade`.
You do not have enough RPL staked to support this bond reduction; it would bring you below the minimum RPL staking requirement. You will have to stake more RPL first.
```

Bu, seçilen minipool'un bir delegate yükseltmesi gerektirdiğini ve node'un bu minipool'un bond'unu azaltmak için daha fazla RPL stake edilmesi gerektiğini gösterir.

Önkoşulları karşıladığınızda, bu komutta bir minipool seçmek size işlem için gas fiyatınızı seçmenizi ve eylemi onaylamanızı isteyecektir.
Onayı kabul ettiğinizde, minipool'un bond azaltması başlayacaktır.

### Temizlik Kontrolü Zamanlayıcısını İzleme

Bir bond azaltma başlattıktan sonra, `node` daemon loglarınızda tamamlanabilmesi için ne kadar süre kaldığını görebilirsiniz:

<div className="p-3">
  <Tabs>
    <Tab label="Docker and Hybrid Mode">
      **Docker Mode** ve **Hybrid Mode** kullanıcıları için bu, aşağıdaki komutla yapılabilir:

      ```shell
      rocketpool service logs node
      ```
    </Tab>
    <Tab label="Native Mode">
      Node daemon'unuzun sistem loglarını incelemek için kullandığınız scripte başvurun.
    </Tab>

  </Tabs>
</div>

Bond azaltmanızın temizlik kontrolü tamamlanana kadar ne kadar süre kaldığını belirten yeni bir girdi göreceksiniz:

```
rocketpool_node  | 2023/02/25 09:04:21 Checking for minipool bonds to reduce...
rocketpool_node  | 2023/02/25 09:04:21 Minipool 0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5 has 12m0s left until it can have its bond reduced.
```

Bu zamanlayıcı sıfıra ulaştığında ve artık bu loglarda görünmediğinde, bond azaltmayı tamamlayabilirsiniz.

### Adım 2: Bond Azaltmayı Tamamlama

Temizlik zamanlayıcısı başarıyla sona erdiğinde, minipool'unuzun bond azaltmasını tamamlamanın iki yolu vardır:

1. `node` daemon'un bunu sizin için halletmesine izin verin; bunu her beş dakikada bir gerçekleştirdiği rutin kontrol sırasında yapar (yukarıdaki logda kalan süreyi yazdıran kontrol ile aynı). Uygun bir bond azaltmanız olduğunu fark ederse, **azaltmayı otomatik olarak tamamlayacaktır** - tıpkı bekleyen minipool'ları stake etme ve fee recipient'ınızı kontrol etme gibi. `node` logunda bir bond azaltmayı ne zaman tespit edip tamamladığını gösteren çıktıyı göreceksiniz.
2. Bond azaltmayı aşağıdaki komutu kullanarak manuel olarak tamamlayın:
   ```shell
   rocketpool minipool reduce-bond
   ```
   Komut basittir; minipool'unuz bond azaltma için uygun olduğunda süreci tamamlamak için yönergeleri izleyin.

Bond azaltma sırasında, Rocket Pool **minipool'unuzun mevcut bakiyesini dağıtır**, minipool'un bond azaltma öncesi bond'u ve komisyonunu kullanarak hem sizin hem de rETH staker'larının mevcut bakiyeden adil payınızı almanızı sağlar ve bond azaltma, herhangi bir tarafın bu bakiye üzerinde _alacağı_ ödülleri değiştirmez.

### Azaltılmış Bond'un Sonuçları

`rocketpool minipool status` kullanarak başarılı bond azaltmasını doğrulayabilirsiniz.

Bond azaltmadan **önce**, takip ettiğimiz örnek minipool için bu komut aşağıdaki çıktıyı üretecektir:

```
Address:              0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5
...
Node fee:             15.000000%
Node deposit:         16.000000 ETH
RP ETH assigned:       2023-02-08, 06:13 +0000 UTC
RP deposit:            16.000000 ETH
Minipool Balance (EL): 0.150713 ETH
Your portion:          0.086660 ETH
Available refund:      0.000000 ETH
Total EL rewards:      0.086660 ETH
...
Beacon balance (CL):   32.000152 ETH
Your portion:          16.000087 ETH
...
```

Bond azaltmadan **sonra**, komut şu çıktıyı döndürecektir:

```
Address:              0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5
...
Node fee:             14.000000%
Node deposit:         8.000000 ETH
RP ETH assigned:       2023-02-08, 06:13 +0000 UTC
RP deposit:            24.000000 ETH
Minipool Balance (EL): 0.086769 ETH
Your portion:          0.000000 ETH
Available refund:      0.086769 ETH
Total EL rewards:      0.086769 ETH
...
Beacon balance (CL):   32.000037 ETH
Your portion:          8.000013 ETH
...
```

Değişikliklerin nasıl olduğuna dikkat edin:

- `Node fee` (komisyon) %15'ten %14'e düştü
- `Node deposit` (bond'unuz) 16 ETH'den 8 ETH'ye düştü
- `RP deposit` (ödünç aldığınız miktar) 16 ETH'den 24 ETH'ye yükseldi
- `Minipool Balance (EL)` 0.150713 ETH'den 0.086769 ETH'ye düştü
- `Your portion (EL)` 0.086660 ETH'den 0 ETH'ye düştü
- `Available refund` 0 ETH'den 0.086769 ETH'ye yükseldi
- `Your portion (CL)` 16.000087 ETH'den 8.000013 ETH'ye düştü

`Node fee`, `Node deposit`, `RP deposit` ve `Your portion (CL)` değişiklikleri bond'un başarıyla azaltıldığını gösterir.

`Minipool Balance (EL)`, `Your portion (EL)` ve `Available refund` değişiklikleri, bond azaltma sürecinin bir parçası olarak gerçekleşen **minipool bakiye dağıtımının** sonuçlarını gösterir.
Bu sonuçların nasıl yorumlanacağını netleştirmek için:

- [İşleme](https://zhejiang.beaconcha.in/tx/0xf02f6b1a4ea68f356909e6f1974dc3c24d301ba115b97f3013c3c829ba2ca57c) bakarsanız, minipool'dan staking pool'a 0.06413383 ETH gönderdiğini de göreceksiniz.
- "Önce" örneğinde, staking pool'un payı minipool'un bakiyesi eksi node operatörünün payıdır, yani `0.150713 - 0.086660 = 0.064053` bu bond azaltma sırasında staking pool'a aktarılan miktardır (artı temizlik kontrolü sırasında gerçekleşen bir rewards skim'den gelen küçük bir miktar).
- Öte yandan _node operatörünün_ payı, node operatörünün çekim adresine gönderilmez. Bunun yerine **mevcut geri ödeme** olarak işaretlenir, bu yüzden geri ödeme miktarı 0 ETH'den minipool'un EL'deki bakiyesinin önceki "sizin payınız" miktarına yükseldi.
  - Bu geri ödemeyi istediğiniz zaman aşağıdaki komutu kullanarak talep edebilirsiniz:
    ```shell
    rocketpool minipool refund
    ```

Bond azaltmanın bir diğer önemli sonucu daha vardır ve bu `rocketpool node status` kullanılarak gözlemlenebilir:

```
Your Smartnode is currently using the Zhejiang Test Network.

=== Account and Balances ===
The node 0x9BA1401Eb7D779eC51f910B066e9C4351cD28911 has a balance of 347.796908 ETH and 16799.835547 RPL.
The node has 8.000000 ETH in its credit balance, which can be used to make new minipools.
```

Bond azaltma süreci **node'un** [yatırım kredisi bakiyesini](./credit) 8 ETH artırmıştır.
Bu kredi, ücretsiz olarak [başka bir 8-ETH minipool yapmak](./create-validator.mdx#depositing-eth-and-creating-a-minipool) için kullanılabilir (node cüzdanından ETH gerekmez, sadece gas için)!
