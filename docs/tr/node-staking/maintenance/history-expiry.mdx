import { Tab, Tabs } from "@rspress/core/theme";

# Merge Öncesi Geçmişi Sona Erdirme

Tüm Execution istemcileri artık [EIP-4444](https://eips.ethereum.org/EIPS/eip-4444) uyarınca kısmi geçmiş sona erdirmeyi desteklemektedir. Kullanıcılar Smartnode sürüm `v1.17.0` ile başlayarak merge öncesi blok geçmişini kaldırarak node'ları için depolama gereksinimlerini önemli ölçüde azaltabilir. Kısmi geçmiş sona erdirme hakkında daha fazla bilgi edinmek için bu blog yazısını inceleyebilirsiniz: https://blog.ethereum.org/2025/07/08/partial-history-exp

::: tip NOT

    Lütfen merge öncesi geçmişi kaldırma adımlarının node'unuzun seçili Execution istemcisine bağlı olduğunu unutmayın:
    - Nethermind kullanıcılarının merge öncesi geçmişi kaldırmak için tam bir yeniden senkronizasyon yapması gerekecektir.
    - Geth kullanıcıları `rocketpool service prune-eth1` komutunu kullanabilir veya tam bir yeniden senkronizasyon gerçekleştirebilir.
    - Besu ve Reth kullanıcıları, node'ları attestation yapmaya devam ederken çevrimiçi bir budama gerçekleştirebilir.

:::

Merge öncesi geçmişi kaldırmak için aşağıdaki adımlar yalnızca Docker modu node'ları içindir. Hybrid modda veya Native modda harici bir istemci kullanıyorsanız, lütfen Execution istemciniz tarafından sağlanan dokümantasyona bakın.

Ayarlar Yöneticisini açarak başlayın:

```shell
rocketpool service config
```

Execution Client budama modunu değiştirmek için `Execution Client (ETH1)` menüsüne gidin ve `Pruning Mode` açılır menüsünde `History Expiry` ayarını seçin

![](../images/tui-history-expiry.png)

Seçimi yaptıktan sonra, ana menüye dönmek için `escape` tuşuna basın, ardından `Review Changes and Save` düğmesini vurgulamak için `tab` tuşuna basın. Devam etmek için `enter` tuşuna basın. Execution istemci ayarlarınızdaki değişiklikleri önizlemek için bir menü sunulacaktır.

![](../images/tui-review-history-expiry.png)

Ayarları kaydetmek ve Ayarlar Yöneticisinden çıkmak için `Save Settings` üzerinde `enter` tuşuna basın, ardından `rocketpool_eth1` container'ınızı yeniden başlatmak için `y` girin.

```shell
Your changes have been saved!
The following containers must be restarted for the changes to take effect:
	rocketpool_eth1
Would you like to restart them automatically now? [y/n]
```

Bu noktadan itibaren, adımlar hangi Execution istemcisini kullandığınıza bağlı olarak farklılık gösterir:

<div className="p-3">
  <Tabs>

        <Tab label="Nethermind">
        Nethermind node'ları merge öncesi geçmişi kaldırmak için tam bir yeniden senkronizasyon gerektirir. `History Expiry` ayarını kaydettikten ve `eth1` container'ınızı yeniden başlattıktan sonra Execution istemcinizi yeniden senkronize etmelisiniz.

        ::: warning UYARI
        Yapılandırılmış bir yedek node'unuz yoksa, node'unuz yeniden senkronizasyon sırasında doğrulamayı durduracaktır. Bir yedek node, birincil node'unuzun budama veya yeniden senkronizasyon sırasında attestation ve blok önermeye devam etmesini sağlayacaktır. Bir yedek node'u nasıl yapılandıracağınızı öğrenmek için [buraya](/tr/node-staking/fallback) tıklayın.
        :::

        Execution istemcinizi yeniden senkronize etmek için aşağıdaki komutu kullanın:
        ```shell
        rocketpool service resync-eth1
        ```

        Hazırsınız! Node artık merge öncesi verileri depolamayacak ve 2 TB'lık bir sürücüye bir node sığdırmanın fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Geth">

        Geth node'ları merge öncesi geçmişi kaldırmak için çevrimdışı bir budama gerektirir. `History Expiry` ayarını kaydettikten ve `eth1` container'ınızı yeniden başlattıktan sonra Execution istemcinizi budamalısınız. Alternatif olarak merge öncesi geçmişi kaldırmak için tam bir yeniden senkronizasyon yapmayı seçebilirsiniz.

        ::: tip NOT
        Tam bir yeniden senkronizasyon yapmak yerine budamayı öneririz. Yeni bir Geth veritabanıyla baştan başlamak isterseniz veya budama ile ilgili bir sorununuz varsa, `rocketpool service resync-eth1` kullanarak Execution istemcisini yeniden senkronize edebilirsiniz. Her iki seçenek de merge öncesi geçmişin sona ermesiyle sonuçlanmalıdır.
        :::

        ::: warning UYARI
        Yapılandırılmış bir yedek node'unuz yoksa, node'unuz budama veya yeniden senkronizasyon sırasında doğrulamayı durduracaktır. Bir yedek node, birincil node'unuzun budama veya yeniden senkronizasyon sırasında attestation ve blok önermeye devam etmesini sağlayacaktır. Bir yedek node'u nasıl yapılandıracağınızı öğrenmek için [buraya](/tr/node-staking/fallback) tıklayın.
        :::

        Execution istemcinizi budamak için lütfen aşağıdaki komutu çalıştırın:
        ```shell
        rocketpool service prune-eth1
        ```
        Budama hakkında daha fazla bilgi edinmek için [buraya](/tr/node-staking/pruning#starting-a-prune) tıklayabilirsiniz.

        Hazırsınız! Node artık merge öncesi verileri depolamayacak ve 2 TB'lık bir sürücüye bir node sığdırmanın fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Besu">

        Hazırsınız! Besu node'ları attestation ve blok önermeye devam ederken çevrimiçi bir budama gerçekleştirecektir.
        Node artık merge öncesi verileri depolamayacak ve 2 TB'lık bir sürücüye bir node sığdırmanın fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Reth">

        Hazırsınız! Reth node'ları attestation ve blok önermeye devam ederken çevrimiçi bir budama gerçekleştirecektir.
        Node artık merge öncesi verileri depolamayacak ve 2 TB'lık bir sürücüye bir node sığdırmanın fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
         ```

    </Tab>

  </Tabs>
</div>
