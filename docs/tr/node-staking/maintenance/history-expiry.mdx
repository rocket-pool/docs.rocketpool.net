import { Tab, Tabs } from "@rspress/core/theme";

# Merge Öncesi Geçmişin Silinmesi

Tüm Execution istemcileri artık [EIP-4444](https://eips.ethereum.org/EIPS/eip-4444)'e göre kısmi geçmiş silme işlemini desteklemektedir. Kullanıcılar Smartnode sürüm `v1.17.0`'dan başlayarak merge öncesi blok geçmişini kaldırarak düğümlerinin depolama gereksinimlerini önemli ölçüde azaltabilir. Kısmi geçmiş silme hakkında daha fazla bilgi edinmek için bu blog yazısına göz atabilirsiniz: https://blog.ethereum.org/2025/07/08/partial-history-exp

::: tip NOT

    Lütfen merge öncesi geçmişi kaldırma adımlarının düğümünüzün seçili Execution istemcisine bağlı olduğunu unutmayın:
    - Nethermind kullanıcılarının merge öncesi geçmişi kaldırmak için tam bir resync yapması gerekecektir.
    - Geth kullanıcıları `rocketpool service prune-eth1` komutunu kullanabilir veya tam bir resync yapabilir.
    - Besu ve Reth kullanıcıları düğümleri attestation yapmaya devam ederken çevrimiçi budama gerçekleştirebilir.

:::

Merge öncesi geçmişi kaldırmak için aşağıdaki adımlar yalnızca Docker modundaki düğümler içindir. Hybrid modda veya Native modda harici bir istemci kullanıyorsanız, lütfen Execution istemciniz tarafından sağlanan dokümantasyona başvurun.

Ayarlar Yöneticisini açarak başlayın:

```shell
rocketpool service config
```

Execution Client budama modunu değiştirmek için `Execution Client (ETH1)` menüsüne gidin ve `Pruning Mode` açılır menüsünde `History Expiry` ayarını seçin

![](../images/tui-history-expiry.png)

Seçimi yaptıktan sonra ana menüye dönmek için `escape` tuşuna basın, ardından `Review Changes and Save` düğmesini vurgulamak için `tab` tuşuna basın. Devam etmek için `enter` tuşuna basın. Execution istemci ayarlarınızdaki değişiklikleri önizlemek için bir menü sunulacaktır.

![](../images/tui-review-history-expiry.png)

Ayarları kaydetmek ve Ayarlar Yöneticisinden çıkmak için `Save Settings` üzerinde `enter` tuşuna basın, ardından `rocketpool_eth1` konteynerinizi yeniden başlatmak için `y` girin.

```shell
Your changes have been saved!
The following containers must be restarted for the changes to take effect:
	rocketpool_eth1
Would you like to restart them automatically now? [y/n]
```

Bu noktadan itibaren, adımlar hangi Execution istemcisini kullandığınıza bağlı olarak farklılık gösterir:

<div className="p-3">
  <Tabs>

        <Tab label="Nethermind">
        Nethermind düğümleri merge öncesi geçmişi kaldırmak için tam bir resync gerektirir. `History Expiry` ayarını kaydettikten ve `eth1` konteynerinizi yeniden başlattıktan sonra Execution istemcinizi resync etmelisiniz.

        ::: warning UYARI
        Yapılandırılmış bir yedek düğümünüz yoksa, düğümünüz resync sırasında doğrulamayı durduracaktır. Bir yedek düğüm, birincil düğümünüzün budama veya resync sırasında attestation ve blok önermeye devam etmesini sağlayacaktır. Yedek düğümün nasıl yapılandırılacağını öğrenmek için [buraya](/tr/node-staking/fallback) tıklayın.
        :::

        Execution istemcinizi resync etmek için aşağıdaki komutu kullanın:
        ```shell
        rocketpool service resync-eth1
        ```

        Hazırsınız! Düğüm artık merge öncesi verileri depolamayacak, bu da bir düğümü 2 TB sürücüye sığdırma fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Geth">

        Geth düğümleri merge öncesi geçmişi kaldırmak için çevrimdışı budama gerektirir. `History Expiry` ayarını kaydettikten ve `eth1` konteynerinizi yeniden başlattıktan sonra Execution istemcinizi budamalısınız. Alternatif olarak merge öncesi geçmişi kaldırmak için tam bir resync yapmayı seçebilirsiniz.

        ::: tip NOT
        Tam resync yapmak yerine budamayı öneriyoruz. Yeni bir Geth veritabanıyla baştan başlamak istiyorsanız veya budamayla ilgili bir sorununuz varsa, `rocketpool service resync-eth1` kullanarak Execution istemcisini resync edebilirsiniz. Her iki seçenek de merge öncesi geçmişin silinmesiyle sonuçlanmalıdır.
        :::

        ::: warning UYARI
        Yapılandırılmış bir yedek düğümünüz yoksa, düğümünüz budama veya resync sırasında doğrulamayı durduracaktır. Bir yedek düğüm, birincil düğümünüzün budama veya resync sırasında attestation ve blok önermeye devam etmesini sağlayacaktır. Yedek düğümün nasıl yapılandırılacağını öğrenmek için [buraya](/tr/node-staking/fallback) tıklayın.
        :::

        Execution istemcinizi budamak için lütfen aşağıdaki komutu çalıştırın:
        ```shell
        rocketpool service prune-eth1
        ```
        Budama hakkında daha fazla bilgi edinmek için [buraya](/tr/node-staking/pruning#starting-a-prune) tıklayabilirsiniz.

        Hazırsınız! Düğüm artık merge öncesi verileri depolamayacak, bu da bir düğümü 2 TB sürücüye sığdırma fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Besu">

        Hazırsınız! Besu düğümleri attestation ve blok önermeye devam ederken çevrimiçi budama gerçekleştirecektir.
        Düğüm artık merge öncesi verileri depolamayacak, bu da bir düğümü 2 TB sürücüye sığdırma fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
        ```

    </Tab>

    <Tab label="Reth">

        Hazırsınız! Reth düğümleri attestation ve blok önermeye devam ederken çevrimiçi budama gerçekleştirecektir.
        Düğüm artık merge öncesi verileri depolamayacak, bu da bir düğümü 2 TB sürücüye sığdırma fizibilitesini önemli ölçüde artıracaktır.
        Aşağıdaki komutu kullanarak ilerlemeyi izlemenizi öneririz.
        ```shell
        rocketpool service logs eth1
         ```

    </Tab>

  </Tabs>
</div>
