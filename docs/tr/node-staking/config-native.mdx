import nimbus_dashboard from "./images/nimbus-dashboard.png";
import tui_checkbox_checked from "./images/tui-checkbox-checked.png";
import tui_checkbox_unchecked from "./images/tui-checkbox-unchecked.png";
import tui_dropdown_closed from "./images/tui-dropdown-closed.png";
import tui_dropdown_open from "./images/tui-dropdown-open.png";
import tui_native_cc_url from "./images/tui-native-cc-url.png";
import tui_native_cc from "./images/tui-native-cc.png";
import tui_native_ec from "./images/tui-native-ec.png";
import tui_native_finished from "./images/tui-native-finished.png";
import tui_native_metrics from "./images/tui-native-metrics.png";
import tui_native_mev from "./images/tui-native-mev.png";
import tui_native_network from "./images/tui-native-network.png";
import tui_native_welcome from "./images/tui-native-welcome.png";
import tui_native_other from "./images/tui-native-other.png";
import tui_native_review from "./images/tui-native-review.png";
import tui_native_settings_home from "./images/tui-native-settings-home.png";
import tui_native_smartnode from "./images/tui-native-smartnode.png";
import tui_textbox from "./images/tui-textbox.png";

# Smartnode Stack'i Yapılandırma (Native Modu)

Bu bölümde, Docker kullanmayan **Native kurulum** kullanıyorsanız Smartnode'u yapılandırmanın çeşitli yöntemlerini ele alacağız.

::: warning NOT
Docker tabanlı bir kurulum kullanıyorsanız, lütfen bunun yerine [Docker yapılandırma kılavuzunu](./config-docker) ziyaret edin.
:::

Üç yapılandırma yöntemi vardır:

- [Sihirbaz UI](#sihirbaz-ile-yapilandirma) ile - bu en kolay yoldur. Sadece birkaç temel soru sorar ve geri kalanı için iyi test edilmiş varsayılanları kullanır. İlk kez `rocketpool service config` komutunu çalıştırdığınızda size sunulacak olan budur.
- [Ayarlar Yöneticisi UI](#ayarlar-yoneticisi-ile-yapilandirma) ile - bu size Smartnode'un tüm ayarlarına erişim sağlar, böylece istediğiniz kadar her şeyi özelleştirebilirsiniz.
- [Komut Satırı](#komut-satiri-ile-yapilandirma) ile başsız olarak - bu, Smartnode'u başsız (etkileşimsiz) bir ortamda çalıştıran ve otomatik olarak yapılandırması gereken kişiler için bir seçenektir.

Yukarıdaki listeden hangi mod hakkında daha fazla bilgi edinmek istediğinizi seçin veya aşağıdaki her seçeneği kaydırın.

## Sihirbaz ile Yapılandırma

Smartnode'u yapılandırmak için yapılandırma komutunu çalıştırın:

```shell
rp service config
```

Bu, node'unuzu hızlı ve kolay bir şekilde yapılandırmanıza olanak tanıyan terminal tabanlı bir UI başlatacak ve Native modu ile ilgili ayarlar üzerinde isteğe bağlı ince ayarlı kontrol sağlayacaktır.

::: tip NOT
Smartnode'u zaten yapılandırdıysanız, bunun yerine [Ayarlar Yöneticisi](#ayarlar-yoneticisi-ile-yapilandirma) ile karşılaşacaksınız.
Tercih ederseniz Sihirbazı oradan yeniden açmayı seçebilirsiniz ve mevcut tüm ayarlarınız sizin için önceden seçilmiş olacaktır.
:::

Config UI'ı ilk kez çalıştırdığınızda (veya Sihirbazı daha sonra tekrar çalıştırmayı seçerseniz), şuna benzeyen bir ekran ile karşılaşacaksınız:

<img src={tui_native_welcome} width="100%" height="auto" />

::: tip İPUCU
Sihirbazı kullanmak için, düğmeler (seçenekler) veya metin kutuları gibi şeyler arasında gezinmek için **`Ok Tuşlarına` (yukarı/aşağı/sol/sağ) basın**.
İsterseniz `Tab` ve `Shift+Tab` da kullanabilirsiniz - aynı şeyi yapacaktır.

Düğmeler için, **şu anda seçili olan yeşil renkte vurgulanacaktır**.
Siyah olanlar seçili değildir.
Yukarıdaki ekran görüntüsünde `Next` şu anda seçili ve `Quit` seçili değil.

Bir düğmeyi seçmek için **`Enter` veya `Space` tuşuna basın**, fareyle üzerine tıklamaya benzer.

Bir şey hakkında fikrinizi değiştirdiyseniz **önceki iletişim kutusuna dönmek için `Escape` tuşuna basın**.
Çeşitli Sihirbaz sayfalarında ilerlerken bu kullanışlı olacaktır.

**Herhangi bir şeyi kaydetmeden Sihirbazdan çıkmak için herhangi bir zamanda `Ctrl` tuşunu basılı tutun ve `C` tuşuna basın**.

Örneğin, yukarıdaki ekranda, `Next` ve `Quit` düğmeleri arasında geçiş yapmak için `sol` ve `sağ` ok tuşlarına basabilirsiniz.

`Next` seçiliyken `Enter` tuşuna basmak bir sonraki ekrana geçecektir.
`Quit` seçiliyken `Enter` tuşuna basmak kaydetmeden Sihirbazdan çıkacaktır.
:::

Başlamaya hazır olduğunuzda, `Next` tuşuna basın.

### Bir Ağ Seçme

Bir sonraki ekranda, hangi ağı kullanmak istediğinizi seçmeniz istenecektir:

<img src={tui_native_network} width="100%" height="auto" />

`Yukarı` ve `Aşağı` ok tuşları (veya `Tab` ve `Shift+Tab`) ile farklı seçenekleri vurgulayabilirsiniz.
Seçenekleri değiştirdiğinizde, sağdaki **Açıklama** kutusu size her seçeneğin kısa bir açıklamasını gösterecektir.
Bu, Sihirbazdaki tüm seçim tabanlı sayfalar için geçerlidir, sadece ağ seçimi için değil, bu nedenle bu sayfa stilini sıklıkla göreceksiniz.

Ücretsiz alabileceğiniz sahte ETH ve RPL ile Hoodi test ağında bir Rocket Pool node'u çalıştırmayı denemek istiyorsanız, **Hoodi Testnet**'i seçin.

Gerçek ödüller kazanmak için Mainnet'te gerçek bir Rocket Pool node'u oluşturmaya hazırsanız, **Mainnet**'i seçin.

### Execution Client Kurulumu

Bir sonraki ekran, Execution client'ınızın HTTP tabanlı RPC API'sinin URL'sini isteyecektir:

<img src={tui_native_ec} width="100%" height="auto" />

Smartnode ile aynı makinede bir Execution client çalıştırmayı planlıyorsanız buraya `http://127.0.0.1:8545` girin (bu kılavuzun geri kalanında, bunu yapmayı planladığınızı varsayacağız).
Ancak, başka bir yerde zaten kurulmuş bir Execution client'ınız varsa, bunun yerine burada onun URL'sini kullanın.

Daha sonra `rp service config` komutunu tekrar çalıştırarak bunu her zaman değiştirebileceğinizi unutmayın.

### Consensus Client Kurulumu

Ardından, hangi Consensus client'ı kullandığınız (veya kullanmayı planladığınız) sorulacaktır.
Her Consensus client biraz farklı davrandığı için, Smartnode kendi davranışını buna göre uyarlayabilmesi için hangisini kullandığınızı bilmesi gerekir.
Aşağıdaki ekrandaki listeden client'ınızı seçin:

<img src={tui_native_cc} width="100%" height="auto" />

Ardından, client'ınızın API URL'sini isteyen bir ekran göreceksiniz:

<img src={tui_native_cc_url} width="100%" height="auto" />

Consensus client'ınızın Beacon Node'unu Smartnode ile aynı makinede çalıştırmayı planlıyorsanız buraya `http://127.0.0.1:5052` girin (bu kılavuzun geri kalanında, bunu yapmayı planladığınızı varsayacağız).
Ancak, başka bir yerde zaten kurulmuş bir Beacon Node'unuz varsa, bunun yerine burada onun URL'sini kullanın.

### Diğer Ayarlar

Bir sonraki ekranda birkaç başka çeşitli ayar olacaktır:

<img src={tui_native_other} width="100%" height="auto" />

Smartnode kurulumunuz için `/srv/rocketpool` dışında bir dizin kullanmaya karar vermediyseniz, bunları varsayılan seçenekler olarak bırakın.

### Yedek Client'lar

Smartnode stack'in 1.5.0 sürümünden itibaren, birincil client'larınız herhangi bir zamanda çevrimdışı olursa (örneğin Geth kullanıyorsanız ve onu budamanız gerekiyorsa) onların yerini alabilecek bir "yedek" Execution client ve Consensus client çifti sağlayabilirsiniz.
Bu durumda, birincil node makineniz hala minipool'larınızın validator anahtarları ile tanıklık etmekten ve bloklar önermekten sorumlu olacaktır, ancak Execution katmanı ve Beacon zincirleri ile etkileşim kurmak için harici bir makineye bağlanacaktır.

[Yedek node'lar hakkında daha fazla bilgi edinmek için bu bölüme bakın](./fallback) ve bittiğinizde buraya geri dönün.

### Metrikler

Rocket Pool, node'unuzun sağlığını bir bakışta gözlemlemenize olanak tanıyan kullanışlı web tabanlı panolar üretmek için Prometheus ve Grafana ile entegre olma yeteneğine sahiptir:

<img src={nimbus_dashboard} width="100%" height="auto" />

Sihirbazdaki son soru size bunu etkinleştirmek isteyip istemediğinizi soracaktır:

<img src={tui_native_metrics} width="100%" height="auto" />

Etkinleştirmeyi seçerseniz, sürecin ilerleyen bölümlerinde [Grafana Panosunu Kurma](./grafana.mdx) bölümünde nasıl kurulacağı ve nasıl kullanılacağı hakkında daha fazla bilgi edineceksiniz.

::: warning NOT
Bu sistem tarafından toplanan tüm veriler **makinenizde kalır**.
Rocket Pool, telemetriyi toplamaz veya ayrı bir hizmete göndermez.
Tamamen kendi node'unuzu izleyebilmeniz için oradadır!
:::

### MEV Yapılandırması

Eylül 2022'de Execution ve Consensus katmanlarının birleşmesinden bu yana, Ethereum validator'ları artık öncelik ücretleri kazanma ve Maksimum Çıkarılabilir Değere (kısaca MEV) katılma yeteneğine sahiptir.

Smartnode v1.7.0 ile başlayarak, MEV artık _devre dışı bırakma seçeneği_ olduğundan, yapılandırması hakkında bir bildirim, bir sonraki ekranda gördüğünüz gibi ilk kurulumun bir parçası olarak sunulur:

<img src={tui_native_mev} width="100%" height="auto" />

[MEV, yapılandırması ve sihirbazın bu bölümünde ne yapmanız gerektiği hakkında daha fazla bilgi edinmek için lütfen MEV kılavuzumuzu okuyun.](./mev.mdx)
Bitirdiğinizde buraya geri dönün.

### Tamamlama

Bu sorudan sonra, Smartnode yapılandırmasını kurmayı tamamladınız.
Aşağıdaki iletişim kutusunu göreceksiniz:

<img src={tui_native_finished} width="100%" height="auto" />

Kurulumunuzdan memnunsanız ve Smartnode'u başlatmaya hazırsanız, burada `Save and Exit`'e tıklayın.

Henüz Rocket Pool'u kurmayı bitirmediyseniz, şimdi Native kurulum kılavuzuna geri dönün.
Aksi takdirde, bir sonraki adım daemon servislerinizi şununla yeniden başlatmaktır:

```shell
sudo systemctl restart rp-node rp-watchtower
```

Tüm ayarları gözden geçirmek ve Sihirbaza dahil edilmeyen birçok ek ayarı özelleştirmek istiyorsanız, `Review All Settings`'e tıklayın ve [sonraki bölüme](#ayarlar-yoneticisi-ile-yapilandirma) gidin.

## Ayarlar Yöneticisi ile Yapılandırma

Zaten `rp service config` komutunu çalıştırdıysanız, Sihirbaz ile karşılaşmak yerine **Ayarlar Yöneticisi** ekranını göreceksiniz:

<img src={tui_native_settings_home} width="100%" height="auto" />

Bu ekranın üç ana özelliği vardır:

1. **Kategori Listesi**, Native modu ile ilgili Smartnode stack'inin her kategorisi için ayarları detaylandırmanıza olanak tanır
2. **Değişiklikleri Gözden Geçir ve Kaydet** düğmesi, hangi ayarları değiştirdiğinizi görmek ve güncellenmiş yapılandırmayı kaydetmek için hazır olduğunuzda kullanabileceğiniz
3. **Yapılandırma Sihirbazını Aç** düğmesi, bunun yerine o arayüzü tercih ederseniz sizi [Kurulum Sihirbazı](#sihirbaz-ile-yapilandirma)'na götürecektir

::: tip İPUCU
Ayarlar Yöneticisini kullanmak için, **ana sayfadaki seçenekler arasında gezinmek için `Ok Tuşlarına` (yukarı/aşağı/sol/sağ) basın**.

Ekranın altındaki **kategori listesi (1) ve düğmeler (2 ve 3) arasında** geçiş yapmak için `Tab` tuşuna basın.
Şu anda seçili olan düğme **yeşil renkte vurgulanacaktır**.

Bir düğmeyi seçmek için **`Enter` veya `Space` tuşuna basın**, fareyle üzerine tıklamaya benzer.

**Herhangi bir şeyi kaydetmeden Ayarlar Yöneticisinden çıkmak için herhangi bir zamanda `Ctrl` tuşunu basılı tutun ve `C` tuşuna basın**.
:::

Kategoriler listesini kaydırdıkça, her seçenek için ekranın sağındaki **Açıklama Kutusunda** yararlı bir açıklama görünecektir.
Bunları keşfetmekten çekinmeyin; **Değişiklikleri Gözden Geçir ve Kaydet** düğmesi aracılığıyla Gözden Geçirme iletişim kutusundan geçene kadar hiçbir şey kaydedilmeyecektir ve herhangi bir zamanda kaydetmeden çıkmak için **Ctrl+C** tuşlarına basabilirsiniz, bu nedenle buradaki ayarlarla oynayarak yanlışlıkla bir şeyi bozmazsınız.

### Ayarları Yapılandırma

Ana ekrandan, o kategorinin ayarlarını görüntülemek için `Enter` tuşu ile kategorilerden herhangi birini seçin.
Örneğin, işte **Smartnode ve TX Ücretleri** kategorisi için ekran:

<img src={tui_native_smartnode} width="100%" height="auto" />

Ayarlar arasında yukarı ve aşağı hareket etmek için `Ok Tuşlarını` kullanın.
Şu anda seçili olanın sonunda beyaz bir kare olacaktır (bir metin kutusu veya onay kutusu ise), veya beyaz renkte vurgulanacaktır (bir açılır menü ise).

Bittiğinizde Ayarlar Yöneticisinin ana ekranına geri dönmek için `Escape` tuşuna basın.

Ayarları kaydırdıkça, her biri sağdaki **Açıklama Kutusunda** ne yaptığının kısa bir açıklamasını gösterecektir.
Ayrıca, varsayılan ayarına geri döndürmek istemeniz durumunda orada **varsayılan değeri** gösterecektir.

Bu örnekte, **RPL Claim Gas Threshold** ayarı şu anda seçili (ekranın sol tarafında yeşil bir kutu ile vurgulanmış).
`40` olarak değiştirilmiştir, ancak sağ üst köşede (Açıklama Kutusunun üstünde) `150` varsayılan değerine sahip olduğunu görebilirsiniz.

::: tip İPUCU
Bir hatırlatma olarak, **Değişiklikleri Gözden Geçir ve Kaydet** düğmesi aracılığıyla Gözden Geçirme iletişim kutusundan geçene kadar hiçbir şey diske kaydedilmeyecektir.
Tüm ayarları keşfetmeniz ve bunlar hakkında bilgi edinmeniz teşvik edilir.
:::

### Ayar Türleri ve Nasıl Kullanılır

Ayarlar yöneticisi aşağıdaki ayar türlerini ve UI öğelerini kullanır:

#### Metin Kutuları

Metin kutuları, rastgele metin veya sayı dizilerini girmek için kullanılır.
Şöyle görünürler:

<img src={tui_textbox} width="100%" height="auto" />

İstediğiniz değerleri bunlara girin, ardından değişikliklerinizi korumak için **`Enter` tuşuna basın veya farklı bir ayara gitmek için `Ok Tuşlarını` kullanın.**
Yapmazsanız, Ayarlar Yöneticisi hala o ayarı güncellediğinizi varsayacak ve henüz değiştirilmiş olarak işaretlemeyecektir.

#### Açılır Menüler

Açılır menüler, bir seçenek listesinden bir seçenek seçmek için kullanılır.
Şöyle görünürler (açık olduklarında):

<img src={tui_dropdown_open} width="100%" height="auto" />

**Yeşil** öğe şu anda seçili olandır.
Seçenekleri değiştirmek için `Ok Tuşlarını` kullanın - bunu yaparken, sağdaki **Açıklama Kutusu** şu anda seçili olan seçenek hakkında size daha fazla bilgi vermek için güncellenecektir.
Seçiminizden memnun olduğunuzda, seçili seçeneği seçmek için `Enter` tuşuna basın ve açılır menü kapanacak, şu anda seçili olan seçeneği ortaya çıkaracaktır:

<img src={tui_dropdown_closed} width="100%" height="auto" />

#### Onay Kutuları

Onay kutuları basit Evet/Hayır soruları için kullanılır.
Şöyle görünürler:

<img src={tui_checkbox_checked} width="100%" height="auto" />

İşaretlendiklerinde, yukarıda gördüğünüz gibi ortalarında bir `X` olacaktır.
_İşaretlenmemiş_ olduklarında, şöyle basitçe boş olacaklardır:

<img src={tui_checkbox_unchecked} width="100%" height="auto" />

Ayarı değiştirmek için, basitçe onu seçin ve `Enter` tuşuna basın.

### Değişiklikleri Kaydetme

Değişikliklerinizden memnun olduğunuzda ve kaydetmeden önce bunları gözden geçirmek istediğinizde, ana ekrandaki **Değişiklikleri Gözden Geçir ve Kaydet** düğmesine basın.
Bir hatırlatma olarak, ona ulaşmak için `Tab` tuşuna basın.

Şuna benzeyen bir görünüm ile karşılaşacaksınız:

<img src={tui_native_review} width="100%" height="auto" />

Buradaki **Gözden Geçirme Kutusu**, değiştirdiğiniz tüm ayarları sunacak, eski değerleri ve yenilerini gösterecektir.
Örneğin, buradaki ilk satır **RPL Claim Gas Threshold**'un `150` olduğunu ve `40`'a değiştirildiğini gösterir.

::: tip NOT
Bu noktada, değişiklikleriniz **hala kaydedilmemiştir**.
Geri dönüp bir şeyi değiştirmek istiyorsanız, ana ekrana dönmek için `Escape` tuşuna basın.
:::

Değişikliklerden memnun olduğunuzda, yeni yapılandırmayı diske kaydetmek için `Enter` tuşuna basın.
Daha sonra Terminal UI'dan çıkacaksınız ve şu mesajla karşılaşacaksınız:

```
Your changes have been saved!
Please restart your daemon service for them to take effect.
```

Henüz Rocket Pool'u kurmayı bitirmediyseniz, şimdi Native kurulum kılavuzuna geri dönün.
Aksi takdirde, şimdi daemon servislerinizi şununla yeniden başlatabilirsiniz:

```shell
sudo systemctl restart rp-node rp-watchtower
```

## Komut Satırı ile Yapılandırma

Smartnode'u Terminal UI ile etkileşime giremeyeceğiniz başsız bir ortamda kullanıyorsanız, bunun yerine node'unuzu komut satırı aracılığıyla yapılandırabilirsiniz.

`rocketpool service config` komutu, normalde Terminal UI aracılığıyla yapılandırılabilen her ayarı argüman olarak kabul eder.
Bunların bir listesini görmek için aşağıdaki komutu çalıştırın (oldukça uzun olduğunu unutmayın):

```
rocketpool service config --help
```

Çıktı şöyle görünecektir:

```
NAME:
   rocketpool service config - Configure the Rocket Pool service

USAGE:
   rocketpool service config

OPTIONS:
   --executionClientMode value  Choose which mode to use for your Execution client - locally managed (Docker Mode), or externally managed (Hybrid Mode).
                                Type: choice
                                Options: local, external
 (default: "local")
   --executionClient value  Select which Execution client you would like to run.
                            Type: choice
                            Options: geth, infura, pocket
 (default: "geth")
   --useFallbackExecutionClient         Enable this if you would like to specify a fallback Execution client, which will temporarily be used by the Smartnode and your Consensus client if your primary Execution client ever goes offline.
                                        Type: bool

...
```

Her seçenek, adını, türünü, varsayılan değerini ve (bir seçim parametresiyse) seçeneklerini içerecektir.
Bu metni kullanarak, ayarlamak istediğiniz seçeneği(leri) bulabilir ve uygun argümanlar aracılığıyla belirtebilirsiniz.

::: tip NOT
Bu komut mevcut yapılandırmanızın üzerine inşa edilir, bu nedenle zaten kaydedilmiş bazı ayarlarınız varsa ve sadece diğerlerini değiştirmek istiyorsanız, bunları tekrarlamanıza gerek yoktur.
Yalnızca bu komuta argüman olarak dahil ettiğiniz ayarları güncelleyecektir.
:::

Henüz Rocket Pool'u kurmayı bitirmediyseniz, şimdi Native kurulum kılavuzuna geri dönün.
Aksi takdirde, bir sonraki adım daemon servislerinizi şununla yeniden başlatmaktır:

```shell
sudo systemctl restart rp-node rp-watchtower
```
