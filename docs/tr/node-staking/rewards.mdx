import claim_rewards_gb from "./images/claim-rewards-gb.png";
import autostake from "./images/autostake.png";

# Node Operatörü Ödüllerini Talep Etme

Bir Rocket Pool node operatörü olarak, RPL token ve (Smoothing Pool'a katıldıysanız) bir miktar ETH şeklinde düzenli ödüller alma hakkına sahipsiniz.
Bu bölüm, bu ödüllerin nasıl çalıştığını ve bunları nasıl talep edebileceğinizi açıklayacaktır.

## Ödüller ve Kontrol Noktaları

Düzenli aralıklarla, Rocket Pool ağda bir **kontrol noktası** işaretleyecektir.
Şu anda, kontrol noktaları **her 28 günde bir** gerçekleşmektedir.

Yeni bir kontrol noktasında, Oracle DAO toplu olarak Rocket Pool ağındaki node operatörlerinin durumunun **gerçek bir anlık görüntüsünü** oluşturacak ve bu aralıkta her node için RPL ve Smoothing Pool ETH ödüllerini belirlemek için bunu kullanacaktır. "Bonus komisyon"un Saturn 0 minipool'lar için smoothing pool ödülleri kullanılarak dağıtıldığını unutmayın (Saturn 0 minipool'lar, 2024/10/28'den sonra oluşturulan ve sözleşme komisyonu %5 olan minipool'lardır).

Bu bilgi bir [Merkle Ağacı](https://en.wikipedia.org/wiki/Merkle_tree)'na derlenir - tüm detayları akıllı sözleşmelere sunmanın son derece verimli bir yolu.
Merkle Ağacı bir JSON dosyasına yerleştirilir ve [InterPlanetary File System (IPFS)](https://en.wikipedia.org/wiki/InterPlanetary_File_System) üzerinde barındırılır ve [bakımını yaptığımız bir GitHub deposunda](https://github.com/rocket-pool/rewards-trees/) yansıtılır.

Ağaç gönderildikten sonra, Rocket Pool akıllı sözleşmeleri yeni RPL token'ları basacak ve bunları Smoothing Pool'un tüm ETH bakiyesiyle birlikte güvenli depolama için Rocket Pool vault'una taşıyacaktır.
Daha sonra o aralıkta kaç RPL ve ETH ödülü kazandığınızı görüntüleyebilir ve bu ödülleri talep edebilirsiniz.

Ödül sisteminin aşağıdaki özellikleri vardır:

- Her aralık bağımsızdır. Bir aralıkta kazandığınız RPL ve ETH miktarı, sonraki aralıkların kazançlarını etkilemez.
- İstediğiniz kadar **ödüllerin birikmesine izin verebilirsiniz**. Ödülleri belirli bir zamana kadar talep etmeniz gerekmez; her zaman talep edebilmeniz için uygun olacaklar ve **ne zaman talep ederseniz edin** her zaman tam olarak aynı miktarda RPL ve ETH sağlayacaklar.
- Bir aralığı aynı anda talep edebilir veya **birden fazla aralığı** aynı anda talep edebilirsiniz.
- İlk talep işleminiz yaklaşık 85k gas kullanır. Her sonraki talep işlemi yaklaşık 55k gas maliyetlidir.
  - Birden fazla aralığı aynı anda talep ediyorsanız, her ek aralık **6k gas** maliyetlidir, bu nedenle mümkün olduğunca çoğunu aynı anda talep etmek en uygun maliyetlidir.
- Talep işleminin bir parçası olarak RPL ödüllerinizin bazılarını (veya tümünü) **yeniden stake edebilirsiniz**, böylece her şey tek bir işlemde yapılır (bu da gas maliyetlerini daha da azaltır).
- Şu anda, **tüm taleplerinin Mainnet'te olması gerekir** ancak daha sonraki bir tarihte Layer 2 ağlarında talep etme yeteneğini oluşturmak için altyapıya sahibiz.

Merkle Ağacı'nın nasıl oluşturulduğu ve ödüllerin nasıl hesaplandığı hakkında daha fazla bilgi için, [lütfen `research` depomzu ziyaret edin ve resmi spesifikasyonları görüntüleyin](https://github.com/rocket-pool/rocketpool-research/tree/master/Merkle%20Rewards%20System).
Aşağıda bunların kısa bir açıklamasını sağladık.

### RPL Ödülleri

RPL'nin mevcut ödül oranı **yılda %5 enflasyon**dur ve ödüller her 28 günlük dönemde ödenir.
2024/10/21 itibariyle, geçen dönemin enflasyonu 77,533 idi. %70'i Rocket Pool node operatörlerine dağıtıldığı için, o dönem 54,273 RPL idi.

Bu miktar, [node ağırlıklarına](https://rpips.rocketpool.net/RPIPs/RPIP-30#specification) göre ağdaki tüm node operatörleri arasında bölünecektir.
Node operatörleri, ödünç alınan ETH'nin %0-15'i değerinde stake edilmiş RPL pozisyonları için maksimum APY kazanır.
Ödünç alınan ETH'nin %15'inin ötesindeki RPL stake'i hala daha fazla ödül kazanır, ancak azaltılmış marjinal APY'de.

Node'unuzu kaydettiğiniz zaman ile kontrol noktası arasında 28 günden az geçtiyse, o ilk ödül aralığındaki ödülleriniz bunu hesaba katmak için **orantılı** olacaktır. Örneğin, aralığın 14. gününde kayıt olduysanız, normal ödüllerin %50'sini alırsınız.

O ilk aralıktan sonra, node'unuz sonraki aralıklarda yeterince uzun süre kayıtlı olacak ve bunların tümü için tam ödüller alacaksınız.

`rocketpool node status` komutu, herhangi bir zamanda mevcut teminat oranınızı gösterecektir. Bu teminat oranı, komutu çalıştırdığınız andaki fiyatlara dayalı olacaktır. Ancak, bir sonraki ödül turunda teminat oranınızın ne olacağını bilmek istiyorsanız, sonraki adımları izleyin:

- [Rocketpool Discord](https://discord.com/channels/405159462932971535/405503016234385409)'un "random" kanalında `/when` komutunu çalıştırın ve bir sonraki ödül döneminin başlamasına kaç saat kaldığını görün.
- oDAO her 19.2 saatte bir fiyat anlık görüntüsü alır (yani yaklaşık 5760 blok \* 12 saniye, kaçırılan bloklar hariç). Bu nedenle, Etherscan'deki oDAO fiyat gönderme sözleşmesini kontrol etmek, yukarıdaki madde işaretinde belirtilen zamandan önceki 19.2 saat içinde bir fiyat anlık görüntüsünün alınıp alınmadığını size söyleyecektir. Durum buysa, fiyat anlık görüntüsü alınmıştır. Değilse, henüz yapılmamıştır ve son oDAO fiyat gönderimlerine bakarak ve 19.2 saat ekleyerek ne zaman olacağını tahmin edebilirsiniz.
- oDAO tarafından bir sonraki ödül turu için hangi RPL/ETH fiyat oranının anlık görüntü olarak alındığını kontrol etmek için, Etherscan'deki oDAO fiyat gönderme sözleşmesini kontrol edin (bunu Rocketpool Discord'un "random" kanalında `/get_address_of_contract contract:rocketNetworkPrices` komutunu çalıştırarak elde edebilirsiniz). Ardından, oDAO üyeleri tarafından gönderilen işlemlerden birini veya daha fazlasını açın. <a href="/images/node/rewards/rewards-1.png" target="_blank"><img src="/images/node/rewards/rewards-1.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Aşağı kaydırın ve "More Details" bölümünde **"+ Click to show more"** üzerine tıklayın ve ardından **"Decode Input Data"** üzerine tıklayın. <a href="/images/node/rewards/rewards-2.png" target="_blank"><img src="/images/node/rewards/rewards-2.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Input Data kutusunda gösterilen RPL fiyatı (wei birimlerinde), 10^18'e bölünür (ETH birimlerine dönüştürmek için) ve stake edilen RPL sayısıyla çarpılır, her bir minipool türünden kaç tane işlettiğinizin çarpımı olan >= 1.6 ETH (16 ETH minipool'lar için) ve >= 2.4 ETH (LEB8'ler için) olmalıdır. <a href="/images/node/rewards/rewards-3.png" target="_blank"><img src="/images/node/rewards/rewards-3.png" style={{ display: "block", margin: "0 auto" }} /></a>
- Teminat oranınız önceki noktada açıklandığı gibi gerekli miktarın altındaysa, node'unuzu >=10% teminat oranına geri getirmek için oDAO'nun son fiyat anlık görüntüsünü aldığı zaman (yukarıdaki 3. madde işaretine bakın) ile bir sonraki ödül turunun başladığı zaman (yukarıdaki 1. ve 2. madde işaretlerine bakın) arasındaki sürede ek RPL stake edebilirsiniz.
- Etherscan'de oDAO fiyat gönderimlerini kontrol etmenin bir alternatifi, Rocketpool discord'un "events" kanalını takip etmek ve bir sonraki ödül döneminin başlamasından önceki son 19.2 saat içinde Rocket Watch botundan **RPL Price Update** mesajını aramaktır (aşağıdaki örneğe bakın). <a href="/images/node/rewards/rewards-4.png" target="_blank"><img src="/images/node/rewards/rewards-4.png" style={{ display: "block", margin: "0 auto" }} /></a>

### Smoothing Pool ETH Ödülleri

RPL ödülleriyle birlikte, Smoothing Pool'un tüm ETH bakiyesi ödül kontrol noktalarında dağıtılır.
Smoothing Pool'un tüm ödül bakiyesinden, pool staker'lara karşılık gelen yüzde (%16 ETH minipool'lar için %50 veya LEB8'ler için %75), ilgili node komisyonu eksilir, rETH sözleşmesine gönderilir. Orada 1) çıkmak isteyen pool staker'lardan ETH için yakılabilir veya 2) daha fazla minipool oluşturmak için kullanılabilir.
Kalan kısım uygun node operatörleri arasında dağıtılacaktır.

Aralığın sadece bir bölümünde bile olsa, o aralık için smoothing pool'a katılmış node'lar, Smoothing Pool'un toplam bakiyesinin bir kısmı için uygundur.
Bakiye ödül kontrol noktasında anlık görüntü alınır ve Oracle DAO her uygun node'un kısmını belirler.
Kısım aşağıdaki faktörlere göre belirlenir:

- Bu aralıkta Smoothing Pool'da geçirilen süre
- Her minipool için Beacon Chain'deki attestation performansı
- Her minipool'un komisyonu

Daha fazla bilgi edinmek isterseniz, lütfen ödüllerin nasıl hesaplandığının tam dökümü için yukarıda bağlantısı verilen `research` deposuna bakın.

### (İsteğe Bağlı) Ödül Ağacını Oluşturma

Yeni bir ödül kontrol noktasına ulaşıldığında, Oracle DAO o aralık için ödül ağacını oluşturmaya başlayacaktır.
Bu ağacı oluşturmak şu anda yaklaşık 2 saat sürmektedir ve ağaç oluşturulup gönderilene kadar aralık için ödüller talep edilebilir değildir.
Kullanılabilir olduğunda, node'unuz bu dosyayı otomatik olarak indirecek ve o aralık için ödüllerinizi görüntüleyebilecek ve talep edebileceksiniz.

Oracle DAO'dan önceden oluşturulmuş olanı indirmek yerine ağacı kendiniz oluşturmak isterseniz, bunu yapabilirsiniz!

- `rocketpool service config` TUI'sine girin.
- `Smartnode and TX Fees` bölümüne gidin.
- `Rewards Tree Mode`'u `Download`'dan `Generate`'e değiştirin.
- Birincil Execution istemciniz bir arşiv node'u değilse, `Archive-Mode EC URL` kutusuna ayrı bir arşiv node'u için bir URL ekleyebilirsiniz.
  - Bu, tarihsel ödül ağaçlarını oluşturmak için gereklidir.
  - Archive EC yalnızca ağaç oluşturma için kullanılacaktır; diğer Smartnode görevleri için kullanılmayacaktır.
  - [Infura](https://infura.io/product/ethereum) ve [Alchemy](https://www.alchemy.com/supernode) arşiv node'u erişimi sunar. **Ücretsiz katmanların genellikle ağaç oluşturmayı kaldırmak için yeterli olmadığını unutmayın, bu nedenle ücretli katmanlardan birine ihtiyacınız olacaktır.**

Artık Smartnode'unuz, Oracle DAO'dan tamamen bağımsız olarak, yalnızca Execution ve Consensus istemcileriniz tarafından sağlanan verileri kullanarak ağacı oluşturacaktır.
Bir ödül aralığı kontrol noktası sırasında `rocketpool service logs watchtower` ile izleyebilirsiniz.

Önceki aralıklardan geçmiş ağaçları yeniden oluşturmak isterseniz, bunu aşağıdaki komutla yapabilirsiniz:

```shell
rocketpool network generate-rewards-tree
```

İstemleri takip edin ve ardından ilerlemesini görüntülemek için `rocketpool service logs watchtower` kullanın.

## Ödülleri Talep Etme

Bekleyen talep edilmemiş ödüllerinizi görüntülemek için aşağıdaki komutu çalıştırın:

```shell
rocketpool node claim-rewards
```

Aralıklar geçtikçe ve ödüller biriktikçe, çıktı şöyle görünecektir:

<img src={claim_rewards_gb} width="100%" height="auto" />

Burada her aralıkta kaç ödül kazandığınızı hızlıca görebilir ve hangisini (veya hangilerini) talep etmek istediğinize karar verebilirsiniz.

Ayrıca bu talep sırasında yeniden stake etmek istediğiniz bir miktarı da belirtebilirsiniz:

<img src={autostake} width="100%" height="auto" />

Bu, RPL ödüllerinizi tek bir işlemde bileştirmenize olanak tanır, bu da gas maliyetlerinden tasarruf sağlar.

Sadece istemleri takip edin, node cüzdanınızın talep etmenin gas maliyetlerini ödemeye yetecek kadar ETH'ye sahip olduğundan emin olun ve işiniz bitti!
**Ödülleriniz çekim adresinize gönderilecektir.**

::: tip İPUCU
Zaten talep ettikleriniz de dahil olmak üzere node'unuzun toplam ödüllerini görüntülemek için aşağıdaki komutu kullanın:

```shell
rocketpool node rewards
```

Bu, şimdiye kadar ne kadar RPL ve ETH talep ettiğinizin ve hala ne kadarının talep edilmediğinin bir dökümünü sağlayacaktır:

```
=== ETH ===
You have earned 8.1935 ETH from the Beacon Chain (including your commissions) so far.
You have claimed 0.0634 ETH from the Smoothing Pool.
You still have 3.4788 ETH in unclaimed Smoothing Pool rewards.

=== RPL ===
The current rewards cycle started on 27 Sep 22 21:26 EDT.
It will end on 30 Sep 22 21:26 EDT (20h35m17s from now).
You currently have 675.616380 unclaimed RPL from staking rewards.

Your estimated RPL staking rewards for this cycle: 36.851544 RPL (this may change based on network activity).
Based on your current total stake of 6615.797278 RPL, this is approximately 67.77% APR.
Your node has received 208.551820 RPL staking rewards in total.

You may claim these rewards at any time. You no longer need to claim them within this interval.
```

:::

## Fee Distributor'ınızdaki Execution-Layer Ödülleri

Smoothing Pool'a katılmadıysanız, blok tekliflerinden gelen ödüllerinizin Execution-layer kısmı (işlem ücretleri ve MEV dahil) bunun yerine node'unuzun [Fee Distributor](./fee-distrib-sp#fee-distributors-and-the-smoothing-pool) sözleşmesine gönderilecektir.

Fee Distributor'ınızın bakiyesini kontrol etmek için [https://etherscan.io](https://etherscan.io) gibi bir zincir gezgini kullanabilir veya basitçe `rocketpool node status` çalıştırabilirsiniz - onu gösteren **Fee Distributor and Smoothing Pool** adlı bir bölüm olacaktır:

```
=== Fee Distributor and Smoothing Pool ===
The node is not opted into the Smoothing Pool.
To learn more about the Smoothing Pool, please visit /tr/legacy/redstone/whats-new.html#smoothing-pool.
The node's fee distributor 0xA0bfbFC582f5814585f8455Ed6D7B620eA9a9EE4 has a balance of 1.143598 ETH.
```

### Bakiyeyi Dağıtma

Fee Distributor'ın bakiyesine erişmek için onu **dağıtacaksınız** (dolayısıyla adı, _Fee Distributor_).
Bu, ödüllerin sizin payınızı hesaplayacak (node'unuzun ortalama minipool komisyonuna göre) ve node'unuzun çekim adresine gönderecek; geri kalanı staking pool'una gönderilir.

Dağıtım **herhangi bir zamanda** yapılabilir.
İsterseniz bakiyenin üzerinde oturabilir ve biriktirmesine izin verebilir veya düzenli olarak dağıtabilirsiniz.

Bakiyeyi dağıtmak için aşağıdaki komutu çalıştırın:

```shell
rocketpool node distribute-fees
```

Bu, size ne kadar gittiğini ve staking pool'una ne kadar gittiğini gösterecektir:

```
Your node's average commission is 15.00%.
Your fee distributor's balance of 1.143599 ETH will be distributed as follows:
 Your withdrawal address will receive 0.657569 ETH.
 rETH pool stakers will receive 0.486030 ETH.
```

Sadece istediğiniz gas fiyatını onaylayın ve işlemi gönderin.
Tamamlandıktan sonra, ödüllerin sizin kısmınız node'unuzun çekim adresinde kullanılabilir olacaktır.
