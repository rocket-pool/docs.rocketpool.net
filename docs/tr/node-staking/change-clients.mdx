import tui_select_ec from "./images/tui-select-ec.png";
import tui_confirm_ec from "./images/tui-confirm-ec.png";
import tui_select_cc from "./images/tui-select-cc.png";
import tui_checkpoint_sync from "./images/tui-checkpoint-sync.png";
import tui_confirm_cc from "./images/tui-confirm-cc.png";

# Execution veya Consensus Client'larını Değiştirme

Normal koşullar altında, muhtemelen Rocket Pool node'unuzu ilk oluşturduğunuzda bir Execution ve Consensus client'ı seçecek ve Node'unuzun ömrü boyunca mutlulukla çalışmalarına izin vereceksiniz.
Ancak, client seçiminizi değiştirmek isteyebileceğiniz birkaç durum vardır.
İşte birkaç örnek:

- Client'ınız Execution veya Beacon zincirlerinde [süper çoğunluk](https://clientdiversity.org/) payı kazanır ve ağın genel sağlığı için değiştirmek istersiniz
- Bir hata client'ınızın doğru çalışmasını durdurur ve doğrulama görevlerini sürdürmek için hızla çevrimiçi olmanız gerekir
- Farklı bir client'ın sunduğu yeni bir özelliği denemek istersiniz
- Farklı bir client node'unuzun donanımına daha uygun (örneğin bazı client'lar ARM sistemlerinde diğerlerinden daha iyidir)

Neyse ki, Smartnode stack'i client'ları değiştirmeyi son derece kolaylaştırır.
Yapılandırma TUI'sinde birkaç değişiklik ve client'ları değiştirmeden önce mevcut client verilerinizi yedeklemek için bazı isteğe bağlı ekstra komutlar yeterlidir.

## Execution Client'larını Değiştirme

Execution client'ınızı değiştirmeden önce, aşağıdaki noktaları not etmekte fayda vardır:

- Zincir verisi client'lar arasında **paylaşılmaz**. Yeni client'ınızın Mainnet zincir verisini yeniden senkronize etmesi gerekecektir, bu biraz zaman alabilir (ancak her client, Smartnode'un yeniden senkronizasyonu hızlandırmak için kullandığı snap sync'i destekler).
- Varsayılan olarak, Smartnode eski client'ınızın zincir verisini sürücünüzde bırakacaktır, böylece eski Execution client'ınıza geri dönmek ve kaldığınız yerden devam etmek isterseniz. Client'ları değiştirmeden önce **başka bir konuma dışa aktarmak** ve alan açmak için silmek isteyebilirsiniz, çünkü Execution client'lar yüzlerce gigabayt kullanabilir. Bunu nasıl yapacağınıza dair aşağıda adımlar bulunmaktadır.
- Yeni client'ınız yeniden senkronize olurken, Smartnode CLI fonksiyonlarının çoğu çevrimdışı olacaktır çünkü Execution client'a güvenirler. **Smartnode'unuzdaki kesinti süresini azaltmak için bunu yapmadan önce bir yedek Execution client'ınız olmalıdır.**

### (İsteğe Bağlı) Execution Client'ınızın Veritabanını Dışa Aktarma

Süreçteki ilk adım isteğe bağlıdır: isterseniz, mevcut Execution client'ınız için mevcut zincir verinizi dışa aktarabilirsiniz.
Bu, yeni Execution client'ınız için node'unuzda değerli disk alanı açmanıza olanak tanır ve eski client'a geri dönmek ve kaldığınız yerden devam etmek isterseniz eski zincir verisini saklamaya devam edebilirsiniz.

Ayrıntılar için lütfen [Node'unuzu Yedekleme](./backups##execution-zincir-verinizi-yedekleme) rehberine bakın.

### Seçili Execution Client'ınızı Değiştirme

Seçili client'ınızı değiştirmek için yapılandırma UI'sına girmek için `rocketpool service config` komutunu çalıştırın.
`Execution Client (ETH1)` bölümüne gidin ve `Execution Client` açılır menüsünü seçin:

<img src={tui_select_ec} width="100%" height="auto" />

Açılır menüyü `Enter` ile açın, seçtiğiniz client'a gitmek için ok tuşlarını kullanın ve seçimi onaylamak için tekrar `Enter` tuşuna basın.

Her client'ın kendine özgü seçenekleri olduğunu, bu nedenle farklı bir client seçtikten sonra bu ekranda bazı ek ayarlar görebileceğinizi unutmayın.
Bunların işleri nasıl etkilediğini görmek için keşfetmekten çekinmeyin.

Seçiminizden memnun olduğunuzda, ana menüye dönmek için `Esc` tuşuna, ardından `Review Changes and Save` düğmesini vurgulamak için `Tab` tuşuna basın.
Client seçim değişikliğinizi gösterecek olan inceleme ekranı size sunulacaktır:

<img src={tui_confirm_ec} width="100%" height="auto" />

Değişiklikleri kabul etmek için `Enter` tuşuna basın ve işiniz bitti!
Yeni Execution client'ınız hemen senkronize olmaya başlayacaktır.
Her zamanki gibi, `rocketpool service logs eth1` ile takip edebilirsiniz.
**Hata olmadığını ve düzgün çalıştığını doğrulamak için bunu yapmanızı öneririz.**

::: danger NOT
Artık Execution ve Consensus katmanları birleştiğine göre, Execution client'ınızı devre dışı bırakmak, Execution client'ınız yeniden senkronize bitene kadar Consensus client'ınızı _da_ devre dışı bırakacaktır.
Bu, node'unuzun **tasdik etmeyi ve blok önermeyi durduracağı ve ETH kazanmak yerine sızdıracağı** anlamına gelir!

Bunu önlemek ve Execution client'ınız yeniden senkronize olurken doğrulamaya devam etmek için **lütfen bir [yedek node](./fallback) kurun**.
:::

### (Önerilen) Eski Zincir Verinizi Kaldırma

Bu gerekli bir adım değildir, ancak yeni bir client'a geçtiğiniz için eski client'ınızdan zincir verisini kaldırmanızı **şiddetle öneririz**, böylece bunun için disk alanı açabilirsiniz.

Bunu yapmak için sadece aşağıdaki komutu çalıştırın:

```shell
rocketpool service resync-eth1
```

Bu, tüm Execution client verinizi silecek ve baştan başlatacaktır.

::: tip İPUCU
Yeni bir Execution client seçtiğiniz için, bundan etkilenmeyecektir - aslında, tek yapacağı eski zincir verinizi silmek olacaktır.
Yeni client'ınızda gereksiz ilerleme kaybını önlemek için bunu client'ları değiştirdikten sonra mümkün olan en kısa sürede yapmalısınız.
:::

## Consensus Client'larını Değiştirme

Consensus client'larını değiştirmek, [Checkpoint Sync](./config-docker#beacon-chain-checkpoint-syncing) sayesinde Execution client'larından bile daha kolaydır.
Bu özellik, yeni bir Consensus client'ı hemen ağ ile senkronize etmenizi sağlar, bu nedenle eski zincir verinizi korumanıza gerek yoktur.

`rocketpool service config` UI'sını kullanarak başlayın ve `Consensus Client (ETH2)` bölümüne gidin.
Ardından, `Consensus Client` açılır menüsünü seçin:

<img src={tui_select_cc} width="100%" height="auto" />

Açılır menüyü `Enter` ile açın, seçtiğiniz client'a gitmek için ok tuşlarını kullanın ve seçimi onaylamak için tekrar `Enter` tuşuna basın.

Her client'ın kendine özgü seçenekleri olduğunu, bu nedenle farklı bir client seçtikten sonra bu ekranda bazı ek ayarlar görebileceğinizi unutmayın.
Bunların işleri nasıl etkilediğini görmek için keşfetmekten çekinmeyin.

Ardından, bir Checkpoint Sync sağlayıcısı kullandığınızı doğrulayın:

<img src={tui_checkpoint_sync} width="100%" height="auto" />

Yapılandırılmış bir Checkpoint Sync sağlayıcınız yoksa, [bunu ücretsiz yapmak için buradan talimatları kolayca kullanabilirsiniz](./config-docker#beacon-chain-checkpoint-syncing)!

Seçiminizden memnun olduğunuzda, ana menüye dönmek için `Esc` tuşuna, ardından `Review Changes and Save` düğmesini vurgulamak için `Tab` tuşuna basın.
Client seçim değişikliğinizi gösterecek olan inceleme ekranı size sunulacaktır:

<img src={tui_confirm_cc} width="100%" height="auto" />

Değişiklikleri kabul etmek için `Enter` tuşuna basın ve işiniz bitti!
Yeni Consensus client'ınız hemen senkronize olmaya başlayacaktır.
Her zamanki gibi, `rocketpool service logs eth2` ile takip edebilirsiniz.
**Hata olmadığını ve düzgün çalıştığını doğrulamak için bunu yapmanızı öneririz.**
