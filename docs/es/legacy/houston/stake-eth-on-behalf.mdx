import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Depositar ETH en nombre de un nodo

RPIP-32 permite que una cuenta [deposite ETH en nombre](https://rpips.rocketpool.net/RPIPs/RPIP-32) de un nodo de Rocket Pool que está registrado en el protocolo. Esto admite una variedad de situaciones en las que el operador del nodo no está proporcionando directamente el ETH:

- Mayor seguridad para los operadores de nodo, ya que pueden depositar directamente desde su billetera de hardware, eliminando la necesidad de transferir fondos al nodo de antemano.
- Proveedores de Staking como Servicio donde la custodia de fondos es administrada por un custodio de confianza.
- Integraciones de protocolo donde la custodia de fondos es administrada por contratos inteligentes.
- DAOs u organizaciones donde la custodia de fondos es administrada por una tesorería.

Aunque el objetivo principal de esta función es facilitar escenarios de depositante único, vale la pena señalar que múltiples depositantes independientes también pueden aprovechar esta capacidad creando contratos inteligentes en capas superiores. Rocket Pool también introdujo la capacidad de [depositar RPL en nombre](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) de un nodo en nuestro lanzamiento anterior de Atlas.

### Requisito previo

Asegúrese de haber configurado correctamente la [dirección de retiro principal](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo que pretende financiar. Siga el enlace de arriba para obtener una guía sobre cómo funcionan las direcciones de retiro después de houston.

::: tip NOTA
¡No omita este paso! Todo el bono/recompensas de ETH se retirarán a la dirección de retiro principal. En otras palabras, ¡la dirección que suministra ETH para un nodo debe usarse como la dirección de retiro principal! Por favor, asegúrese de que la dirección de retiro principal del nodo esté configurada a una billetera que usted controle.
:::

El proceso es ligeramente diferente para la Testnet Hoodi y Mainnet, así que elija la red en la que está interesado en las pestañas a continuación.

<div className="p-3">
  <Tabs>
    <Tab label="Preparación en la Testnet Hoodi">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">ADVERTENCIA</p>
        Cuando practique el staking en la red de prueba, **no necesita proporcionar ninguno de su ETH real** durante este proceso.
        Se le proporcionará **ETH de prueba falso** para usar en su lugar.

        **¡No intente mover su ETH real en mainnet a la testnet o lo perderá permanentemente!**
      </p>

      Comience instalando [MetaMask](https://metamask.io/) si aún no lo ha hecho.
      Siga las instrucciones en su sitio para instalar la extensión, crear una cuenta e iniciar sesión.

      A continuación, abra el panel de MetaMask usando su icono en la barra de herramientas de su navegador.

      Necesitará agregar la Testnet Hoodi a MetaMask.

      Haga clic en el menú desplegable superior izquierdo y haga clic en el botón "Add Network".

      Verá una lista de redes, Hoodi no está en esta lista, así que haga clic en el botón "Add a network manually".

      Complete los siguientes detalles:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Luego haga clic en Save. Ahora debería ver la red Hoodi en el menú desplegable superior izquierdo.

      Haga clic en el **menú desplegable de red** en la parte superior izquierda de la extensión Metamask y seleccione **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Ahora que tiene una dirección de billetera en MetaMask, necesita llenarla con algo de ETH de prueba.
      Diríjase a la página [Practicando con la Red de Prueba](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) para obtener una guía rápida sobre cómo usar un faucet de testnet para obtener algo de ETH de prueba en Hoodi.

      Una vez que tenga algo de ETH de Hoodi para probar, diríjase a [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Si ve un aviso sobre que se requiere un navegador web3, o que el ID de red actual no es compatible, asegúrese de haber completado los pasos anteriores correctamente antes de continuar.
    </Tab>
    <Tab label="Preparación en la Mainnet de Ethereum">
      Comience instalando [MetaMask](https://metamask.io/) si aún no lo ha hecho.

      Siga las instrucciones en su sitio para instalar la extensión, crear una cuenta e iniciar sesión.

      A continuación, abra el panel de MetaMask usando su icono en la barra de herramientas de su navegador.

      Haga clic en el **menú desplegable de red** en la barra de herramientas en la parte superior y asegúrese de que **Ethereum Mainnet** esté seleccionado:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Ahora que tiene una dirección de billetera en MetaMask, necesita transferir algo de ETH a ella.

      Deberá proporcionarlo desde una billetera existente o comprar ETH en un exchange.

      Una vez que tenga algo de ETH para depositar, diríjase a [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Si ve un aviso sobre que se requiere un navegador web3, o que el ID de red actual no es compatible, asegúrese de haber completado los pasos anteriores correctamente antes de continuar.
    </Tab>

  </Tabs>
</div>

Una vez que esté en el sitio, haga clic en el botón **connect wallet**. Por favor, lea y acepte los Términos de Servicio y la Política de Privacidad, esto habilitará diferentes formas de conectarse, luego haga clic en **connect metamask**.

MetaMask le pedirá que seleccione una cuenta para conectarse al sitio web.
Elija una, confirme algunos permisos. Verá un resumen de sus saldos haciendo clic en el icono de billetera ubicado en la parte superior derecha de la ventana.

Desde aquí, querrá ingresar la dirección del nodo en el que le gustaría depositar ETH en nombre de. La página debería verse así:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Adelante, pegue la dirección deseada en este cuadro y haga clic en find. En este ejemplo, usaremos `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

En el primer cuadro, ingrese la cantidad de ETH que le gustaría depositar en nombre del nodo. El segundo cuadro indica en qué dirección depositará ETH en nombre de. Por favor, asegúrese de haber ingresado la dirección y el depósito correctos. Una vez que esté satisfecho, haga clic en Deposit y MetaMask abrirá una ventana pidiéndole que confirme su transacción.

Una vez que la confirme, comenzará la transacción.
Cuando se haya incluido en un bloque y agregado a la cadena, su delegado podrá usar el comando `rocketpool node status` en smartnode para ver el nuevo saldo. Este saldo también se puede ver a través del sitio de staking de Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning NOTA
Si un operador de nodo deposita su ETH en un minipool, no podrá salir de su minipool sin acceso a sus credenciales de retiro, ¡así que tenga esto en cuenta! Puede usar el sitio de staking de Rocket Pool para retirar ETH depositado en nombre de un nodo si no se está utilizando en un minipool.
:::

¡Eso es todo!
Ahora está haciendo staking con Rocket Pool.

# Retirar ETH en nombre de un nodo

<div className="p-3">
  <Tabs>
    <Tab label="Preparación en la Testnet Hoodi">
      Cuando esté listo para retirar el ETH que ha depositado en nombre de un nodo, diríjase a [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth).
      Después de iniciar sesión como la [dirección de retiro principal](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, debería ser recibido con un menú familiar. Se
      le pedirá que ingrese la dirección del nodo del que desea retirar:
    </Tab>
    <Tab label="Preparación en la Mainnet de Ethereum">
      Cuando esté listo para retirar el ETH que ha depositado en nombre de un nodo, diríjase a [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). Después de iniciar
      sesión como la [dirección de retiro principal](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, debería ser recibido con un menú familiar. Se le pedirá que
      ingrese la dirección del nodo del que desea retirar:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Después de ingresar una dirección, hacer clic en "Find" lo llevará al siguiente menú donde puede retirar el ETH que ha depositado en nombre de ese nodo.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Podrá ver cuánto ETH está disponible para retirar en la parte superior derecha. Después de ingresar la cantidad deseada y confirmar la dirección del nodo, haga clic en el botón naranja **Withdraw ETH** para enviar la transacción a la red.

Una vez que se confirme la transacción, ¡verá los saldos adecuados en su cuenta!

¡Eso es todo lo que hay sobre depositar ETH en nombre de un nodo! Esperamos que haya encontrado el proceso rápido y fácil.

Siéntase libre de pasar por [nuestro servidor de Discord](https://discord.gg/G46XgK264a) para hacernos saber qué le pareció y mantenerse al tanto del proyecto a medida que evoluciona.
