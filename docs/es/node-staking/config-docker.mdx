import { Tab, Tabs } from "@rspress/core/theme";
import ECSelection from "./images/tui-ec-selection.png";
import tuiExternalEC from "./images/tui-external-ec.png";
import tuiLocalCC from "./images/tui-local-cc.png";
import tuiLocalGraffiti from "./images/tui-local-graffiti.png";
import tuiLocalCheckpoint from "./images/tui-local-checkpoint.png";
import tuiLocalDD from "./images/tui-local-dd.png";
import tuiExternalLH from "./images/tui-external-lh.png";
import tuiExternalGraffiti from "./images/tui-external-graffiti.png";
import tuiExternalDD from "./images/tui-external-dd.png";
import tuiExternalPrysm from "./images/tui-external-prysm.png";
import tuiExternalTeku from "./images/tui-external-teku.png";

# Configuración del Stack de Smartnode (Docker / Modo Híbrido)

Ejecutar clientes completos de capa de Ejecución y capa de Consenso puede ser desalentador; hay varias opciones para elegir y cada una tiene una plétora de configuraciones diferentes.
Afortunadamente, Smartnode está diseñado para ocultar toda esa complejidad, por lo que es rápido y fácil de configurar, mientras te da la libertad de personalizar todo si así lo deseas.

En esta sección, repasaremos los distintos métodos para configurar Smartnode si estás usando la **configuración basada en Docker** o una **configuración híbrida** donde te conectas a clientes de Ejecución o Consenso administrados externamente (por ejemplo, clientes que administras fuera de Smartnode para staking en solitario).

::: warning NOTA
Si estás usando el modo nativo sin Docker, visita la [guía de configuración nativa](./config-native) en su lugar.
:::

Hay tres formas de configurarlo:

- A través de la [Interfaz del Asistente](#configuración-a-través-del-asistente) - esta es la forma más fácil. Solo te hace unas pocas preguntas básicas y usa valores predeterminados bien probados para el resto. Esto es lo que se te presentará cuando ejecutes `rocketpool service config` por primera vez.
- A través de la [Interfaz del Administrador de Configuración](#configuración-a-través-del-administrador-de-configuración) - esto te da acceso a todas las configuraciones de Smartnode para que puedas personalizar todo tanto como quieras.
- Sin interfaz a través de la [Línea de Comandos](#configuración-a-través-de-la-línea-de-comandos) - esta es una opción para personas que ejecutan Smartnode en un entorno sin interfaz (no interactivo) y necesitan configurarlo automáticamente.

Elige qué modo te gustaría conocer más de la lista anterior, o simplemente desplázate por cada opción a continuación.

## Configuración a través del Asistente

Para iniciar el proceso de configuración, ejecuta el siguiente comando:

```shell
rocketpool service config
```

Esto lanzará una interfaz de usuario basada en terminal que te permitirá configurar tu nodo de manera rápida y fácil, además de proporcionar un control opcional de grano fino sobre cada configuración para personalización avanzada.

::: tip NOTA
Si ya has configurado Smartnode, en su lugar serás recibido con el [Administrador de Configuración](#configuración-del-stack-de-smartnode-a-través-del-administrador-de-configuración).
Puedes elegir volver a abrir el Asistente desde allí si lo prefieres, y todas tus configuraciones existentes estarán preseleccionadas para ti.
:::

Cuando ejecutes la interfaz de configuración por primera vez (o si eliges ejecutar el Asistente nuevamente más tarde), se te presentará una pantalla que se ve así:

<img src="./images/tui-first-time.png" width="100%" height="auto" />

::: tip CONSEJO
Para usar el Asistente, **presiona las `Teclas de Flecha` (arriba/abajo/izquierda/derecha) para navegar entre cosas como botones (opciones) o cuadros de texto**.
También puedes usar `Tab` y `Shift+Tab` si lo prefieres - hará lo mismo.

Para los botones, **el que esté actualmente seleccionado estará resaltado en verde**.
Los que están en negro no están seleccionados.
En la captura de pantalla anterior, `Next` está actualmente seleccionado y `Quit` no lo está.

**Presiona `Enter` o `Space` para seleccionar un botón**, análogo a hacer clic en él con el ratón.

**Presiona `Escape` para volver al cuadro de diálogo anterior** si cambiaste de opinión sobre algo.
Esto será útil a medida que avances por las distintas páginas del Asistente.

**Mantén presionado `Ctrl` y presiona `C` en cualquier momento para salir del Asistente sin guardar nada**.

Por ejemplo, en la pantalla de arriba, podrías presionar las teclas de flecha `izquierda` y `derecha` para moverte entre los botones `Next` y `Quit`.

Presionar `Enter` mientras `Next` está seleccionado procederá a la siguiente pantalla.
Presionar `Enter` mientras `Quit` está seleccionado cerrará el Asistente sin guardar.
:::

Cuando estés listo para comenzar, presiona `Next`.

### Elegir una Red

En la siguiente pantalla, se te pedirá que elijas qué red quieres usar:

<img src="./images/tui-network.png" width="100%" height="auto" />

Puedes resaltar las diferentes opciones con las teclas de flecha `Arriba` y `Abajo` (o `Tab` y `Shift+Tab`).
Cuando cambies de opción, el cuadro de **Descripción** a la derecha te mostrará una breve descripción de cada opción.
Esto es cierto para todas las páginas basadas en opciones del Asistente, no solo la selección de red, por lo que verás este estilo de página con frecuencia.

Si quieres practicar ejecutando un nodo Rocket Pool en la red de prueba Hoodi con ETH y RPL falsos que puedes obtener gratis, selecciona **Hoodi Testnet**.

Si estás listo para crear un nodo Rocket Pool real en Mainnet para ganar recompensas reales, selecciona **Mainnet**.

### Modo de Cliente

Se te presentarán dos opciones para el modo de cliente:

<img src="./images/tui-client-mode.png" width="100%" height="auto" />

**Locally Managed** (también conocido como **"Docker Mode"**) es la opción predeterminada.
Úsalo si aún no tienes un par de clientes y quieres que Smartnode administre uno por ti.
Al elegir esto, Smartnode creará, configurará y administrará un par de clientes de Ejecución y Consenso como contenedores de Docker.
No te preocupes, podrás elegir _qué_ cliente quieres ejecutar a continuación.

**Externally Managed** (también conocido como **"Modo Híbrido"**) es una opción conveniente para usuarios que ya tienen un par de clientes de Ejecución y Consenso ejecutándose en otro lugar que administran manualmente.
Al elegir esto, Smartnode simplemente se conectará a tus clientes existentes y no ejecutará uno propio.
Por ejemplo, los usuarios pueden usar esto para conectarse a los clientes que actualmente usan para staking en solitario; de esa manera, no necesitan tener dos copias separadas de los clientes.

:::warning NOTA
Desde la fusión de la capa de Ejecución y Consenso, _no puedes_ mezclar y combinar estos modos (por ejemplo, no puedes tener un cliente de Ejecución local pero un cliente de Consenso administrado externamente).
Debes elegir todo administrado localmente o todo administrado externamente.
:::

### Configuración del Cliente de Ejecución

Elige qué modo te gustaría usar para administrar tu cliente de Ejecución y sigue los pasos en la pestaña correspondiente a continuación:

<div className="p-3">
  <Tabs>
    <Tab label="Administrado Localmente">
      Si quieres que Smartnode administre un cliente de Ejecución por ti, la siguiente pantalla te pedirá que elijas un cliente:

      <img src={ECSelection} width="100%" height="auto"/>

      Consulta la sección [Elegir tus clientes ETH](/es/node-staking/eth-clients#execution-clients) para una descripción de cada opción.
      Una vez que hayas hecho tu elección, haz clic en la pestaña apropiada a continuación para aprender cómo configurarlo:

      Si eliges **Geth**, **Besu**, o **Nethermind**, el Asistente manejará toda la configuración por ti.
      Puedes ajustar manualmente algunos de sus parámetros al final de este proceso, pero los valores predeterminados que usa son completamente apropiados para la operación del nodo.
      Puedes proceder a la siguiente sección.


      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        **Abre el puerto P2P en la configuración de reenvío de puertos de tu router**. Configúralo para reenviar el **puerto 30303** en TCP y UDP a la dirección IP local de tu máquina.
        De esta manera, otros clientes de Consenso pueden descubrirlo y comunicarse con él desde el exterior. Esto ayudará a tu cliente de Consenso a sincronizarse rápidamente y mejorar el rendimiento (y por lo tanto las recompensas).

        Cada router tiene una forma diferente de hacer esto, así que **necesitarás consultar el manual de tu router sobre cómo configurar el reenvío de puertos**.
      </p>

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        Debido a que Smartnode se ejecutará en su propio contenedor de Docker, usará la red interna de Docker.
        No podrás usar nombres de host como `localhost` o `127.0.0.1` aquí; si tu cliente de Ejecución está ejecutándose en la misma máquina que Smartnode, necesitarás proporcionar la dirección IP LAN de la máquina en su lugar.
      </p>

      ¡Y con eso, tu cliente de Ejecución está todo listo!
    </Tab>
    <Tab label="Externo">
      Para un cliente de Ejecución administrado externamente, la siguiente pantalla te pedirá las URL de su API RPC basada en HTTP (web3) y su API RPC basada en Websocket:

      <img src={tuiExternalEC} width="100%" height="auto"/>

      Smartnode usará la URL HTTP para comunicarse con él y realizar actividades de blockchain, como consultar el estado de la cadena y enviar transacciones.
      **Si aún no tienes habilitado el puerto API de tu cliente y accesible desde tu máquina Smartnode, necesitarás configurarlo ahora.**
      Las instrucciones varían de cliente a cliente; consulta la documentación de tu cliente para aprender cómo configurar el endpoint HTTP RPC.

      La URL de Websocket solo es relevante si la necesitas para tu propio uso; Smartnode no la usa.
      Puedes dejarla en blanco si no la necesitas.

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        Debido a que Smartnode se ejecutará en su propio contenedor de Docker, usará la red interna de Docker.
        No podrás usar nombres de host como `localhost` o `127.0.0.1` aquí; si tu cliente de Ejecución de respaldo está ejecutándose en la misma máquina que Smartnode, necesitarás proporcionar la dirección IP LAN de la máquina en su lugar.
      </p>

      Cuando estés satisfecho con tus opciones de cliente de Ejecución de respaldo, procede al siguiente paso.
    </Tab>

  </Tabs>
</div>

### Configuración del Cliente de Consenso

Ahora que tienes un cliente de Ejecución listo, la siguiente tarea es configurar el cliente de Consenso.
El "modo" (local o externo) se heredará de la elección que usaste para tu cliente de Ejecución anteriormente.

Elige qué modo seleccionaste anteriormente de las pestañas a continuación:

<div className="p-3">
  <Tabs>
    <Tab label="Administrado Localmente">
      Si quieres que Smartnode administre un cliente de Consenso por ti, la siguiente pantalla te pedirá que elijas un cliente:

      <img src={tuiLocalCC} width="100%" height="auto"/>

      **La opción preferida** para la salud general y diversidad de la red es la opción **Random (Recommended)**, que elegirá aleatoriamente entre uno de los cuatro clientes de Consenso compatibles por ti.

      Si prefieres elegir un cliente explícito, consulta la sección [Elegir tus clientes ETH](./eth-clients#eth2-clients) para una descripción de cada opción para que puedas tomar una decisión informada.


      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        Hay dos condiciones que te mostrarán advertencias basadas en la selección del cliente:

        - El cliente seleccionado es actualmente [un cliente de supermayoría](https://clientdiversity.org/), lo que significa que una mayoría poco saludable de validadores en la Beacon Chain lo usa, lo que amenaza la estabilidad de la red

        - El cliente seleccionado es **demasiado pesado en recursos** para el hardware que estás usando actualmente

        Si alguno de esos casos es cierto para tu cliente elegido, serás advertido y se te pedirá que elijas un cliente diferente.
        Tienes la opción de continuar usando el que seleccionaste, pero debes ser consciente de los riesgos al hacerlo.
      </p>

      Una vez que hayas hecho tu elección o se te haya asignado un cliente aleatorio, haz clic en la pestaña apropiada a continuación para aprender cómo configurarlo:

      <div className="p-3">
        <Tabs>
          <Tab label="Lighthouse">
            La primera opción en la configuración de Lighthouse preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiLocalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            A continuación hay una opción para habilitar o deshabilitar **Checkpoint Sync**:

            <img src={tuiLocalCheckpoint} width="100%" height="auto"/>

            Lighthouse tiene la capacidad de sincronizarse instantáneamente con el último bloque en la red de Beacon Chain conectándose a un Beacon Node existente en el que confías.
            Esto es preferible a la sincronización convencional porque no requiere tiempo (mientras que la sincronización convencional puede llevar días) y viene con algunos beneficios de seguridad.
            Echa un vistazo a [su documentación sobre checkpoint syncing](https://lighthouse-book.sigmaprime.io/checkpoint-sync.html) para más información si tienes curiosidad.

            Puedes ingresar la URL de cualquier Beacon Node que proporcione acceso a su API REST aquí.

            Consulta [la sección a continuación sobre Checkpoint Syncing](#sincronización-de-punto-de-control-de-beacon-chain) si te gustaría usarlo.

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiLocalDD} width="100%" height="auto"/>

            Lighthouse admite una función llamada [Doppelgänger Detection](https://lighthouse-book.sigmaprime.io/validator-doppelganger.html).
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que el Cliente Validador de Lighthouse se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Lighthouse comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Lighthouse se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

            A partir de la versión 4.5.0, Lighthouse tiene una opción para establecer conexiones P2P de una manera más eficiente usando el [protocolo QUIC](https://en.wikipedia.org/wiki/QUIC). Si estás dispuesto a usar esta función, necesitarás definir un campo extra "P2P QUIC port" en la configuración ETH2, y reenviarlo a tu nodo en la configuración de reenvío de puertos de tu router. El puerto P2P QUIC predeterminado es 8001 (UDP). Asegúrate de evitar colisiones con puertos ya en uso por tu nodo (o nodos de respaldo/testnet). También asegúrate de que el mismo puerto esté abierto si estás usando un firewall en tu nodo (verifica `ufw status`).
            Para verificar si la configuración QUIC está funcionando, deberías ver un número de 2 dígitos después de `libp2p_quic_peers` al ejecutar `docker run --network rocketpool_net curlimages/curl http://eth2:9100/metrics | grep libp2p_peers_multi`.

          </Tab>
          <Tab label="Nimbus">
            La primera opción en la configuración de Nimbus preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiLocalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            A continuación hay una opción para habilitar o deshabilitar **Checkpoint Sync**:

            <img src={tuiLocalCheckpoint} width="100%" height="auto"/>

            Nimbus tiene la capacidad de sincronizarse instantáneamente con el último bloque en la red de Beacon Chain conectándose a un Beacon Node existente en el que confías.
            Esto es preferible a la sincronización convencional porque no requiere tiempo (mientras que la sincronización convencional puede llevar días) y viene con algunos beneficios de seguridad.
            Echa un vistazo a [su documentación sobre checkpoint syncing](https://nimbus.guide/trusted-node-sync.html) para más información si tienes curiosidad.

            Puedes ingresar la URL de cualquier Beacon Node que proporcione acceso a su API REST aquí.

            Consulta [la sección a continuación sobre Checkpoint Syncing](#sincronización-de-punto-de-control-de-beacon-chain) si te gustaría usarlo.

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiLocalDD} width="100%" height="auto"/>

            Nimbus admite una función llamada [Doppelgänger Protection](https://nimbus.guide/faq.html#why-does-my-validator-miss-two-epochs-of-attestations-after-restarting).
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que Nimbus se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Nimbus comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Nimbus se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

          </Tab>
          <Tab label="Prysm">
            La primera opción en la configuración de Prysm preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiLocalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            A continuación hay una opción para habilitar o deshabilitar **Checkpoint Sync**:

            <img src={tuiLocalCheckpoint} width="100%" height="auto"/>

            Prysm tiene la capacidad de sincronizarse instantáneamente con el último bloque en la red de Beacon Chain conectándose a un Beacon Node existente en el que confías.
            Esto es preferible a la sincronización convencional porque no requiere tiempo (mientras que la sincronización convencional puede llevar días) y viene con algunos beneficios de seguridad.
            Echa un vistazo a [su documentación sobre checkpoint syncing](https://docs.prylabs.network/docs/prysm-usage/checkpoint-sync) para más información si tienes curiosidad.

            Puedes ingresar la URL de cualquier Beacon Node que proporcione acceso a su API REST aquí.

            Consulta [la sección a continuación sobre Checkpoint Syncing](#sincronización-de-punto-de-control-de-beacon-chain) si te gustaría usarlo.

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiLocalDD} width="100%" height="auto"/>

            Prysm admite una función llamada Doppelgänger Protection.
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que el Cliente Validador de Prysm se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Prysm comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Prysm se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

          </Tab>
          <Tab label="Teku">
            La primera opción en la configuración de Teku preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiLocalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            La pregunta final es una opción para habilitar o deshabilitar **Checkpoint Sync**:

            <img src={tuiLocalCheckpoint} width="100%" height="auto"/>

            Teku tiene la capacidad de sincronizarse instantáneamente con el último bloque en la red de Beacon Chain conectándose a un Beacon Node existente en el que confías.
            Esto es preferible a la sincronización convencional porque no requiere tiempo (mientras que la sincronización convencional puede llevar días) y viene con algunos beneficios de seguridad.
            Echa un vistazo a [su documentación sobre checkpoint syncing](https://docs.teku.consensys.net/en/latest/HowTo/Get-Started/Checkpoint-Start/) para más información si tienes curiosidad.

            Puedes ingresar la URL de cualquier Beacon Node que proporcione acceso a su API REST aquí.

            Consulta [la sección a continuación sobre Checkpoint Syncing](#sincronización-de-punto-de-control-de-beacon-chain) si te gustaría usarlo.
          </Tab>
          <Tab label="Lodestar">
            La primera opción en la configuración de Lodestar preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiLocalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            A continuación hay una opción para habilitar o deshabilitar **Checkpoint Sync**:

            <img src={tuiLocalCheckpoint} width="100%" height="auto"/>

            Lodestar tiene la capacidad de sincronizarse instantáneamente con el último bloque en la red de Beacon Chain conectándose a un Beacon Node existente en el que confías.
            Esto es preferible a la sincronización convencional porque no requiere tiempo (mientras que la sincronización convencional puede llevar días) y viene con algunos beneficios de seguridad.
            Echa un vistazo a [su documentación sobre checkpoint syncing](https://chainsafe.github.io/lodestar/run/beacon-management/starting-a-node#checkpoint-sync) para más información si tienes curiosidad.

            Puedes ingresar la URL de cualquier Beacon Node que proporcione acceso a su API REST aquí.

            Consulta [la sección a continuación sobre Checkpoint Syncing](#sincronización-de-punto-de-control-de-beacon-chain) si te gustaría usarlo.

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiLocalDD} width="100%" height="auto"/>

            Lodestar admite una función llamada Doppelgänger Detection.
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que el Cliente Validador de Lodestar se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Lodestar comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Lodestar se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

          </Tab>
        </Tabs>
      </div>

      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        **Abre el puerto P2P en la configuración de reenvío de puertos de tu router**. Configúralo para reenviar el **puerto 9001** en TCP y UDP a la dirección IP local de tu máquina.
        De esta manera, otros clientes de Consenso pueden descubrirlo y comunicarse con él desde el exterior. Esto ayudará a tu cliente de Consenso a sincronizarse rápidamente y mejorar el rendimiento (y por lo tanto las recompensas).

        Cada router tiene una forma diferente de hacer esto, así que **necesitarás consultar el manual de tu router sobre cómo configurar el reenvío de puertos**
      </p>
    </Tab>
    <Tab label="Administrado Externamente">
      Debido a que cada cliente de Consenso tiene un comportamiento ligeramente diferente, Smartnode necesita saber cuál estás usando externamente para que pueda adaptar su propio comportamiento en consecuencia.
      Comienza eligiendo qué cliente tienes de la lista en la siguiente pantalla:

      <img src="./images/tui-external-cc.png" width="100%" height="auto"/>


      <p className="rspress-directive warning">
        <p className="rspress-directive-title">NOTA</p>
        En este momento, **Nimbus** no es compatible con el modo externo porque aún no puede ejecutarse como un Contenedor Validador (VC) independiente.
        Cuando el cliente admita esta función, se agregará a la lista aquí.
      </p>

      Selecciona tu cliente de las pestañas a continuación para aprender cómo terminar de configurarlo.

      <div className="p-3">
        <Tabs>
          <Tab label="Lighthouse">
            Comienza especificando la URL para la API de tu Beacon Node de Lighthouse:

            <img src={tuiExternalLH} width="100%" height="auto"/>

            Smartnode usará la URL HTTP para comunicarse con él y realizar actividades de blockchain, como consultar el estado de la cadena y enviar mensajes.
            **Si aún no tienes habilitado el puerto API y accesible desde tu máquina Smartnode, necesitarás configurarlo ahora.**
            Consulta [la documentación de Lighthouse](https://lighthouse-book.sigmaprime.io/api-bn.html) para obtener instrucciones sobre cómo hacer esto.

            <p className="rspress-directive warning">
              <p className="rspress-directive-title">NOTA</p>
              Debido a que Smartnode se ejecutará en su propio contenedor de Docker, usará la red interna de Docker.
              No podrás usar nombres de host como `localhost` o `127.0.0.1` aquí; si tu cliente está ejecutándose en la misma máquina que Smartnode, necesitarás proporcionar la dirección IP LAN de la máquina en su lugar.
            </p>


            A continuación, preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiExternalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiExternalDD} width="100%" height="auto"/>

            Lighthouse admite una función llamada [Doppelgänger Detection](https://lighthouse-book.sigmaprime.io/validator-doppelganger.html).
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que el Cliente Validador de Lighthouse se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Lighthouse comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Lighthouse se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

          </Tab>
          <Tab label="Prysm">
            Comienza especificando la URL para la API de tu Beacon Node de Prysm y la URL para su API JSON-RPC:

            <img src={tuiExternalPrysm} width="100%" height="auto"/>

            Smartnode usará la URL HTTP para comunicarse con él y realizar actividades de blockchain, como consultar el estado de la cadena y enviar mensajes.
            Preparará su Cliente Validador de Prysm con la URL JSON-RPC para que pueda comunicarse con tu Beacon Node, ya que _el Cliente Validador de Prysm actualmente no puede funcionar a través de la API HTTP._

            **Si aún no tienes los puertos API habilitados y accesibles desde tu máquina Smartnode, necesitarás configurarlos ahora.**
            Consulta [la documentación de Prysm](https://docs.prylabs.network/docs/prysm-usage/parameters) para obtener instrucciones sobre cómo hacer esto.
            **Necesitarás tener habilitado el `grpc-gateway` _y_ el `rpc-host`.**

            <p className="rspress-directive warning">
              <p className="rspress-directive-title">NOTA</p>
              Debido a que Smartnode se ejecutará en su propio contenedor de Docker, usará la red interna de Docker.
              No podrás usar nombres de host como `localhost` o `127.0.0.1` aquí; si tu cliente está ejecutándose en la misma máquina que Smartnode, necesitarás proporcionar la dirección IP LAN de la máquina en su lugar.
            </p>


            A continuación, preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiExternalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).

            La pregunta final te preguntará si quieres habilitar la Protección Doppelgänger:

            <img src={tuiExternalDD} width="100%" height="auto"/>

            Prysm admite una función llamada Doppelgänger Protection.
            En pocas palabras, esta función **intencionalmente** perderá algunas atestaciones después de que el Cliente Validador de Prysm se reinicie; mientras hace esto, escuchará para ver si todavía se están enviando atestaciones a la red usando tus claves de validador.

            Idealmente, no habría ninguna atestación (lo que significa que ninguna otra máquina está ejecutándose con tus claves de validador adjuntas).
            Después de su corto período de espera, Prysm comenzaría a validar normalmente.

            _Sin embargo_, si _hay_ otra máquina ejecutándose con tus claves de validador adjuntas, entonces Prysm se cerrará inmediatamente y emitirá un mensaje de error en sus archivos de registro.
            La razón de esto es que si comenzara a atestar también, comenzarías a **atestar doble**, lo cual es una **ofensa sancionable**.
            Cuando seas sancionado, tu validador será expulsado por la fuerza de la Beacon chain y serás penalizado con una cantidad significativa de ETH.

            La mayor parte del tiempo, la detección de doppelgänger resultará en nada más que unas pocas atestaciones perdidas después de un reinicio del cliente.
            Sin embargo, en situaciones en las que estés moviendo tu validador a una nueva máquina o estés cambiando a un nuevo cliente Beacon, **la detección de doppelgänger puede evitar que seas sancionado por atestar doble accidentalmente**.

            Piénsalo como un seguro barato para tus minipools; perderás un poco trivial de ganancias cada vez que reinicies, pero puedes estar bastante seguro de que no ejecutarás accidentalmente tus claves en dos lugares y serás sancionado por ello.

          </Tab>
          <Tab label="Teku">
            Comienza especificando la URL para la API de tu Beacon Node de Teku:

            <img src={tuiExternalTeku} width="100%" height="auto"/>

            Smartnode usará la URL HTTP para comunicarse con él y realizar actividades de blockchain, como consultar el estado de la cadena y enviar mensajes.
            **Si aún no tienes habilitado el puerto API y accesible desde tu máquina Smartnode, necesitarás configurarlo ahora.**
            Consulta [la documentación de Teku](https://docs.teku.consensys.net/en/latest/Reference/CLI/CLI-Syntax/#rest-api-enabled) para obtener instrucciones sobre cómo hacer esto.


            <p className="rspress-directive warning">
              <p className="rspress-directive-title">NOTA</p>
              Debido a que Smartnode se ejecutará en su propio contenedor de Docker, usará la red interna de Docker.
              No podrás usar nombres de host como `localhost` o `127.0.0.1` aquí; si tu cliente está ejecutándose en la misma máquina que Smartnode, necesitarás proporcionar la dirección IP LAN de la máquina en su lugar.
            </p>

            A continuación, preguntará sobre el mensaje **graffiti** de tu validador:

            <img src={tuiExternalGraffiti} width="100%" height="auto"/>

            Este es un mensaje personalizado opcional que puedes adjuntar a cualquier bloque que propongas en la Beacon Chain.
            El mensaje se conservará para siempre, ¡así que piénsalo como una forma divertida de dejar tu marca!

            **Ten en cuenta que la longitud máxima del graffiti es de 16 caracteres.**

            Si quieres ver algunos ejemplos de lo que los validadores están usando para Graffiti hoy, [echa un vistazo aquí](https://beaconcha.in/blocks).
          </Tab>

        </Tabs>
      </div>
    </Tab>

  </Tabs>
</div>

#### Sincronización de Punto de Control de Beacon Chain

**Checkpoint syncing** es una técnica muy útil que algunos clientes de Beacon Chain admiten.
Permite a tu cliente Beacon sincronizarse instantáneamente con toda la Beacon chain sin tener que comenzar desde el principio y ponerse al día con cada bloque.
Esto significa que en lugar de tomar **días**, tu cliente Beacon puede estar listo en cuestión de **minutos**.
Todo lo que necesita es acceso a un cliente Beacon existente en el que confíes.

Puedes usar cualquier Beacon node que proporcione acceso a su API HTTP.
Actualmente, muchos operadores de nodos están usando checkpoint-sync-endpoints - un servicio que permite a los operadores de nodos de Rocket Pool hacer checkpoint sync fácilmente.
Se admiten tanto Hoodi Testnet como Mainnet.
Se puede encontrar una lista de URL de checkpoint sync a través del siguiente enlace:

- [URLs de Checkpoint Sync](https://eth-clients.github.io/checkpoint-sync-endpoints/)

Elige una URL de checkpoint sync relevante y pégala en la terminal durante `rocketpool service config` cuando te solicite un Proveedor de Checkpoint Sync.

Después de eso, tu Beacon node se conectará automáticamente al nodo de checkpoint sync cuando se inicie por primera vez y ¡descargará instantáneamente el último estado de la cadena!

::: warning NOTA
Checkpoint Sync solo ocurrirá si _aún no tienes datos de Beacon Chain_.
En otras palabras, si comienzas a sincronizar normalmente y decides hacer checkpoint sync más tarde, tendrás que eliminar tus datos de cadena primero para que checkpoint sync funcione.
Esto se puede hacer fácilmente con el siguiente comando:

```shell
rocketpool service resync-eth2
```

:::

### Nodo de Respaldo

A partir de la versión 1.5.0 del stack de Smartnode, puedes proporcionar un par de cliente de Ejecución y cliente de Consenso de "respaldo" que puede tomar el control de tus clientes principales si alguna vez se desconectan (como porque usas Geth y necesitas podarlo).
En esta situación, tu máquina de nodo principal aún será responsable de atestar y proponer bloques con las claves de validador de tus minipools, pero se conectará a una máquina externa para interactuar con la capa de Ejecución y las cadenas Beacon.

[Para aprender más sobre los nodos de respaldo, consulta esta sección](./fallback) y regresa aquí cuando hayas terminado.

### Configuración de Métricas

Rocket Pool viene con la capacidad de mostrar un panel detallado que muestra métricas sobre la salud del hardware de tu nodo, actualizaciones del sistema, el rendimiento de tu validador, tus recompensas, información sobre la red general de Rocket Pool, y más:

<img src="./images/nimbus-dashboard.png" width="100%" height="auto" />

La siguiente pregunta en el Asistente te preguntará si quieres habilitar esto:

<img src="./images/tui-metrics.png" width="100%" height="auto" />

Si eliges habilitarlo, aprenderás más sobre cómo configurarlo y cómo usarlo en la sección [Configurar el Panel de Grafana](./grafana) más adelante en el proceso.

::: warning NOTA
Todos los datos recopilados por este sistema **permanecen en tu máquina**.
Rocket Pool no recopila ninguna telemetría ni la envía a un servicio separado.
¡Está ahí puramente para que la uses y puedas monitorear tu propio nodo!
:::

### Configuración de MEV

Desde la fusión de las capas de Ejecución y Consenso en septiembre de 2022, los validadores de Ethereum ahora tienen la capacidad de ganar tarifas prioritarias y participar en el Valor Extraíble Máximo (o MEV para abreviar).

A partir de Smartnode v1.7.0, MEV ahora es _opt-out_, por lo que su configuración se presenta como parte de la configuración inicial, como ves en la siguiente pantalla:

<img src="./images/tui-mev-mode.png" width="100%" height="auto" />

[Lee nuestra guía de MEV para aprender más sobre MEV, su configuración y qué hacer en esta sección del asistente.](./mev)
Regresa aquí cuando hayas terminado.

### Finalización

Después de esta pregunta, ¡has terminado de configurar Smartnode!
Verás el siguiente cuadro de diálogo:

<img src="./images/tui-finished.png" width="100%" height="auto" />

Si estás satisfecho con tu configuración y estás listo para iniciar Smartnode, haz clic en `Save and Exit` aquí y ve a la sección [Asegurar tu Nodo](./securing-your-node) a continuación.

Si te gustaría revisar todas las configuraciones y personalizar muchas configuraciones adicionales que no se incluyeron en el Asistente, haz clic en `Review All Settings` y ve a la [siguiente sección](#configuración-a-través-del-administrador-de-configuración).

## Configuración a través del Administrador de Configuración

Si ya has ejecutado `rocketpool service config`, en lugar de ser recibido por el Asistente, verás la pantalla del **Administrador de Configuración**:

<img src="./images/tui-settings-manager.png" width="100%" height="auto" />

Hay tres características principales de esta pantalla:

1. La **Lista de Categorías**, que te permite profundizar en las configuraciones de cada categoría del stack de Smartnode
2. El botón **Review Changes and Save**, que puedes usar cuando estés listo para ver qué configuraciones has cambiado y guardar la configuración actualizada
3. El botón **Open the Config Wizard**, que te llevará al [Asistente de Configuración](#configuración-del-stack-de-smartnode-a-través-del-asistente) si prefieres esa interfaz

::: tip CONSEJO
Para usar el Administrador de Configuración, **presiona las `Teclas de Flecha` (arriba/abajo/izquierda/derecha) para navegar entre opciones en la página de inicio**.

Presiona `Tab` para ir **entre la lista de categorías (1) y los botones (2 y 3)** en la parte inferior de la pantalla.
El botón que está actualmente seleccionado estará **resaltado en verde**.

**Presiona `Enter` o `Space` para seleccionar un botón**, análogo a hacer clic en él con el ratón.

**Mantén presionado `Ctrl` y presiona `C` en cualquier momento para salir del Administrador de Configuración sin guardar nada**.
:::

A medida que te desplazas por la lista de categorías, cada opción tendrá una descripción útil que aparecerá en el **Cuadro de Descripción** a la derecha de la pantalla.
Siéntete libre de explorarlas; nada de lo que hagas se guardará hasta que pases por el cuadro de diálogo de Revisión a través del botón **Review Changes and Save**, y puedes presionar **Ctrl+C** en cualquier momento para salir sin guardar, así que no estropearás accidentalmente algo jugando con las configuraciones aquí.

### Configurar las Configuraciones

Desde la pantalla de inicio, selecciona cualquiera de las categorías con la tecla `Enter` para ver las configuraciones de esa categoría.
Por ejemplo, aquí está la pantalla para la categoría **Smartnode and TX Fees**:

<img src="./images/tui-smartnode.png" width="100%" height="auto" />

Usa las `Teclas de Flecha` para moverte arriba y abajo entre las configuraciones.
La actualmente seleccionada tendrá un cuadrado blanco al final (si es un cuadro de texto o una casilla de verificación), o estará resaltada en blanco (si es un menú desplegable).

Presiona `Escape` para volver a la pantalla de inicio del Administrador de Configuración cuando hayas terminado.

A medida que te desplazas por las configuraciones, cada una mostrará una breve descripción de lo que hace en el **Cuadro de Descripción** a la derecha.
También mostrará el **valor predeterminado** allí en caso de que quieras revertirlo a su configuración predeterminada.

En este ejemplo, la configuración **RPL Claim Gas Threshold** está actualmente seleccionada (resaltada con un cuadro verde en el lado izquierdo de la pantalla).
Se ha cambiado a `40`, pero puedes ver que tiene un valor predeterminado de `150` en la esquina superior derecha (la parte superior del **Cuadro de Descripción**).

::: tip CONSEJO
Como recordatorio, nada se guardará en el disco hasta que pases por el cuadro de diálogo de Revisión a través del botón **Review Changes and Save**.
¡Se te anima a explorar todas las configuraciones para aprender sobre ellas y ver lo que tu Smartnode puede hacer!
:::

### Los Tipos de Configuración y Cómo Usarlos

El administrador de configuración usa los siguientes tipos de configuración y elementos de interfaz de usuario:

#### Cuadros de Texto

Los cuadros de texto se usan para ingresar cadenas arbitrarias de texto o números.
Se ven así:

<img src="./images/tui-textbox.png" width="100%" height="auto" />

Ingresa los valores deseados en ellos, luego **presiona `Enter` o usa las `Teclas de Flecha` para navegar a una configuración diferente para preservar tus cambios.**
Si no lo haces, el Administrador de Configuración asumirá que todavía estás actualizando esa configuración y no la marcará como cambiada todavía.

#### Menús Desplegables

Los menús desplegables se usan para seleccionar una opción de una lista de opciones.
Se ven así (cuando están abiertos):

<img src="./images/tui-dropdown-open.png" width="100%" height="auto" />

El elemento **verde** es el que está actualmente seleccionado.
Usa las `Teclas de Flecha` para cambiar opciones - a medida que lo haces, el **Cuadro de Descripción** a la derecha se actualizará para decirte más sobre la opción actualmente seleccionada.
Cuando estés satisfecho con tu elección, presiona `Enter` para elegir la opción seleccionada y el menú desplegable se cerrará, revelando la opción que está actualmente seleccionada:

<img src="./images/tui-dropdown-closed.png" width="100%" height="auto" />

#### Casillas de Verificación

Las casillas de verificación se usan para preguntas simples de Sí/No.
Se ven así:

<img src="./images/tui-checkbox-checked.png" width="100%" height="auto" />

Cuando están marcadas, tendrán una `X` en el medio como ves arriba.
Cuando están _no marcadas_, simplemente estarán en blanco como esto:

<img src="./images/tui-checkbox-unchecked.png" width="100%" height="auto" />

Para cambiar la configuración, simplemente selecciónala y presiona `Enter`.

### Guardar Cambios

Cuando estés satisfecho con tus cambios y te gustaría revisarlos antes de guardar, presiona el botón **Review Changes and Save** en la pantalla de inicio.
Como recordatorio, para llegar a él, presiona la tecla `Tab`.

Se te presentará una vista que se ve así:

<img src="./images/tui-review.png" width="100%" height="auto" />

El **Cuadro de Revisión** aquí presentará todas las configuraciones que has cambiado, mostrando los valores antiguos y los nuevos.
Por ejemplo, la primera línea aquí muestra que el **RPL Claim Gas Threshold** solía ser `150`, y se ha cambiado a `40`.

También te mostrará qué contenedores se ven afectados por las configuraciones que has modificado y se ofrecerá a reiniciarlos por ti después de que hayas guardado tus cambios.

::: tip NOTA
En este punto, tus cambios **aún no se han guardado**.
Si quieres volver atrás y modificar algo, presiona `Escape` para volver a la pantalla de inicio.
:::

Cuando estés satisfecho con los cambios, presiona `Enter` para guardar la nueva configuración en el disco.
Luego saldrás de la interfaz de terminal y se te presentará algo como este mensaje:

```
Your changes have been saved!
The following containers must be restarted for the changes to take effect:
	rocketpool_watchtower
	rocketpool_validator
	rocketpool_eth2
	rocketpool_node
Would you like to restart them automatically now? [y/n]
```

Presiona `y` y `Enter` si quieres aplicar automáticamente tus nuevos cambios de configuración y reiniciar los contenedores afectados.

Presiona `n` y `Enter` si tienes otras cosas que quieres hacer antes de reiniciarlos, y lo harás manualmente más tarde.

En cualquier caso, ¡tu configuración está completa!

::: tip NOTA
Puedes ver un mensaje de error como el siguiente:

```
2022/08/13 13:49:41 Error piping stdout: read |0: file already closed
```

Esto no es realmente un error, es simplemente un problema cosmético.
Puedes ignorarlo con seguridad.
:::

::: tip NOTA
Si estás ejecutando Mac OS, puedes ver un problema quejándose de node_exporter.
Necesitarás ejecutar estos comandos para solucionarlo.

```shell
rocketpool service stop
nano ~/.rocketpool/override/exporter.yml
```

Reemplaza todo el contenido del archivo con:

```
# Enter your own customizations for the node exporter container here. These changes will persist after upgrades, so you only need to do them once.
#
# See https://docs.docker.com/compose/extends/#adding-and-overriding-configuration
# for more information on overriding specific parameters of docker-compose files.

version: "3.7"
services:
  node-exporter:
    x-rp-comment: Add your customizations below this line
    volumes:   ["/proc:/host/proc:ro","/sys:/host/sys:ro"]
```

luego finalmente `rocketpool service start`.
:::

## Configuración a través de la Línea de Comandos

Si usas Smartnode en un entorno sin interfaz donde no puedes interactuar con la interfaz de terminal, puedes configurar tu nodo a través de la línea de comandos en su lugar.

El comando `rocketpool service config` acepta, como argumentos, cada configuración que normalmente se puede configurar a través de la interfaz de terminal.
Ejecuta el siguiente comando para ver una lista de ellas (nota que es bastante larga):

```shell
rocketpool service config --help
```

La salida se verá así:

```
NAME:
   rocketpool service config - Configure the Rocket Pool service

USAGE:
   rocketpool service config

OPTIONS:
   --executionClientMode value  Choose which mode to use for your Execution client - locally managed (Docker Mode), or externally managed (Hybrid Mode).
                                Type: choice
                                Options: local, external
 (default: "local")
   --executionClient value  Select which Execution client you would like to run.
                            Type: choice
                            Options: geth, infura, pocket
 (default: "geth")
   --useFallbackExecutionClient         Enable this if you would like to specify a fallback Execution client, which will temporarily be used by the Smartnode and your Consensus client if your primary Execution client ever goes offline.
                                        Type: bool

...
```

Cada opción tendrá su nombre, su tipo, su valor predeterminado y (si es un parámetro de elección) sus opciones.
Usando este texto, puedes encontrar la(s) opción(es) que deseas establecer y especificarlas a través de los argumentos apropiados.

::: tip NOTA
Este comando se basa en tu configuración existente, por lo que si ya tienes algunas configuraciones guardadas y solo quieres modificar otras, no necesitas repetirlas.
Solo actualizará las configuraciones que incluyas como argumentos de este comando.
:::

## Próximos Pasos

Una vez que hayas configurado tu nodo como lo deseas, estás listo para asegurar tu sistema operativo para proteger tu nodo.
Pasa a la sección [Asegurar tu Nodo](./securing-your-node) a continuación.
