import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Depositar ETH en nombre del nodo

RPIP-32 permite a una cuenta [depositar ETH en nombre](https://rpips.rocketpool.net/RPIPs/RPIP-32) de un nodo de Rocket Pool que está registrado en el protocolo. Esto admite una variedad de situaciones donde el operador del nodo no está proporcionando directamente el ETH:

- Mayor seguridad para los operadores de nodos, ya que pueden depositar directamente desde su hardware wallet, eliminando la necesidad de transferir fondos al nodo de antemano.
- Proveedores de Staking as a Service donde la custodia de fondos es administrada por un custodio de confianza.
- Integraciones de protocolo donde la custodia de fondos es administrada por smart contracts.
- DAOs u organizaciones donde la custodia de fondos es administrada por una tesorería.

Aunque el objetivo principal de esta función es facilitar escenarios de un solo depositante, vale la pena señalar que múltiples depositantes independientes también pueden aprovechar esta capacidad creando smart contracts en capas superiores. Rocket Pool también introdujo la capacidad de [depositar RPL en nombre](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) de un nodo en nuestro lanzamiento anterior de Atlas.

### Requisito previo

Asegúrate de haber configurado correctamente la [dirección de retiro primaria](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo que pretendes financiar. Sigue el enlace anterior para obtener una guía sobre cómo funcionan las direcciones de retiro después de Houston.

::: tip NOTA
¡No te saltes este paso! Todos los bonos/recompensas de ETH se retirarán a la dirección de retiro primaria. En otras palabras, ¡la dirección que suministra ETH para un nodo debe usarse como la dirección de retiro primaria! Asegúrate de que la dirección de retiro primaria del nodo esté configurada con una wallet sobre la que tengas custodia.
:::

El proceso es ligeramente diferente para Hoodi Testnet y Mainnet, así que elige la red que te interesa en las pestañas a continuación.

<div className="p-3">
  <Tabs>
    <Tab label="Preparación en Hoodi Testnet">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">ADVERTENCIA</p>
        Al practicar staking en la red de prueba, **no necesitas proporcionar ninguno de tus ETH reales** durante este proceso.
        Se te proporcionará **ETH de prueba falso** para usar en su lugar.

        **¡No intentes mover tu ETH real de mainnet a la testnet o lo perderás permanentemente!**
      </p>

      Comienza instalando [MetaMask](https://metamask.io/) si aún no lo has hecho.
      Sigue las instrucciones en su sitio para instalar la extensión, crear una cuenta e iniciar sesión.

      A continuación, abre el panel de MetaMask usando su icono en la barra de herramientas de tu navegador.

      Necesitarás agregar la Hoodi Testnet a MetaMask.

      Haz clic en el menú desplegable superior izquierdo y haz clic en el botón "Add Network".

      Verás una lista de redes, Hoodi no está en esta lista, así que haz clic en el botón "Add a network manually".

      Completa los siguientes detalles:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Luego haz clic en Save. Ahora deberías ver la red Hoodi en el menú desplegable superior izquierdo.

      Haz clic en el **menú desplegable de red** en la parte superior izquierda de la extensión de Metamask y selecciona **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Ahora que tienes una dirección de wallet en MetaMask, necesitas llenarla con algo de ETH de prueba.
      Dirígete a la página [Practicando con la red de prueba](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) para una guía rápida sobre cómo usar un faucet de testnet para obtener algo de ETH de prueba en Hoodi.

      Una vez que tengas algo de ETH de Hoodi para probar, dirígete a [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Si ves un aviso sobre que se requiere un navegador web3, o que el ID de red actual no es compatible, asegúrate de haber completado los pasos anteriores correctamente antes de continuar.
    </Tab>
    <Tab label="Preparación en Ethereum Mainnet">
      Comienza instalando [MetaMask](https://metamask.io/) si aún no lo has hecho.

      Sigue las instrucciones en su sitio para instalar la extensión, crear una cuenta e iniciar sesión.

      A continuación, abre el panel de MetaMask usando su icono en la barra de herramientas de tu navegador.

      Haz clic en el **menú desplegable de red** en la barra de herramientas en la parte superior y asegúrate de que **Ethereum Mainnet** esté seleccionado:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Ahora que tienes una dirección de wallet en MetaMask, necesitas transferir algo de ETH a ella.

      Deberás proporcionar esto desde una wallet existente o comprar ETH en un exchange.

      Una vez que tengas algo de ETH para depositar, dirígete a [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Si ves un aviso sobre que se requiere un navegador web3, o que el ID de red actual no es compatible, asegúrate de haber completado los pasos anteriores correctamente antes de continuar.
    </Tab>

  </Tabs>
</div>

Una vez que estés en el sitio, haz clic en el botón **connect wallet**. Lee y acepta los Términos de Servicio y la Política de Privacidad, esto habilitará diferentes formas de conectar, luego haz clic en **connect metamask**.

MetaMask te pedirá que selecciones una cuenta para conectarte al sitio web.
Elige una, confirma algunos permisos. Verás un resumen de tus saldos haciendo clic en el icono de wallet ubicado en la parte superior derecha de la ventana.

Desde aquí, querrás ingresar la dirección del nodo en el que te gustaría depositar ETH en su nombre. La página debería verse así:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Adelante, pega tu dirección deseada en este cuadro y haz clic en find. En este ejemplo, usaremos `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

En el primer cuadro, ingresa la cantidad de ETH que te gustaría depositar en nombre del nodo. El segundo cuadro indica en nombre de qué dirección depositarás ETH. Asegúrate de haber ingresado la dirección y el depósito correctos. Una vez que estés satisfecho, haz clic en Deposit y MetaMask aparecerá con una ventana pidiéndote que confirmes tu transacción.

Una vez que la confirmes, la transacción comenzará.
Cuando se haya incluido en un bloque y agregado a la cadena, tu delegado podrá usar el comando `rocketpool node status` en smartnode para ver el nuevo saldo. Este saldo también se puede ver a través del sitio de staking de Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning NOTA
Si un operador de nodo deposita tu ETH en un minipool, no podrás salir de su minipool sin acceso a sus credenciales de retiro, ¡así que ten esto en cuenta! Puedes usar el sitio de staking de Rocket Pool para retirar ETH depositado en nombre de un nodo si no se está usando en un minipool.
:::

¡Eso es todo!
Ahora estás haciendo staking con Rocket Pool.

# Retirar ETH depositado en nombre del nodo

<div className="p-3">
  <Tabs>
    <Tab label="Preparación en Hoodi Testnet">
      Cuando estés listo para retirar ETH que has depositado en nombre de un nodo, dirígete a [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth).
      Después de iniciar sesión como la [dirección de retiro primaria](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, deberías ser recibido con un menú familiar. Se
      te pedirá que ingreses la dirección del nodo del que deseas retirar:
    </Tab>
    <Tab label="Preparación en Ethereum Mainnet">
      Cuando estés listo para retirar ETH que has depositado en nombre de un nodo, dirígete a [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). Después de iniciar
      sesión como la [dirección de retiro primaria](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, deberías ser recibido con un menú familiar. Se te pedirá que
      ingreses la dirección del nodo del que deseas retirar:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Después de ingresar una dirección, hacer clic en "Find" te llevará al siguiente menú donde puedes retirar ETH que has depositado en nombre de ese nodo.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Podrás ver cuánto ETH está disponible para retiro en la parte superior derecha. Después de ingresar la cantidad deseada y confirmar la dirección del nodo, haz clic en el botón naranja **Withdraw ETH** para enviar la transacción a la red.

Una vez que se confirme la transacción, ¡verás los saldos correctos en tu cuenta!

¡Eso es todo lo que hay sobre depositar ETH en nombre de un nodo! Esperamos que hayas encontrado el proceso rápido y fácil.

No dudes en visitar [nuestro servidor de Discord](https://discord.gg/G46XgK264a) para hacernos saber lo que pensaste y mantenerte al tanto del proyecto a medida que evoluciona.
