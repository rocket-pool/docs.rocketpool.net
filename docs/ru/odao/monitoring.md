# Мониторинг вашего узла Oracle DAO

Как только ваш узел запущен и работает, важно регулярно контролировать его состояние, чтобы убедиться, что он правильно выполняет свои автоматизированные обязанности.
Это включает в себя следующее:

- Мониторинг состояния вашей физической (или виртуальной) системы на уровне операционной системы
- Мониторинг состояния ваших Execution и/или Consensus клиентов (если вы используете локальные клиенты)
- Обеспечение регулярной отправки вашим узлом необходимых транзакций в блокчейн для обновления статуса
- Обеспечение достаточного баланса ETH в кошельке вашего узла для выполнения этих транзакций
- Регулярное применение обновлений к Smartnode, вашим клиентам (если применимо) и вашей операционной системе
- Мониторинг состояния других членов Oracle DAO и общение с ними, если вы считаете, что их узел(лы) работают неправильно

В этом разделе мы опишем несколько примеров того, как это сделать с помощью встроенной поддержки [Grafana](https://grafana.com/) в Smartnode.

## Стандартная панель мониторинга Rocket Pool

Smartnode предоставляет удобную панель мониторинга, которая позволяет отслеживать многие из перечисленных выше метрик.
Существует одна панель мониторинга для каждого Consensus клиента.
Ниже приведен пример панели мониторинга для Nimbus:

![](../node-staking/images/nimbus-dashboard.png)

- Состояние оборудования вашей машины отображается в верхнем левом квадранте.
- Ваш Execution клиент функционирует правильно, если статистика сети в нижнем левом квадранте заполняется.
- Ваш Consensus клиент функционирует правильно, если количество пиров в верхнем правом квадранте обновляется с ненулевым числом; точное число зависит от вашего выбора клиента и конфигурации сети.
- Баланс ETH вашего узла отображается в таблице внизу справа.
- Любые обновления операционной системы или обновления Smartnode представлены в блоке `Available Updates` на верхней средней панели.

::: tip NOTE
Обновления операционной системы и Smartnode требуют трекера обновлений, который можно установить с помощью `rocketpool service install-update-tracker`.
:::

Для получения информации о том, как подготовить систему метрик и панель мониторинга Smartnode, посетите страницы [Мониторинг производительности вашего узла](../node-staking/performance) и [Настройка панели мониторинга Grafana](../node-staking/grafana.mdx) в документации Smartnode.

## Панель мониторинга Oracle DAO

Мы также создали простую панель мониторинга, специально предназначенную для членов Oracle DAO:

![](../odao/images/odao-dashboard.png)

Эта панель мониторинга отслеживает следующее:

- Статус предложений Oracle DAO, по которым необходимо проголосовать или которые необходимо выполнить (более подробная информация об этом в следующем разделе)
- История отправок обновлений цен и балансов\*
- Балансы ETH каждого узла Oracle DAO

\*_Обратите внимание, что отправка обновлений цен и балансов в настоящее время требует кворума в 51% узлов, которые должны согласиться с каждым обновлением, после чего отправка канонизируется. Отправки от других членов будут отклонены, поскольку они больше не требуются, поэтому если ваш узел не отправит данные для определенного интервала, это не означает, что он не в сети. Вам следует беспокоиться, если вы пропустите более 5 последовательных интервалов подряд, и вам следует проверить логи вашего демона `watchtower`, чтобы убедиться, что нет никаких проблем._

Включение этой панели мониторинга — это двухэтапный процесс.

Во-первых, включите метрики Oracle DAO в разделе `Metrics` редактора `rocketpool service config`:

![](../odao/images/tui-odao-metrics.png)

Если вы работаете в режиме Docker или Hybrid, это перезапустит ваш демон `node` для применения изменений.
Если вы работаете в режиме Native, пожалуйста, перезапустите сервис `node` вручную.

Во-вторых, импортируйте [панель мониторинга Oracle DAO](https://grafana.com/grafana/dashboards/15003-odao-member-dashboard/) из Grafana Labs (ID `15003`) на локальный сервер Grafana вашего узла.

## Проверка логов

Если вы или один из других членов Oracle DAO выразили обеспокоенность по поводу вашего узла, первая линия защиты — посмотреть логи демона `watchtower`, используя следующую команду (для режимов Docker и Hybrid):

```shell
rocketpool service logs watchtower
```

Это покажет логи `docker` для контейнера watchtower, обрезанные до последних ста строк или около того.

Чтобы просмотреть более ранние записи, вы можете использовать флаг `-t` для указания количества строк.
Например:

```shell
rocketpool service logs watchtower -t 2000
```

покажет последние 2000 строк.
Поскольку это очень быстро станет загроможденным, вы можете захотеть передать это в утилиту типа `less`, чтобы можно было прокручивать.

## Следующие шаги

В следующем разделе мы рассмотрим обязанности, которые вы должны выполнять вручную как член Oracle DAO.
