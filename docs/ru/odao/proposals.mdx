import { Tab, Tabs } from "@rspress/core/theme";

# Предложения Oracle DAO

Как напоминание, существует два типа обязанностей Oracle DAO:

1. **Автоматизированные обязанности** — это обязанности, связанные с рутинной работой Rocket Pool, такие как передача информации из Consensus Layer в Execution Layer, вычисление различных аспектов протокола вне сети и отправка их в качестве обновлений в смарт-контракты. Каждая из них выполняется автоматически процессом демона `watchtower` и не требует ручного вмешательства, пока ваши Execution и Consensus Clients, а также ваш демон `watchtower` работают нормально. Вы уже настроили демон `watchtower` на предыдущих шагах, поэтому этот раздел не будет повторять их снова.
2. **Ручные обязанности** — это обязанности, которые требуют вашего собственного принятия решений и внеканальной коммуникации с остальными членами Oracle DAO для выполнения. Они включают в себя такие вещи, как голосование за обновления контрактов, изменение параметров и приглашение или исключение членов в/из Oracle DAO. Все это можно сделать через стандартный CLI Smartnode. В этом разделе описывается каждая из этих обязанностей и как их выполнять.

Предложения составляют основу ваших обязанностей за пределами автоматизированных обязанностей `watchtower`.
По сути, они работают следующим образом:

- Коллективный Oracle DAO должен заранее обширно обсудить предстоящее предложение, чтобы каждый член был осведомлен о нем и понимал, что это предложение повлечет за собой.
- Затем член Oracle DAO создает предложение через транзакцию в сети.
- Затем предложение войдет в **период ожидания** перед началом голосования, чтобы провести дальнейшее обсуждение и сформировать свое мнение о нем. В настоящее время это **7 дней** в Mainnet.
- После окончания периода ожидания члены могут голосовать по предложению простым голосованием да или нет.
- Когда кворум в 51% членов Oracle DAO проголосовал одинаково, голосование завершается. Если 51% согласились с предложением, оно сможет быть **выполнено**. Любой член может выполнить предложение после его одобрения.
- Выполнение означает формальный запуск изменения в сети, тем самым изменяя состояние основных контрактов Rocket Pool.

## Создание предложения

После того, как вы сделаете предложение, оно войдет в **период рассмотрения**, когда другие члены смогут его увидеть и обсудить, но не смогут голосовать по нему.
На момент написания это в настоящее время **7 дней**.

После периода рассмотрения будет **период голосования**, когда члены смогут голосовать либо за предложение, либо против него.
На момент написания это в настоящее время **14 дней**.

Если предложение достигает кворума до истечения срока действия (то есть, если достаточно членов проголосует за него, чтобы достичь консенсуса), оно будет **принято**.
Кворум является настраиваемым параметром Oracle DAO; в настоящее время он установлен как минимум на **51%** от общего пула членов.

После принятия голосования оно может быть **выполнено**, что приводит к вступлению его изменений в силу.
На момент написания выполнение происходит в течение **14 дней** после принятия предложения.

Процесс создания нового предложения зависит от типа предложения, которое вы хотите сделать.
Выберите тип из вкладок ниже.

<div className="p-3">
  <Tabs>
    <Tab label="Список членов Oracle DAO">
      Чтобы предложить изменение списка членов Oracle DAO, используйте команду `rocketpool odao propose member`, которая
      предоставляет следующие опции:

      ```
      NAME:
      rocketpool odao propose member - Make an oracle DAO member proposal

      USAGE:
      rocketpool odao propose member command [command options] [arguments...]

      COMMANDS:
      invite, i Propose inviting a new member
      leave, l Propose leaving the oracle DAO
      kick, k Propose kicking a member

      OPTIONS:
      --help, -h show help
      ```

      #### invite

      Приглашение члена выполняется через `rocketpool odao propose member invite`, которая примет 3 дополнительных аргумента:

      - Адрес узла для приглашения (должен быть зарегистрированным узлом Rocket Pool)
      - Имя / метка для этого узла
      - URL или контактная информация пользователя или организации, управляющей узлом

      Например: чтобы пригласить нового члена, запустите `rocketpool odao propose member invite
      0xabcd1234abcd1234abcd1234abcd1234abcd1234 some-user user@example.com`.

      #### kick

      Исключение члена из Oracle DAO выполняется через команду `rocketpool odao propose member kick`.
      Она попросит вас выбрать, какого члена вы хотите исключить, и назначить опциональный штраф (от 0 RPL до суммы
      залога RPL, в настоящее время 1750 RPL).
      Этот штраф, если назначен, сожжет часть (или весь) залога RPL члена, если Oracle DAO проголосует за исключение
      этого члена.

      #### leave

      Если вы хотите добровольно уйти из Oracle DAO, используйте команду `rocketpool odao propose member leave`.
      Это создаст новое предложение, чтобы другие члены могли проголосовать, одобрить ли вашу отставку или нет.
    </Tab>
    <Tab label="Параметры Oracle DAO">
      Чтобы предложить изменение параметров, управляющих голосованием Oracle DAO и изменением членства, используйте
      команду `rocketpool odao propose setting`, которая предоставляет следующие опции:

      ```
      NAME:
      rocketpool odao propose setting - Make an oracle DAO setting proposal

      USAGE:
      rocketpool odao propose setting command [command options] [arguments...]

      COMMANDS:
      members-quorum, q Propose updating the members.quorum setting - takes a percent, from 0 to 100
      members-rplbond, b Propose updating the members.rplbond setting - takes an RPL amount (e.g. 5000)
      proposal-cooldown, c Propose updating the proposal.cooldown.time setting - format is e.g. 1h30m45s
      proposal-vote-timespan, v Propose updating the proposal.vote.time setting - format is e.g. 1h30m45s
      proposal-vote-delay-timespan, d Propose updating the proposal.vote.delay.time setting - format is e.g. 1h30m45s
      proposal-execute-timespan, x Propose updating the proposal.execute.time setting - format is e.g. 1h30m45s
      proposal-action-timespan, a Propose updating the proposal.action.time setting - format is e.g. 1h30m45s
      scrub-period, s Propose updating the minipool.scrub.period setting - format is e.g. 1h30m45s

      OPTIONS:
      --help, -h show help
      ```

      #### members-quorum

      Использование `rocketpool odao propose setting members-quorum value` изменит кворум, необходимый для обязанностей Oracle DAO, прежде чем они будут считаться канонизированными.
      `value` здесь может быть числом с плавающей точкой от 0 до 100, указывающим процент членов, необходимых для достижения
      кворума в голосованиях Oracle DAO.

      ::: warning ПРИМЕЧАНИЕ
      Обратите внимание, что это **не** влияет на кворум, необходимый для автоматизированных обязанностей, таких как подача цены RPL и баланса rETH; эти настройки контролируются Protocol DAO (pDAO), _а не_ Oracle DAO.
      :::

      #### members-rplbond

      Используйте `rocketpool odao propose setting members-rplbond value` для изменения суммы RPL, необходимой в качестве залога для новых
      членов, приглашенных в Oracle DAO.
      Например, ввод `5000` для `value` установит залог на 5000 RPL.
      Обратите внимание, что это не влияет на членов, которые уже существуют; это влияет только на новых членов, приглашенных после изменения.

      #### proposal-cooldown

      Используйте `rocketpool odao propose setting proposal-cooldown value` для изменения времени восстановления, которое член должен ждать
      между отправкой предложений.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.

      #### proposal-vote-timespan

      Используйте `rocketpool odao propose setting proposal-vote-timespan value` для изменения того, как долго голосование может существовать перед
      истечением срока.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.

      #### proposal-vote-delay-timespan

      Используйте `rocketpool odao propose setting proposal-vote-delay-timespan value` для изменения того, как долго Oracle DAO должен
      ждать, прежде чем сможет голосовать по новому предложению.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.

      #### proposal-execute-timespan

      Используйте `rocketpool odao propose setting proposal-execute-timespan value` для изменения того, как долго Oracle DAO должен
      выполнить (ввести в действие) предложение после его одобрения.
      Если ни один из членов не выполнит предложение в течение этого окна, срок его действия истечет, и предложение станет
      недействительным.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.

      #### proposal-action-timespan

      Некоторые предложения требуют вторичных действий после выполнения, чтобы они вступили в силу (например,
      приглашение члена присоединиться, а затем его фактическое присоединение).
      Используйте `rocketpool odao propose setting proposal-action-timespan `value`` для изменения того, как долго это вторичное действие может
      быть выполнено после выполнения предложения.
      Пользователь не сможет выполнить это действие _после_ этого окна; если действие не будет выполнено вовремя, предложение
      по сути недействительно.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.

      #### scrub-period

      Используйте `rocketpool odao propose setting scrub-period value` для изменения того, как долго длится "период очистки" (время
      между входом нового minipool в статус `prelaunch` и входом в статус `staking`).
      У Oracle DAO есть столько времени, чтобы проверить новые minipools на [эксплуатацию учетных данных для вывода средств](https://github.com/rocket-pool/rocketpool-research/blob/master/Reports/withdrawal-creds-exploit) и
      очистить их, если эксплуатация обнаружена, тем самым гарантируя, что средства rETH не украдены.
      Эта обязанность выполняется автоматически демоном `watchtower`.
      Поскольку проверка обычно выполняется за считанные минуты, это значение просто предназначено для того, чтобы действовать как страховой буфер
      в случае, если Oracle DAO не может прийти к консенсусу из-за сбоя узла; у членов есть столько времени, чтобы
      решить проблему и достичь кворума по очистке эксплуатируемого minipool.

      `value` — это строка времени в формате, такая как `1h30m45s` для одного часа, тридцати минут и сорока пяти
      секунд.
      Она не принимает дни; для нескольких дней просто используйте общее количество часов.
    </Tab>
    <Tab label="Обновления контрактов">
      Обновления контрактов в настоящее время выходят за рамки CLI.
      Транзакции должны быть отправлены вручную; пожалуйста, проконсультируйтесь с командой Rocket Pool, если вы хотите узнать, как
      предложить обновление контракта для сети.
    </Tab>

  </Tabs>
</div>

## Просмотр предложений

Чтобы просмотреть краткую сводку всех предложений в истории протокола, используйте `rocketpool odao proposals list`.
Это отсортирует предложения по их статусу и покажет, кто их предложил и что они делают.

Чтобы просмотреть подробности конкретного предложения, используйте `rocketpool odao proposals details value`, где `value` — это идентификатор предложения, которое вы хотите просмотреть.
Это покажет всестороннюю разбивку информации о предложении, включая того, кто его создал, когда оно было создано, тело полезной нагрузки, сколько членов проголосовало за него, сколько членов проголосовало против него, и проголосовал ли ваш узел по нему уже.

## Голосование по предложениям

Чтобы проголосовать по предложению, используйте следующую команду:

```shell
rocketpool odao proposals vote
```

Это предоставит вам интерактивный диалог с вопросом, по какому предложению вы хотите проголосовать, и хотите ли вы проголосовать за него или против него.
Внимательно следуйте подсказкам для завершения голосования.

## Выполнение предложений

Когда предложение получило достаточно голосов в его пользу, чтобы достичь кворума, любой член Oracle DAO может затем _выполнить_ предложение (применить его изменения), используя следующую команду:

```shell
rocketpool odao proposals execute
```

Это предоставит вам интерактивный диалог с вопросом, какое предложение вы хотите выполнить.
Внимательно следуйте подсказкам для завершения выполнения.
