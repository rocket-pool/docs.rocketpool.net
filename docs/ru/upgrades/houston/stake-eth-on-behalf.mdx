import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Stake ETH от имени ноды

RPIP-32 позволяет аккаунту [stake ETH от имени](https://rpips.rocketpool.net/RPIPs/RPIP-32) ноды Rocket Pool, зарегистрированной в протоколе. Это поддерживает различные ситуации, когда оператор ноды не предоставляет ETH напрямую:

- Улучшенная безопасность для операторов нод, так как они могут stake напрямую из своего аппаратного кошелька, устраняя необходимость переводить средства на ноду заранее.
- Провайдеры Staking as a Service, где управление средствами осуществляется доверенным хранителем.
- Интеграции протокола, где управление средствами осуществляется смарт-контрактами.
- DAO или организации, где управление средствами осуществляется казначейством.

Хотя основная цель этой функции - облегчить сценарии с одним депонентом, стоит отметить, что несколько независимых депонентов также могут использовать эту возможность, создавая смарт-контракты поверх. Rocket Pool также представил возможность [stake RPL от имени](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) ноды в нашем предыдущем релизе Atlas.

### Предварительное условие

Убедитесь, что вы правильно настроили [основной адрес вывода](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды, которую вы намереваетесь финансировать. Следуйте по ссылке выше для руководства о том, как работают адреса вывода после Houston.

::: tip ПРИМЕЧАНИЕ
Не пропускайте этот шаг! Весь залог/награды ETH будут выведены на основной адрес вывода. Другими словами, адрес, который предоставляет ETH для ноды, должен использоваться как основной адрес вывода! Пожалуйста, убедитесь, что основной адрес вывода ноды установлен на кошелек, которым вы владеете.
:::

Процесс немного отличается для Hoodi Testnet и Mainnet, поэтому выберите сеть, которая вас интересует, на вкладках ниже.

<div className="p-3">
  <Tabs>
    <Tab label="Подготовка в Hoodi Testnet">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">ПРЕДУПРЕЖДЕНИЕ</p>
        При практике staking в тестовой сети вам **не нужно предоставлять какой-либо реальный ETH** в этом процессе.
        Вместо этого вам будет предоставлен **поддельный тестовый ETH**.

        **Не пытайтесь переместить свой реальный ETH из mainnet в testnet, иначе вы потеряете его навсегда!**
      </p>

      Начните с установки [MetaMask](https://metamask.io/), если вы еще этого не сделали.
      Следуйте инструкциям на их сайте, чтобы установить расширение, создать аккаунт и войти.

      Затем откройте панель MetaMask, используя его значок на панели инструментов браузера.

      Вам нужно будет добавить Hoodi Testnet в MetaMask.

      Нажмите на выпадающий список в верхнем левом углу и нажмите кнопку "Add Network".

      Вы увидите список сетей, Hoodi нет в этом списке, поэтому нажмите кнопку "Add a network manually".

      Заполните следующие данные:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Затем нажмите Save. Теперь вы должны увидеть сеть Hoodi в выпадающем списке в верхнем левом углу.

      Нажмите на **выпадающий список сети** в верхнем левом углу расширения Metamask и выберите **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Теперь, когда у вас есть адрес кошелька в MetaMask, вам нужно заполнить его тестовым ETH.
      Перейдите на страницу [Практика с тестовой сетью](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) для краткого руководства о том, как использовать testnet faucet для получения тестового ETH на Hoodi.

      Как только у вас будет Hoodi ETH для тестирования, перейдите на [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Если вы видите уведомление о том, что требуется браузер web3 или текущий ID сети не поддерживается, убедитесь, что вы правильно выполнили предыдущие шаги, прежде чем продолжить.
    </Tab>
    <Tab label="Подготовка в Ethereum Mainnet">
      Начните с установки [MetaMask](https://metamask.io/), если вы еще этого не сделали.

      Следуйте инструкциям на их сайте, чтобы установить расширение, создать аккаунт и войти.

      Затем откройте панель MetaMask, используя его значок на панели инструментов браузера.

      Нажмите на **выпадающий список сети** на панели инструментов вверху и убедитесь, что выбран **Ethereum Mainnet**:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Теперь, когда у вас есть адрес кошелька в MetaMask, вам нужно перевести в него ETH.

      Вам нужно будет предоставить это из существующего кошелька или купить ETH на бирже.

      Как только у вас будет ETH для stake, перейдите на [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Если вы видите уведомление о том, что требуется браузер web3 или текущий ID сети не поддерживается, убедитесь, что вы правильно выполнили предыдущие шаги, прежде чем продолжить.
    </Tab>

  </Tabs>
</div>

Как только вы окажетесь на сайте, нажмите на кнопку **connect wallet**. Пожалуйста, прочитайте и примите Условия обслуживания и Политику конфиденциальности, это откроет различные способы подключения, затем нажмите **connect metamask**.

MetaMask предложит вам выбрать аккаунт для подключения к веб-сайту.
Выберите один, подтвердите несколько разрешений. Вы увидите обзор ваших балансов, нажав на значок кошелька, расположенный в верхнем правом углу окна.

Отсюда вы захотите ввести адрес ноды, от имени которой вы хотите внести ETH. Страница должна выглядеть так:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Вставьте желаемый адрес в это поле и нажмите find. В этом примере мы будем использовать `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

В первом поле введите сумму ETH, которую вы хотите внести от имени ноды. Второе поле показывает, от имени какого адреса вы будете вносить ETH. Пожалуйста, убедитесь, что вы ввели правильный адрес и депозит. Как только вы будете удовлетворены, нажмите Deposit, и MetaMask откроет окно с просьбой подтвердить вашу транзакцию.

После подтверждения транзакция начнется.
Когда она будет включена в блок и добавлена в цепь, ваш делегат сможет использовать команду `rocketpool node status` в smartnode, чтобы увидеть новый баланс. Этот баланс также можно просмотреть через сайт staking Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning ПРИМЕЧАНИЕ
Если оператор ноды вносит ваш ETH в minipool, вы не сможете выйти из их minipool без доступа к их учетным данным вывода, поэтому имейте это в виду! Вы можете использовать сайт staking Rocket Pool для вывода ETH, внесенного от имени ноды, если он не используется в minipool.
:::

Вот и все!
Теперь вы делаете staking с Rocket Pool.

# Unstake ETH от имени ноды

<div className="p-3">
  <Tabs>
    <Tab label="Подготовка в Hoodi Testnet">
      Когда вы будете готовы вывести ETH, который вы внесли от имени ноды, перейдите на [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth). После
      входа как [основной адрес вывода](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды вы должны увидеть знакомое меню. Вам будет предложено ввести адрес ноды, из
      которой вы хотите вывести:
    </Tab>
    <Tab label="Подготовка в Ethereum Mainnet">
      Когда вы будете готовы вывести ETH, который вы внесли от имени ноды, перейдите на [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). После входа как [основной
      адрес вывода](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды вы должны увидеть знакомое меню. Вам будет предложено ввести адрес ноды, из которой вы хотите вывести:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

После ввода адреса нажатие "Find" переведет вас к следующему меню, где вы сможете вывести ETH, который вы внесли от имени этой ноды.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Вы сможете увидеть, сколько ETH доступно для вывода, в правом верхнем углу. После того как вы введете желаемое количество и подтвердите адрес ноды, нажмите оранжевую кнопку **Withdraw ETH**, чтобы отправить транзакцию в сеть.

После подтверждения транзакции вы увидите правильные балансы на вашем аккаунте!

Вот и все, что касается staking ETH от имени ноды! Мы надеемся, что вы нашли процесс быстрым и простым.

Не стесняйтесь заглянуть на [наш сервер Discord](https://discord.gg/G46XgK264a), чтобы сообщить нам, что вы об этом думаете, и следить за развитием проекта.
