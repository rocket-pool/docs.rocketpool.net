::: danger ПРЕДУПРЕЖДЕНИЕ
Депозиты Minipool в настоящее время отключены в рамках подготовки к Saturn 1.
:::

# Делегат Minipool

Каждый валидатор, который вы запускаете, имеет контракт **minipool** в качестве своего "владельца", так сказать.
Minipool — это уникальный контракт, специально назначенный этому валидатору; он действует как его **адрес вывода**.
Все вознаграждения и выводы баланса стейкинга из Beacon Chain будут отправляться в контракт minipool.

Каждый minipool уникален, чтобы гарантировать, что у вас (оператора ноды) есть полный контроль над ним.
Никто другой не контролирует его, никто другой не может изменить его; он полностью под вашим управлением.

При этом, чтобы минимизировать затраты на газ во время депозитов ноды, сам minipool содержит очень мало фактической функциональности.
Почти все, что он может делать, передается контракту **делегата**.

Контракт делегата minipool — это специальный контракт, который содержит основную часть логики, необходимой для minipool — например, справедливое распределение баланса между вами и стейкерами пула.
В отличие от minipool, где каждый minipool является уникальным контрактом, делегат — это единый контракт, к которому многие minipool могут "перенаправлять" запросы.

Иногда команда разработчиков Rocket Pool публикует нового делегата minipool, который добавляет новую функциональность.
Например, в обновлении Atlas мы представили нового делегата, который поддерживал распределение собранных вознаграждений без необходимости закрывать minipool.

Minipool могут обновлять своих делегатов, чтобы воспользоваться этой новой функциональностью.
Обновления делегатов являются **добровольными**, поэтому вы можете решить, хотите ли вы использовать их и когда.
При этом они обычно требуются для использования новой функциональности, которую вводят обновления сети.

### Обновление вашего делегата

Чтобы обновить minipool до нового контракта делегата, просто выполните следующую команду:

```shell
rocketpool minipool delegate-upgrade
```

Это покажет вам список ваших minipool, которые в настоящее время не используют последнего делегата и подходят для обновления:

```
Please select a minipool to upgrade:
1: All available minipools
2: 0x7e5702a2cE66B5B35E59B9Ac00eEAAa547881e40 (using delegate 0x5c2D33A015D132D4f590f00df807Bb1052531ab9)
3: 0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5 (using delegate 0x5c2D33A015D132D4f590f00df807Bb1052531ab9)
4: 0x7E5704aD2a63eb90880426Dcd4a3811246dF3cB0 (using delegate 0x5c2D33A015D132D4f590f00df807Bb1052531ab9)
5: 0x7E5705c149D11efc951fFc20349D7A96bc6b819C (using delegate 0x5c2D33A015D132D4f590f00df807Bb1052531ab9)
6: 0x7E570625cE8F586c90ACa7fe8792EeAA79751778 (using delegate 0x5c2D33A015D132D4f590f00df807Bb1052531ab9)
7: 0x7E5700c82E38434C6c72890bb82f5B5305f4328a (using delegate 0x6aCEA7f89574Dd8BC6ffDfDca1965A3d756d5B20)
```

Выберите те, которые вы хотите обновить, из списка, введя соответствующий номер слева от адреса minipool.
После выбора вам будет предложено подтвердить настройки цены газа, и после этого будет отправлена транзакция для обновления minipool:

```
Using a max fee of 26.00 gwei and a priority fee of 2.00 gwei.
Are you sure you want to upgrade 1 minipools? [y/n]
y

Upgrading minipool 0x7e5702a2cE66B5B35E59B9Ac00eEAAa547881e40...
Transaction has been submitted with hash 0xcd91c9a38f3438c3d8a45bb5f439014e5935dcb50b0704f3c5077f54174e99bb.
Waiting for the transaction to be included in a block... you may wait here for it, or press CTRL+C to exit and return to the terminal.

Successfully upgraded minipool 0x7e5702a2cE66B5B35E59B9Ac00eEAAa547881e40.
```

Вы можете проверить, что он использует последнего делегата, с помощью `rocketpool minipool status`.
Любые minipool, которые _не_ используют последнего делегата, будут иметь желтое уведомление под своим статусом, сообщающее вам, что они могут быть обновлены:

```
Address:              0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5
Penalties:            0
...
Delegate address:      0x5c2D33A015D132D4f590f00df807Bb1052531ab9
Rollback delegate:     <none>
Effective delegate:    0x5c2D33A015D132D4f590f00df807Bb1052531ab9
*Minipool can be upgraded to delegate 0x149aE025fFC7E7bbcCc8d373d56797D637bF5D33!
```
