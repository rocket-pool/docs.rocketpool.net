# Обязанности оператора ноды

## Как работает стейкинг Ethereum

Напомним, что стейкинг в Proof of Stake осуществляется через **валидаторов**.
Валидатор - это, по сути, единственный адрес Beacon Chain, на который было внесено 32 ETH на уровне исполнения.
Валидаторы несут ответственность за поддержание согласованности и безопасности Beacon Chain.
Они делают это, прослушивая транзакции и предложения новых блоков и **аттестуя**, что предложенный блок содержит законные, действительные транзакции, выполняя некоторые вычисления и проверку за кулисами.
Иногда они получают возможность предлагать новые блоки самостоятельно.

Валидаторам назначаются аттестации и предложения блоков **по рандомизированному расписанию**.
Это сильно отличается от старой системы Proof of Work, где все постоянно пытались обогнать друг друга и придумать следующий блок раньше всех остальных.
Это означает, что в отличие от Proof of Work, где майнеры не гарантированно получали вознаграждение за блок, если они не нашли следующий блок, валидаторы Proof of Stake _гарантированно_ имеют медленный, стабильный доход, пока они выполняют свои обязанности.
Если валидатор не в сети и пропускает аттестацию или предложение блока, он будет **слегка наказан**.
Однако штрафы довольно малы; как правило, если валидатор не в сети X часов, он вернет все свои потерянные ETH после тех же X часов пребывания в сети.

### Вознаграждения

Валидаторы получают вознаграждения уровня консенсуса от аттестаций, предложений блоков, комитетов синхронизации (редко) и вознаграждений за слэшинг (крайне редко). Они также получают вознаграждения уровня исполнения от приоритетных комиссий и MEV.

По состоянию на 10/2024 общий APR составляет ~3.5%, причем 2.8% - это APR уровня консенсуса, а 0.7% - APR уровня исполнения. Одно из мест, где можно найти эту информацию, - это [rated explorer](https://explorer.rated.network/network?network=mainnet&timeWindow=30d&rewardsMetric=average&geoDistType=all&hostDistType=all&soloProDist=stake).

### Штрафы

Валидаторы штрафуются на небольшие суммы ETH, если они не в сети и не выполняют свои назначенные обязанности.
Это называется **утечкой**.
Если валидатор нарушает одно из основных правил Beacon chain и, похоже, атакует сеть, он может быть **наказан**.
Слэшинг - это принудительный выход вашего валидатора без вашего разрешения, сопровождаемый относительно большим штрафом, который удаляет часть баланса ETH вашего валидатора.

Реалистично, единственное условие, которое может вызвать слэшинг, - это если вы запустите ключи вашего валидатора на двух нодах одновременно (например, настройка отказоустойчивости / резервирования, где ваша резервная нода случайно включается, пока ваша основная нода все еще работает).
Не допускайте этого, и **вы не будете наказаны**.
Слэшинг _не может произойти_ из-за того, что вы не в сети для обслуживания.

Ниже приведена таблица, показывающая штрафы, которые могут произойти с валидатором:

| Тип                           | Уровень    | Сумма                                                                                                   |
| ----------------------------- | ---------- | ------------------------------------------------------------------------------------------------------- |
| Пропущенная аттестация        | Консенсус  | -0.000011 ETH\* за аттестацию (-9/10 значения обычного вознаграждения за аттестацию)                   |
| Пропущенное предложение       | Консенсус  | 0                                                                                                       |
| Пропущенный комитет синхронизации | Консенсус  | -0.00047 ETH\* за эпоху (-0.1 ETH всего, если не в сети для всего комитета синхронизации)           |
| Слэшинг                       | Консенсус  | Как минимум 1/32 вашего баланса, до всего вашего баланса в экстремальных обстоятельствах              |

\*_Варьируется в зависимости от общего количества валидаторов в сети.
Приблизительно для 435 000 активных валидаторов._

::: tip СОВЕТ
Как правило, если вы не в сети X часов (и вы не в комитете синхронизации), то вы вернете все свои утраченные ETH после X часов, когда вы снова будете в сети и аттестовать.
:::

## Как работают ноды Rocket Pool

В отличие от соло-стейкеров, которым требуется внести 32 ETH для создания нового валидатора, нодам Rocket Pool нужно внести только 8 ETH на валидатора (называемые "залоговые ETH").
Это будет соединено с 24 ETH из пула стейкинга (называемые "заимствованные ETH", которые поступают из депозитов liquid stakers в обмен на rETH) для создания нового валидатора.
Этот новый валидатор принадлежит **minipool**.

Для Beacon chain minipool выглядит точно так же, как обычный валидатор.
Он имеет те же обязанности, те же правила, которым он должен следовать, те же вознаграждения и так далее.
Единственная разница в том, как minipool был создан на уровне исполнения и как работает вывод средств, когда оператор ноды решает добровольно выйти из minipool.
Все создание, вывод и делегирование вознаграждений обрабатывается **смарт-контрактами** Rocket Pool в цепочке Ethereum.
Это делает его полностью децентрализованным.

**Нода** Rocket Pool - это один компьютер с кошельком Ethereum, который был зарегистрирован в смарт-контрактах Rocket Pool.
Затем нода может создать столько minipools, сколько она может себе позволить, все работающие счастливо на одной машине вместе.
**Одна нода Rocket Pool может запускать много, много minipools.**
Каждый minipool оказывает незначительное влияние на общую производительность системы; некоторые люди смогли запустить сотни из них на одной ноде.

Первоначальная стоимость minipool составляет 8 ETH. Кроме того, оператор ноды может застейкать RPL на своей ноде, чтобы получить право на дополнительные вознаграждения и получить голосующую власть в протоколе DAO.

## Операторы нод Rocket Pool

**Операторы нод** - это сердце и душа Rocket Pool.
Они являются людьми, которые запускают ноды Rocket Pool.

### Обязанности

Они заставляют ETH из пула стейкинга работать, запуская minipools с ним, которые зарабатывают вознаграждения за стейкинг для протокола Rocket Pool (и, таким образом, увеличивают стоимость rETH).
Их работа проста, но критически важна: _запускать валидаторов с максимально возможным качеством и максимизировать вознаграждения за стейкинг_.

Операторы нод несут ответственность за:

- Настройку компьютера (физического или виртуального)
- Правильную его настройку, включая домашнюю сеть, если применимо
- Установку Rocket Pool на него и настройку minipools для выполнения валидации
- Его защиту от внешних и внутренних угроз
- Его обслуживание на протяжении всей жизни их валидаторов

Это большая ответственность, и не простая работа типа "установил и забыл"; вам нужно заботиться о своей ноде, пока она стейкит.
Однако с большой ответственностью приходят большие вознаграждения.

### Вознаграждения

Вот основные преимущества запуска ноды Rocket Pool:

- Вы зарабатываете свою долю вознаграждений ETH каждого валидатора плюс комиссию.
  - Для minipools с залогом 8 ETH без застейканного RPL это составляет на 30% больше, чем соло-стейкинг (`(8+24*.1)/8 = 1.3`)
  - Стейкинг RPL обеспечивает повышенную комиссию. При стейке RPL, оцениваемом в 10% или более от вашего общего заимствованного ETH, вознаграждения ETH составляют на 42% больше, чем соло-стейкинг (`(8+24*.14)/8 = 1.42`)
  - **Примечание:** если вы не участвуете в smoothing pool, вы вместо этого получите на 15% больше, чем соло-стейкинг (`(8+24*.05)/8 = 1.15`) -- настоятельно рекомендуется, чтобы пользователи с minipools, созданными 28.10.2024 или после этой даты, присоединились к smoothing pool.
- Вы также зарабатываете вознаграждения за эмиссию на застейканном RPL.
  - В конце периода (каждые 28 дней) делается снимок вашего RPL.
  - Вы можете получить максимальную доходность по RPL **до 15%** от стоимости вашего общего заимствованного ETH.
    - Вы будете получать доходность по RPL сверх этого, на уменьшающемся уровне.
  - Вы получите голосующую силу на основе квадратного корня вашего застейканного RPL.

### Ограничения

Есть некоторые ограничения, которые идут вместе с вознаграждениями выше:

- Если ваша нода работает плохо и вы действительно теряете ETH к тому времени, когда решаете выйти из своего minipool, все потерянные ETH будут вычитаться из вашей доли.
  - Например: если вы выходите с балансом 30 ETH, то ваш minipool потерял 2 ETH от своего первоначального депозита в 32 ETH. Вы получите 6 ETH, а 24 ETH будут возвращены в пул стейкинга.
- Ваш застейканный RPL будет менее ликвидным
  - Вы можете вывести стейк RPL только сверх того, что оценивается в 60% от вашего залогового ETH.
  - Вы не можете вывести RPL, если вы застейкали за последние 28 дней

### У вас все получится

Если вы довольно новичок в использовании командной строки или обслуживании компьютера, это может показаться страшным вызовом.
К счастью, одним из наиболее важных принципов Rocket Pool является _децентрализация_ - тот факт, что любой, где угодно, может запустить ноду, если у него есть решимость и знания.
Хотя мы не можем помочь с решимостью, мы _можем_ помочь со знаниями.
Этот раздел наполнен руководствами, пошаговыми инструкциями и информацией, которая поможет вам понять, как запустить отличную ноду Rocket Pool.
