import ethereum_client_diversity from "./images/ethereum-client-diversity-aug-2025.png";

# Выбор ваших ETH-клиентов

Установщик Smartnode от Rocket Pool может превратить вашу машину в полный узел Ethereum, так как для правильной работы требуются как Execution, так и Consensus клиенты.

Термины ETH1/ETH2 устарели.
Цепочки будут называться **Execution Layer (ETH1)** и **Beacon Chain или Consensus Layer (ETH2)** в остальных разделах этих руководств.

Если у вас уже есть запущенные Execution и Consensus клиенты на отдельной машине (например, если вы уже занимаетесь solo-staking), то пропустите этот раздел и перейдите к разделу [Настройка гибридного узла Rocket Pool с внешними клиентами](./install-modes#the-hybrid-configuration-with-external-clients).

В противном случае читайте дальше, чтобы узнать больше о ваших вариантах для Execution и Consensus клиентов.

::: warning ПРИМЕЧАНИЕ
По состоянию на август 2025 года распределение клиентов на Beacon Chain выглядит примерно так:

<img src={ethereum_client_diversity} width="100%" height="auto" />

_Данные получены с [https://clientdiversity.org](https://clientdiversity.org)_

Получение данных о том, какой consensus клиент использует валидатор, является относительно сложной задачей, поскольку клиенты нелегко идентифицировать. Страница [методологии данных](https://clientdiversity.org/methodology/) на [https://clientdiversity.org](https://clientdiversity.org) описывает, как получаются данные из разных источников. Не стесняйтесь посетить [https://ethernodes.org/](https://ethernodes.org/) в качестве дополнительного источника данных.

Подавляющее большинство операторов узлов в настоящее время используют Geth в качестве Execution Client и либо Lighthouse, либо Prysm в качестве Consensus Client.
В интересах поддержки здоровья Execution Layer (ранее ETH1) и Beacon Chain (ранее ETH2) мы в настоящее время рекомендуем вам рассмотреть использование других клиентов.
Вот несколько соответствующих статей о том, почему равномерное разнообразие клиентов имеет решающее значение для здоровья сети, если вы хотите узнать больше:

[https://clientdiversity.org/#why](https://clientdiversity.org/#why)

[https://blog.ethereum.org/2020/08/21/validated-why-client-diversity-matters/](https://blog.ethereum.org/2020/08/21/validated-why-client-diversity-matters/)

[https://our.status.im/the-importance-of-client-diversity/](https://our.status.im/the-importance-of-client-diversity/)

[https://medium.com/prysmatic-labs/eth2-mainnet-incident-retrospective-f0338814340c](https://medium.com/prysmatic-labs/eth2-mainnet-incident-retrospective-f0338814340c)

[https://dankradfeist.de/ethereum/2022/03/24/run-the-majority-client-at-your-own-peril.html](https://dankradfeist.de/ethereum/2022/03/24/run-the-majority-client-at-your-own-peril.html)

[https://eth2book.info/bellatrix/part2/incentives/diversity](https://eth2book.info/bellatrix/part2/incentives/diversity/)
:::

Для пользователей, которые хотят быстро начать работу, установщик Smartnode предоставляет опцию `Random Client`, которая может быть лучшим выбором.
Для пользователей, у которых есть конкретный клиент, который они хотели бы использовать, мы предоставляем возможность легко выбрать его во время установки Rocket Pool.
Варианты ниже помогают описать каждый клиент, чтобы вы могли принять обоснованное решение, если хотите указать, какой из них вы хотите.

## Execution Клиенты

Rocket Pool поддерживает четыре различных Execution клиента: **Geth**, **Besu**, **Nethermind** и **Reth**.

Запуск Execution клиента включает в себя хранение копии блокчейна Execution layer на вашей машине.
Он взаимодействует через peer-to-peer коммуникации с другими EC узлами для записи и проверки новых блоков и транзакций.
Полный Execution клиент **обязателен** для запуска валидатора теперь, когда Execution и Consensus layers объединены.

### Geth

[Geth](https://geth.ethereum.org/) (формально названный `Go Ethereum`) является одной из трех оригинальных реализаций (наряду с C++ и Python) протокола Ethereum.
Он написан на Go, полностью открытым исходным кодом и лицензирован под GNU LGPL v3.

Geth является самым старым и наиболее широко используемым Execution Client по всему миру.
Он имеет репутацию очень стабильного и надежного.

Он многопоточный, что означает, что он может использовать весь ваш CPU.
Его использование RAM настраивается, вплоть до **минимума около 4 ГБ для Mainnet**.
Это делает его жизнеспособным как для маломощных, так и для высокопроизводительных систем.

::: warning ПРИМЕЧАНИЕ
Geth требует **оффлайн-обрезки** своей базы данных периодически: его база данных будет расти со временем и постепенно потреблять все ваше свободное дисковое пространство, если вы не обрежете ее, когда на диске заканчивается свободное место.
Частота, с которой вам нужно обрезать, будет зависеть от размера вашего SSD.

Для получения дополнительной информации об обрезке Geth просмотрите страницу [Обрезка Execution Client](./pruning).
:::

### Besu

Hyperledger [Besu](https://besu.hyperledger.org/en/stable/) — это Ethereum клиент с открытым исходным кодом, разработанный по лицензии Apache 2.0 и написанный на [Java](https://en.wikipedia.org/wiki/Java_%28programming_language%29).
Самая захватывающая функция Besu — это использование [Bonsai Tries](https://consensys.net/blog/news/bonsai-tries-a-big-update-for-small-state-storage-in-hyperledger-besu/) для хранения состояния. Помимо лучших характеристик производительности, Bonsai Tries дают Besu два интересных преимущества перед другими клиентами:

1. Besu _не_ нужно обрезать вообще; в этом отношении он практически не требует обслуживания
2. Besu способен пересматривать любой прошлый блок в блокчейне, хотя он делает это, перематывая каждый блок, поэтому достижение блоков из далекого прошлого может занять некоторое время.

Besu в настоящее время рекомендует как минимум **16 ГБ RAM**, хотя можно успешно работать с 8 ГБ.

### Nethermind

[Nethermind](https://nethermind.io/nethermind-client/) написан на [.NET Core](https://en.wikipedia.org/wiki/.NET).
Он может похвастаться самой быстрой скоростью синхронизации среди Execution клиентов и имеет богатый набор опций конфигурации.
Он разработан с учетом операторов узлов и имеет множество функций, которые они найдут полезными.

Как и Geth, Nethermind требует периодической обрезки своей базы данных.
Однако, в отличие от Geth, база данных Nethermind [может быть обрезана, пока он остается онлайн](https://medium.com/nethermind-eth/netherminds-full-pruning-is-here-cutting-the-gordian-knot-5e3450f02de9).
Это означает, что вам не нужно отключать клиент и полагаться на резервный вариант для обрезки.
Однако процесс онлайн-обрезки Nethermind довольно ресурсоемкий, поэтому пользователи, работающие на маломощных узлах, могут увидеть некоторое снижение производительности во время процесса.

Nethermind требует **как минимум 16 ГБ RAM**, хотя больше предпочтительнее.

::: tip ПРИМЕЧАНИЕ
Nethermind требует периодической обрезки своей базы данных: его база данных будет расти со временем и постепенно потреблять все ваше свободное дисковое пространство, если вы не обрежете ее, когда на диске заканчивается свободное место.
Частота, с которой вам нужно обрезать, будет зависеть от размера вашего SSD.

Однако, в отличие от Geth, Nethermind **остается онлайн**, пока он обрезается.
Это делает его привлекательным выбором для узлов, потому что у них не будет простоев во время обрезки.

Для получения дополнительной информации об обрезке Nethermind просмотрите страницу [Обрезка Execution Client](./pruning).
:::

### Reth

[Reth](https://reth.rs/) — это клиент Execution layer, написанный на [Rust](https://www.rust-lang.org/) и использующий архитектуру [Erigon staged-sync](https://erigon.substack.com/p/erigon-stage-sync-and-control-flows).
Reth разработан с нуля с учетом эффективности, производительности и модульности. Он лицензирован под пермиссивной лицензией Apache/MIT и построен из небольших, хорошо абстрагированных, хорошо протестированных и бенчмаркированных пакетов. Это обеспечивает отличный опыт разработчика с открытым исходным кодом и позволяет использовать компоненты Reth в других проектах.

Как самый новый клиент в экосистеме, Reth быстро развивается и получает признание. Хотя требования к RAM и CPU гибкие, наиболее важным требованием является, безусловно, диск. Мы рекомендуем использовать хороший [TLC диск](https://gist.github.com/yorickdowne/f3a3e79a573bf35767cd002cc977b038).
Reth требует **как минимум 8 ГБ RAM** для полного узла или **16 ГБ RAM** для архивного узла.

### Таблица сравнения клиентов

| Client     | Type | Использование CPU | Минимальное использование RAM | Время синхронизации |
| ---------- | ---- | ----------------- | ----------------------------- | ------------------- |
| Geth       | Full | Умеренное         | 4 ГБ                          | Умеренное           |
| Besu       | Full | Умеренное         | 6 ГБ                          | Медленное           |
| Nethermind | Full | Умеренное         | 16 ГБ                         | Быстрое             |
| Reth       | Full | Умеренное         | 8 ГБ                          | Быстрое             |

## Consensus Клиенты

Установщик Rocket Pool с гордостью поддерживает пять доступных в настоящее время Consensus клиентов: **Lighthouse**, **Lodestar**, **Nimbus**, **Prysm** и **Teku**.

Каждый из них является **полным клиентом**, что означает, что вы будете способствовать децентрализации сети Consensus независимо от того, какой клиент вы выберете.

Все пять клиентов имеют низкий риск, низкие требования к обслуживанию и будут генерировать практически идентичные общие награды от валидации.
Они немного отличаются с точки зрения требований к ресурсам и функций, но вы не ошибетесь ни с одним из них.

По умолчанию установщик Rocket Pool предложит выбрать случайный consensus клиент для вас.
Это поможет способствовать общему **разнообразию сети**.
Это важно с точки зрения безопасности: если один клиент используется большинством узлов и страдает от серьезной ошибки или атаки, это может привести к сбою всех этих узлов и, следовательно, угрожать стабильности всей Beacon Chain.

### Lighthouse

[Lighthouse](https://lighthouse.sigmaprime.io/) — это Ethereum 2.0 клиент с открытым исходным кодом, поддерживаемый [Sigma Prime](https://sigmaprime.io/).
Он реализует [спецификацию Ethereum 2.0](https://github.com/ethereum/consensus-specs), определенную исследовательской командой Ethereum Foundation.

Lighthouse — это передовой проект распределенных систем, реализующий технологии на переднем крае исследований блокчейна, включая консенсус proof-of-stake, параллельное выполнение транзакций и разделение состояния (шардинг).

Lighthouse не имеет официальной связи с Ethereum Foundation и будет продолжать следовать его руководству до тех пор, пока это остается в лучших интересах протокола Ethereum и окружающего его сообщества.

Lighthouse реализован на [Rust](https://www.rust-lang.org/) и будет поддерживать фокус на безопасности и эффективности.

### Lodestar

[Lodestar](https://lodestar.chainsafe.io/) — пятый Ethereum consensus клиент с открытым исходным кодом, поддерживаемый [ChainSafe Systems](https://chainsafe.io/). Наш флагманский продукт — это наш клиент beacon chain и валидатора, готовый к производству, для консенсуса Ethereum. Наше программное обеспечение и инструменты уникально расположены как основной выбор для исследователей и разработчиков для быстрого прототипирования и использования в браузере. Миллионы разработчиков по всему миру знакомы с Typescript, а высококачественные кодовые базы Lodestar являются отличным введением в мир Ethereum.

Lodestar также был лидером в исследованиях, стандартизации и реализации легких клиентов Ethereum. Мы стремимся работать с другими разработчиками клиентов, исследователями и разработчиками, чтобы продемонстрировать важность того, чтобы браузеры использовали данные без доверия непосредственно из блокчейна.

Ниша Lodestar — в его языке реализации, [Typescript](https://www.typescriptlang.org/).

### Nimbus

[Nimbus](https://nimbus.team/) — это реализация клиента как для Ethereum 2.0, так и для Ethereum 1.0, которая стремится быть максимально легкой с точки зрения используемых ресурсов.
Это позволяет ему хорошо работать на встроенных системах и устройствах с ограниченными ресурсами.

Однако оборудование с ограниченными ресурсами — не единственное, для чего хорош Nimbus.
Его низкое потребление ресурсов позволяет легко запускать Nimbus вместе с другими рабочими нагрузками на вашем сервере (это особенно ценно для стейкеров, стремящихся снизить стоимость своих серверных экземпляров).

Nimbus написан на [Nim](https://nim-lang.org/) и поддерживается [командой Status.im](https://status.im/about/).

### Prysm

Проект [Prysm](https://docs.prylabs.network/docs/getting-started/#what-is-prysm) — это полнофункциональная реализация сети Ethereum 2.0, написанная полностью на [языке программирования Go](https://golang.org/).

Созданный [Prysmatic Labs](https://prysmaticlabs.com/), Prysm реализует официальную [спецификацию Ethereum 2.0](https://github.com/ethereum/consensus-specs), которая является продуктом постоянных коллективных исследований и разработок различных команд по всей экосистеме Ethereum, включая [Ethereum Foundation](https://ethereum.org/).

### Teku

[Teku](https://docs.teku.consensys.net/en/stable/) (ранее известный как Artemis) — это Ethereum consensus клиент на базе [Java](https://en.wikipedia.org/wiki/Java_%28programming_language%29), разработанный и построенный для удовлетворения институциональных потребностей и требований безопасности.
PegaSys — это подразделение [ConsenSys](https://consensys.net/), занимающееся созданием корпоративных клиентов и инструментов для взаимодействия с основной платформой Ethereum.

Teku лицензирован под Apache 2.0 и написан на Java, языке, известном своей зрелостью и повсеместностью.

### Таблица сравнения клиентов

| Client     | Использование CPU | Минимальное использование RAM | Время синхронизации                      |
| ---------- | ----------------- | ----------------------------- | ---------------------------------------- |
| Lighthouse | Умеренное         | 2 ГБ                          | Мгновенно с checkpoint sync              |
| Lodestar   | Умеренное         | 4 ГБ                          | Мгновенно с checkpoint sync              |
| Nimbus     | Низкое            | 0.75 ГБ                       | Мгновенно с checkpoint sync              |
| Prysm      | Умеренное         | 2 ГБ                          | Мгновенно с checkpoint sync              |
| Teku       | Умеренное         | 4 ГБ                          | Мгновенно с checkpoint sync              |
