# Мониторинг вашего стека Smartnode с помощью уведомлений о предупреждениях

Функциональность уведомлений о предупреждениях Smartnode позволяет вам получать уведомления о состоянии и важных событиях вашего Rocket Pool Smartnode.

## Обзор системы предупреждений

Функциональность уведомлений использует [Alertmanager](https://prometheus.io/docs/alerting/latest/alertmanager/) для доставки предупреждений. Предупреждения требуют, чтобы вы уже следовали [Настройке панели Grafana](../grafana.mdx), которая описывает настройку системы отслеживания метрик стека Smartnode. Предупреждения срабатывают, когда важные метрики вашего Smartnode превышают определённые пороговые значения или когда происходят определённые события, например, когда изменяется получатель комиссии вашей ноды.

## Настройка уведомлений Discord

В настоящее время уведомления могут быть отправлены в каналы Discord. Вы можете настроить уведомления Discord в текстовом пользовательском интерфейсе Rocket Pool (TUI) на странице "Monitoring / Alerting".

### Добавление URL вебхука Discord:

1. Перейдите к желаемому каналу Discord и откройте его настройки.
2. В разделе "Integrations" найдите и нажмите на "Webhooks".
3. Нажмите "Create Webhook".
4. Дайте вашему вебхуку имя и выберите канал для отправки предупреждений.
5. Скопируйте предоставленный Webhook URL.
6. В TUI Rocket Pool перейдите на страницу "Monitoring / Alerting".
7. Вставьте скопированный Webhook URL в указанное поле и сохраните конфигурацию.

::: tip СОВЕТ
Не хватает вашего любимого уведомления? Команда Rocket Pool активно ищет обратную связь от сообщества относительно дополнительных мест назначения уведомлений. Не стесняйтесь предлагать новые места назначения уведомлений на https://github.com/rocket-pool/smartnode/issues.
:::

## Отключение и включение предупреждений

TUI Rocket Pool предоставляет удобный интерфейс для управления вашими предупреждениями. Вы можете получить доступ к этой функциональности через страницу "Monitoring / Alerting". Этот интерфейс позволяет вам просматривать список всех настроенных предупреждений и включать или отключать отдельные предупреждения в соответствии с вашими предпочтениями.

## Расширенная конфигурация

::: warning ПРИМЕЧАНИЕ
Этот раздел предназначен для опытных пользователей, имеющих опыт работы с Prometheus и изменением файлов YAML.
:::

Для более расширенной конфигурации предупреждений вы можете добавить свои собственные на основе любой метрики, доступной в контейнере Prometheus, управляемом стеком Smartnode. Добавьте ваш собственный yaml файл, содержащий [правила предупреждений Prometheus](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/), в каталог `~/.rocketpool/alerting/rules/` и эти правила, и перезапустите контейнер Prometheus с помощью `docker stop rocketpool_prometheus`, а затем `docker start rocketpool_prometheus`. Затем выполните `docker logs rocketpool_prometheus`, чтобы подтвердить, что Prometheus успешно загрузил ваш файл конфигурации (вы хотите увидеть строку с _msg="Completed loading of configuration file" filename=/etc/prometheus/prometheus.yml_, а не _err="error loading config from \"/etc/prometheus/prometheus.yml\"..._)
