# Система кредитов для депозитов

Система кредитов для депозитов — это механизм отслеживания ETH, который ранее был залогирован операторами нод, но больше не требуется, и его можно снова использовать.
Источник этого кредита поступает из нескольких мест:

- [Вывод валидатора из очереди депозитов Rocket Pool](./create-megapool-validator#exit-a-validator-from-the-rocket-pool-deposit-queue). Исключение валидатора из очереди начисляет оператору ноды кредит в размере суммы залога (4 ETH)
- Если валидатор в состоянии prelaunch не выполнит стейкинг в течение 28 дней, валидатор будет аннулирован. 1 ETH (из залога в 4 ETH), отправленный в Beacon Chain в процессе prelaunch, **не подлежит возврату**.
 Оператору ноды начисляется кредит в размере оставшихся 3 ETH из их залога с применением штрафа за аннулирование в 0,05 ETH в качестве долга. Чистый кредит за аннулированный валидатор составляет 2,95 ETH.

Следующие два варианта только для операторов нод, которые выполняли миграцию до Saturn. Они больше невозможны:
- [Миграция существующего minipool с залогом 16 ETH до minipool с залогом 8 ETH](/ru/node-staking/leb-migration.mdx) (что добавляет 8 ETH на баланс кредита оператора ноды)
- [Миграция существующего одиночного валидатора](/ru/node-staking/solo-staker-migration) в minipool (что добавляет 16 или 24 ETH на баланс кредита оператора ноды, в зависимости от типа minipool, созданного при миграции)

Каждый оператор ноды начинает с баланса кредита **0 ETH**.

Этот ETH не делается ликвидным и не возвращается оператору ноды; вместо этого его можно обменять на эквивалентную сумму в rETH. Кроме того, кредит можно использовать для
**создания дополнительных валидаторов megapool** без необходимости вносить ETH от оператора ноды.

Система кредитов **прозрачна** для оператора ноды; она будет автоматически использоваться (с уведомлениями в Smartnode CLI, объясняющими, что она будет использована) в операциях `rocketpool node deposit`, если это возможно.
Если её _нельзя_ использовать, Smartnode уведомит пользователя, что её использование невозможно, и потребует обычного залога ETH в любой из операций.

Смотрите раздел [Доступность кредита](#credit-availability) ниже для получения дополнительных сведений.


## Просмотр текущего баланса кредита

Чтобы просмотреть ваш текущий баланс кредита, просто выполните следующую команду:

```shell
rocketpool node status
```

Это выводит подробный список информации о вашей ноде, включая баланс кредита в самом верху:

```
Your Smart Node is currently using the Hoodi Test Network.

=== Account and Balances ===
The node <node-address> has a balance of 49.402553 ETH and 0.000000 RPL.
The node has 4.000000 ETH in its credit balance and 0.000000 ETH staked on its behalf. 2.909175 can be used to make new validators.
```

## Обмен кредита на rETH

Чтобы обменять кредит на rETH, используйте команду `rocketpool node withdraw-credit`. Эквивалентная сумма в rETH будет отправлена на ваш адрес для вывода (ваш адрес ноды, если адрес для вывода не установлен):
```
staker@node:~$ rocketpool node withdraw-credit

You have 4.000000 ETH of credit that you can withdraw, receiving the equivalent amount in rETH.

Would you like to withdraw the maximum amount of credit? [y/n]
```


## Доступность кредита

ETH для вашего баланса кредита берётся из **депозитного пула**.
В некоторых ситуациях ваша нода может иметь доступный баланс кредита, но депозитный пул не будет иметь достаточного баланса ETH для полного залога вашего следующего депозита валидатора megapool.

Если вы хотите использовать 4 ETH в кредите для создания нового валидатора megapool с 4 ETH, это потребует 4 ETH из депозитного пула и не потребует ничего от вас.
Из-за этого, если в депозитном пуле недостаточно ETH для покрытия суммы залога (в настоящее время установленной в 4 ETH), ваш депозит потребует ETH из вашего кошелька ноды для создания валидатора.

Smartnode сможет создать валидатор, используя ETH из депозитного пула вместе с частью вашего кредита. Smartnode уведомит вас во время
операции `rocketpool megapool deposit`, если у вас есть кредит и необходимо использовать ETH из вашего кошелька ноды для создания валидатора.

В следующем примере оператор ноды имеет `4 ETH` в кредите, но депозитный пул имеет только `3,431627 ETH`, что требует `0,568373 ETH` из кошелька ноды для завершения депозита:
```
Your credit balance is 4.00 ETH. (Credit in addition to ETH staked on your behalf).
This deposit will use 3.431627 ETH from your credit balance plus ETH staked on your behalf and 0.568373 ETH from your node wallet.
```
