# Распределение снятых вознаграждений

Вознаграждения ETH, которые вы получаете за работу валидатора для Ethereum, регулярно отправляются в ваши minipools в процессе, называемом "снятие" (skimming).
Частота снятий зависит от количества активных валидаторов на Beacon Chain. На момент написания количество валидаторов составляет около
500 000, что приводит к снятию примерно каждые 2-3 дня.

Снятые вознаграждения будут накапливаться в каждом из ваших minipools, пока вы их не "распределите". Этот процесс распределяет снятые вознаграждения между вами, как оператором ноды, и держателями rETH
на основе вашей ставки комиссии и соотношения предоставленного и поставленного ETH.

::: warning ПРИМЕЧАНИЕ
Чтобы получить доступ к балансу вашего minipool, вам сначала нужно будет обновиться до [делегата Atlas](./minipools/delegates).
Старый делегат Redstone не может быть использован для распределения баланса minipool.
:::

## Автоматическое распределение

По умолчанию Smartnode настроен на автоматическое распределение любого из ваших minipools, когда их индивидуальные балансы достигают **1 ETH**. Этот
порог можно настроить в TUI, следуя шагам ниже.

Выполните:

```shell
rocketpool service config
```

Перейдите к настройке `Smartnode and TX Fee Settings > Auto Distribute Threshold`, показанной ниже.

![](./images/tui-automatic-skimming.png)

Изменение этой настройки изменит порог, при котором Smartnode будет автоматически распределять ваши minipools.
Установка параметра на 0 отключит автоматические распределения.

::: warning ПРЕДУПРЕЖДЕНИЕ
Если вы решите отключить автоматическое распределение, важно, чтобы вы всё равно выполняли ручное распределение на регулярной
основе. Прочитайте [раздел о ручном распределении](#manual-distribution), следующий за этим, о том, как это сделать.

После долгого периода времени ваши снятые вознаграждения могут превысить 8 ETH. Если эта ситуация произойдёт, вы больше не сможете
их распределить и вам потребуется выйти из вашего валидатора, чтобы получить доступ к вашим накопленным вознаграждениям.

Rocket Pool имеет предохранительный дизайн, который позволяет любому, после долгого периода ожидания, распределить ваш minipool, когда
его баланс превышает 8 ETH. Чтобы защитить ваш капитал, Smartnode отслеживает эту ситуацию и автоматически выведет
ваш minipool, если это произойдёт.
:::

## Ручное распределение

Если вы отключили автоматическое распределение снятых вознаграждений, вам нужно будет регулярно распределять их самостоятельно
с помощью следующего процесса.

Вы также можете вручную распределить ваши вознаграждения, используя этот процесс в любое время, не дожидаясь автоматического процесса выше.

Если в вашем minipool меньше 8 ETH, вы можете распределить ваши вознаграждения, используя следующую команду:

```shell
rocketpool minipool distribute-balance
```

Это покажет вам minipools, которые у вас есть и которые подходят для распределения, сколько ETH в них есть и сколько ETH вы (оператор ноды) получите:

```
WARNING: The following minipools are using an old delegate and cannot have their rewards safely distributed:
	0x7E5703fdA638CD86c316B9EbAF76927fF695ADC5
	0x7E5704aD2a63eb90880426Dcd4a3811246dF3cB0
	0x7E5705c149D11efc951fFc20349D7A96bc6b819C
	0x7E570625cE8F586c90ACa7fe8792EeAA79751778

Please upgrade the delegate for these minipools using `rocketpool minipool delegate-upgrade` in order to distribute their ETH balances.

Please select a minipool to distribute the balance of:
1: All available minipools
2: 0x7E5700bcd65B1770bA68abB288D3f53814d376aC (0.112307 ETH available, 0.031200 ETH goes to you plus a refund of 0.024419 ETH)
3: 0x7E570195026dC29f4B2DfF08B56c3b5D0FF988Ef (0.070754 ETH available, 0.000481 ETH goes to you plus a refund of 0.069399 ETH)
4: 0x7e5702a2cE66B5B35E59B9Ac00eEAAa547881e40 (0.122064 ETH available, 0.070187 ETH goes to you plus a refund of 0.000000 ETH)
5: 0x7E5700c82E38434C6c72890bb82f5B5305f4328a (0.102739 ETH available, 0.000000 ETH goes to you plus a refund of 0.000000 ETH)
6: 0xffCAB546539b55756b1F85678f229dd707328A2F (0.070989 ETH available, 0.025201 ETH goes to you plus a refund of 0.000000 ETH)
```

Любые minipools, использующие оригинальный делегат запуска, будут упомянуты в начале, сообщая вам, что вы не можете вызвать `distribute-balance` для них, пока не обновите их делегатов.
Этот делегат был написан до того, как были указаны снятия, и, как таковой, не имеет способа распределить снятые вознаграждения.

Обратите внимание, что для подходящих minipools вам также показывается **сумма возврата**.
Это сумма, причитающаяся непосредственно вам (например, потому что у вас был баланс в вашем minipool до [миграции с облигации 16-ETH вниз до облигации 8-ETH](./leb-migration.mdx) или вы [преобразовали соло-валидатор в minipool](./solo-staker-migration) с существующими вознаграждениями).
Она не будет разделена с держателями rETH.

Введите номер minipool, который вы хотите распределить.
Вам будет показана обычная диаграмма цен на газ и предложено подтвердить ваше решение.
После того, как вы подтвердите, баланс вашего minipool будет распределён:

```
Using a max fee of 2.00 gwei and a priority fee of 2.00 gwei.
Are you sure you want to distribute the ETH balance of 1 minipools? [y/n]
y

Distributing balance of minipool 0x7E5700bcd65B1770bA68abB288D3f53814d376aC...
Transaction has been submitted with hash 0xb883eab903d9688b40d291c5c2030084f9bce19135837ebf96a5c1e8871cfbf9.
Waiting for the transaction to be included in a block... you may wait here for it, or press CTRL+C to exit and return to the terminal.

Successfully distributed the ETH balance of minipool 0x7E5700bcd65B1770bA68abB288D3f53814d376aC.
```

Как вы можете видеть [из транзакции](https://zhejiang.beaconcha.in/tx/b883eab903d9688b40d291c5c2030084f9bce19135837ebf96a5c1e8871cfbf9), это предоставило адресу вывода ноды долю вознаграждений ноды (плюс сумму возврата) и вернуло остальное в пул стейкинга.
