import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Stake ETH от имени ноды

RPIP-32 позволяет аккаунту [застейкать ETH от имени](https://rpips.rocketpool.net/RPIPs/RPIP-32) ноды Rocket Pool, зарегистрированной в протоколе. Это поддерживает различные ситуации, когда оператор ноды не предоставляет ETH напрямую:

- Повышенная безопасность для операторов нод, так как они могут стейкать напрямую со своего аппаратного кошелька, исключая необходимость предварительного перевода средств на ноду.
- Провайдеры Staking as a Service, где хранение средств управляется доверенным кастодианом.
- Интеграции протоколов, где хранение средств управляется смарт-контрактами.
- DAO или организации, где хранение средств управляется казначейством.

Хотя основная цель этой функции — облегчить сценарии с одним вкладчиком, стоит отметить, что несколько независимых вкладчиков также могут использовать эту возможность, создавая смарт-контракты поверх неё. Rocket Pool также представил возможность [стейкать RPL от имени](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) ноды в нашем предыдущем релизе Atlas.

### Предварительное требование

Убедитесь, что вы правильно настроили [основной адрес для вывода средств](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды, которую вы планируете финансировать. Перейдите по ссылке выше для получения руководства о том, как работают адреса вывода после houston.

::: tip ПРИМЕЧАНИЕ
Не пропускайте этот шаг! Весь ETH залог/награды будут выводиться на основной адрес для вывода средств. Другими словами, адрес, который предоставляет ETH для ноды, должен использоваться в качестве основного адреса для вывода средств! Пожалуйста, убедитесь, что основной адрес для вывода средств ноды установлен на кошелек, которым вы владеете.
:::

Процесс немного отличается для Hoodi Testnet и Mainnet, поэтому выберите сеть, которая вас интересует, из вкладок ниже.

<div className="p-3">
  <Tabs>
    <Tab label="Подготовка на Hoodi Testnet">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">ПРЕДУПРЕЖДЕНИЕ</p>
        При практике стейкинга в тестовой сети вам **не нужно предоставлять какой-либо реальный ETH** во время этого процесса.
        Вместо этого вам будет предоставлен **фейковый тестовый ETH**.

        **Не пытайтесь перемещать свой реальный ETH из mainnet в testnet, иначе вы потеряете его навсегда!**
      </p>

      Начните с установки [MetaMask](https://metamask.io/), если вы еще этого не сделали.
      Следуйте инструкциям на их сайте для установки расширения, создания аккаунта и входа в систему.

      Затем откройте панель MetaMask, используя её иконку на панели инструментов браузера.

      Вам нужно будет добавить Hoodi Testnet в MetaMask.

      Нажмите на выпадающий список в верхнем левом углу и нажмите кнопку "Add Network".

      Вы увидите список сетей, Hoodi нет в этом списке, поэтому нажмите кнопку "Add a network manually".

      Заполните следующие данные:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Затем нажмите Save. Теперь вы должны увидеть сеть Hoodi в выпадающем списке в верхнем левом углу.

      Нажмите на **выпадающий список сетей** в верхнем левом углу расширения Metamask и выберите **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Теперь, когда у вас есть адрес кошелька в MetaMask, вам нужно пополнить его тестовым ETH.
      Перейдите на страницу [Практика с тестовой сетью](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) для краткого руководства о том, как использовать testnet faucet для получения тестового ETH на Hoodi.

      Как только у вас появится немного Hoodi ETH для тестирования, перейдите на [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Если вы видите уведомление о том, что требуется web3 браузер, или что текущий ID сети не поддерживается, убедитесь, что вы правильно выполнили предыдущие шаги, прежде чем продолжить.
    </Tab>
    <Tab label="Подготовка на Ethereum Mainnet">
      Начните с установки [MetaMask](https://metamask.io/), если вы еще этого не сделали.

      Следуйте инструкциям на их сайте для установки расширения, создания аккаунта и входа в систему.

      Затем откройте панель MetaMask, используя её иконку на панели инструментов браузера.

      Нажмите на **выпадающий список сетей** на панели инструментов вверху и убедитесь, что выбран **Ethereum Mainnet**:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Теперь, когда у вас есть адрес кошелька в MetaMask, вам нужно перевести на него немного ETH.

      Вам нужно будет предоставить это из существующего кошелька или купить ETH на бирже.

      Как только у вас появится ETH для стейкинга, перейдите на [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Если вы видите уведомление о том, что требуется web3 браузер, или что текущий ID сети не поддерживается, убедитесь, что вы правильно выполнили предыдущие шаги, прежде чем продолжить.
    </Tab>

  </Tabs>
</div>

Когда вы попадете на сайт, нажмите на кнопку **connect wallet**. Пожалуйста, прочитайте и примите Условия использования и Политику конфиденциальности, это активирует различные способы подключения, затем нажмите **connect metamask**.

MetaMask предложит вам выбрать аккаунт для подключения к веб-сайту.
Выберите один, подтвердите несколько разрешений. Вы увидите обзор своих балансов, нажав на значок кошелька, расположенный в верхнем правом углу окна.

Отсюда вы захотите ввести адрес ноды, для которой вы хотите внести ETH от имени. Страница должна выглядеть так:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Вставьте желаемый адрес в это поле и нажмите find. В этом примере мы будем использовать `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

В первом поле введите количество ETH, которое вы хотите внести от имени ноды. Второе поле указывает, для какого адреса вы будете вносить ETH от имени. Пожалуйста, убедитесь, что вы ввели правильный адрес и депозит. Когда вы будете удовлетворены, нажмите Deposit, и MetaMask откроет окно с просьбой подтвердить вашу транзакцию.

Как только вы подтвердите её, транзакция начнется.
Когда она будет включена в блок и добавлена в цепь, ваш делегат сможет использовать команду `rocketpool node status` в smartnode, чтобы увидеть новый баланс. Этот баланс также можно просмотреть через сайт стейкинга Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning ПРИМЕЧАНИЕ
Если оператор ноды внесет ваш ETH в minipool, вы не сможете выйти из их minipool без доступа к их withdrawal credentials, так что имейте это в виду! Вы можете использовать сайт стейкинга Rocket Pool для вывода ETH, застейканного от имени ноды, если он не используется в minipool.
:::

Вот и всё!
Теперь вы стейкаете с Rocket Pool.

# Unstake ETH от имени ноды

<div className="p-3">
  <Tabs>
    <Tab label="Подготовка на Hoodi Testnet">
      Когда вы будете готовы вывести ETH, который вы застейкали от имени ноды, перейдите на [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth). После
      входа в систему как [основной адрес для вывода средств](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды, вас должно встретить знакомое меню. Вам будет предложено
      ввести адрес ноды, с которой вы хотите вывести средства:
    </Tab>
    <Tab label="Подготовка на Ethereum Mainnet">
      Когда вы будете готовы вывести ETH, который вы застейкали от имени ноды, перейдите на [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). После входа в систему
      как [основной адрес для вывода средств](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) ноды, вас должно встретить знакомое меню. Вам будет предложено ввести адрес ноды,
      с которой вы хотите вывести средства:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

После ввода адреса, нажатие "Find" приведет вас к следующему меню, где вы сможете вывести ETH, который вы застейкали от имени этой ноды.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Вы сможете увидеть, сколько ETH доступно для вывода, в верхнем правом углу. После того, как вы введете желаемое количество и подтвердите адрес ноды, нажмите оранжевую кнопку **Withdraw ETH**, чтобы отправить транзакцию в сеть.

Как только транзакция будет подтверждена, вы увидите правильные балансы на своем аккаунте!

Вот и всё, что нужно знать о стейкинге ETH от имени ноды! Мы надеемся, что процесс показался вам быстрым и простым.

Не стесняйтесь заглянуть на [наш Discord сервер](https://discord.gg/G46XgK264a), чтобы рассказать нам, что вы думаете об этом, и следить за развитием проекта.
