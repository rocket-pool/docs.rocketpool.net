---
next:
  text: Rescuing a Dissolved Minipool
  link: "/it/node-staking/rescue-dissolved"
---

# Chiudere un Minipool

## Uscire dal Tuo Validatore

Quando hai deciso che non vuoi più gestire un minipool e vuoi accedere al saldo completo bloccato sulla Beacon Chain, dovrai seguire diversi passaggi:

1. Inviare una richiesta di uscita volontaria per il validatore del minipool dalla Beacon Chain.
2. Attendere che il tuo validatore esca.
3. Attendere che il saldo del tuo validatore venga trasferito al tuo minipool sull'Execution layer.
4. Chiudere il minipool per distribuire le ricompense e accedere ai fondi

Tratteremo ciascun passaggio qui sotto.

### Inviare la Richiesta di Uscita

Se vuoi far uscire il validatore associato a un minipool, esegui il seguente comando:

```shell
rocketpool minipool exit
```

Ti verrà presentato un elenco di minipool che possono essere fatti uscire:

```
Please select a minipool to exit:
1: All available minipools
2: 0x7E5700bcd65B1770bA68abB288D3f53814d376aC (staking since 2023-02-08, 06:33 +0000 UTC)
3: 0xd8E804cFA64ADb386F52DB20717810130c90f674 (staking since 2023-02-08, 06:33 +0000 UTC)
```

Una volta confermato che vuoi uscire, il tuo nodo invierà una richiesta di uscita volontaria alla Beacon Chain.
Questa **non** è una normale transazione dell'Execution layer, quindi non devi pagare gas per essa.

Se hai bisogno della chiave pubblica del validatore per il minipool da cui sei appena uscito, puoi recuperarla usando `rocketpool minipool status`.
Puoi visualizzare lo stato di uscita del tuo validatore su un esploratore della Beacon Chain come [https://beaconcha.in](https://beaconcha.in) (o [https://hoodi.beaconcha.in](https://hoodi.beaconcha.in) per il Hoodi Testnet).
Ci vorrà un po' di tempo prima che il tuo stato venga aggiornato, ma una volta fatto lo vedrai nello stato "exiting":

<img src="./images/exiting.png" width="100%" height="auto" />

Qui puoi vedere che lo Status è `Exiting`, l'epoca in cui uscirà è evidenziata (5224), e l'icona "Exited" lampeggerà in verde per indicare che l'operazione è in corso.
Potrebbe volerci del tempo prima che il tuo validatore esca, _specialmente_ se c'è un gran numero di validatori che escono dalla Beacon Chain contemporaneamente; il protocollo è progettato per consentire solo a un piccolo numero di validatori di uscire per epoca, quindi potresti dover aspettare il tuo turno.

Una volta passata la tua epoca di uscita, il tuo validatore uscirà ufficialmente dalla chain e non attesterà né proporrà più blocchi.
Puoi confermarlo nei log del tuo Validator Client, o sull'esploratore:

<img src="./images/exited.png" width="100%" height="auto" />

Lo stato è cambiato in `Exited` e c'è del testo sotto che indica la tua **epoca di prelievo** (che dovrebbe essere 256 epoche dopo la tua uscita, ovvero circa 27 ore).
Beaconcha.in fornisce anche convenientemente i timestamp locali per quando il tuo validatore uscirà e quando sarà prelevabile.

Una volta entrato nello stato **withdrawable**, il tuo validatore sarà messo in coda dalla Beacon Chain per la distribuzione delle ricompense.
Questa coda dipende da quanti validatori stanno attualmente prelevando.
Una volta arrivato il tuo turno, la Beacon Chain invierà _automaticamente_ il tuo saldo all'indirizzo del tuo minipool sull'Execution layer.
A questo punto, puoi accedervi usando la Smartnode CLI per effettuare una distribuzione.

### Distribuire le Ricompense Complete

::: tip NOTA
Questo processo richiede che il tuo validatore sia uscito dalla Beacon Chain e che il saldo del tuo validatore sia stato trasferito al contratto del minipool.
Se hai bisogno di un ripasso su come effettuare quel processo, consulta la sezione [**Uscire dal Tuo Validatore**](#uscire-dal-tuo-validatore) sopra - torna qui una volta fatto.
:::

Se hai fatto uscire il tuo validatore dalla Beacon Chain e il tuo saldo è stato depositato nel contratto del minipool, puoi prelevare l'intero importo in modo sicuro con un solo comando.
A differenza della [distribuzione manuale](./skimming#manual-distribution), questo processo **finalizzerà** effettivamente il tuo minipool, chiudendolo e rendendolo inattivo.
Una volta che il tuo saldo è stato prelevato dalla Beacon Chain e hai eseguito il seguente processo per accedere ai fondi, il compito del minipool è terminato.

Per recuperare i fondi e chiudere il minipool, esegui il seguente comando:

```shell
rocketpool minipool close
```

Questo ti presenterà un elenco di minipool idonei alla chiusura:

```
Please select a minipool to close:
1: All available minipools
2: 0xd8E804cFA64ADb386F52DB20717810130c90f674 (32.007209 ETH available, 8.002559 ETH is yours plus a refund of 0.000000 ETH)
```

Qui puoi vedere il saldo totale per ciascun minipool idoneo, quanto di quel saldo sarà distribuito a te e quanto di quel saldo è riservato a te come rimborso (che bypassa la distribuzione).

Seleziona quale minipool vuoi distribuire e chiudere dall'elenco, conferma l'azione e attendi che la tua transazione venga convalidata.
Una volta fatto, la tua quota del saldo del minipool (e il tuo rimborso) sarà inviata al tuo indirizzo di prelievo, e il minipool entrerà nello stato `finalized`.

Puoi verificarlo guardando la transazione su un esploratore di blocchi; ad esempio, vedi [la transazione per la chiusura del minipool sopra (Goerli Testnet)](https://goerli.etherscan.io/tx/0xe81415b3b66f9b42d43ac17a0983e792725726c9fdd35ac855745bd12a053509).

### Unstaking di RPL

A questo punto, il tuo RPL effettivo sarà aggiornato per rimuovere questo minipool dal calcolo.
Ora puoi fare unstaking di qualsiasi RPL che hai e che ti porterebbe sopra la soglia del 60% di ETH bonded.

Per fare unstaking di RPL dal nodo, esegui il seguente comando:

```shell
rocketpool node withdraw-rpl
```

::: tip NOTA
Ci sono due limitazioni sui prelievi di RPL:

RPL non può essere prelevato entro 28 giorni dallo staking (o re-staking) di RPL. Fai attenzione se richiedi queste ricompense prima di chiudere il tuo minipool, se fai re-stake di qualsiasi quantità di ricompense RPL non potrai prelevare alcuna quantità di RPL per 28 giorni dall'ultima azione di staking.

RPL può essere prelevato fino al 60% del tuo ETH bonded totale. Con un'uscita completa, ciò significa che tutto può essere prelevato; per uscite parziali, pianifica tenendo presente questo limite.
:::

## Una Nota sul Vecchio Delegate

Il **delegate originale del minipool** assegnato a ogni minipool dal lancio di Rocket Pool fino al deployment di Atlas è stato costruito con due assunzioni in mente:

1. L'unica volta in cui il tuo minipool avrà un saldo è dopo che il validatore è uscito dalla Beacon Chain.
2. L'Oracle DAO cambierà lo stato del tuo minipool da "staking" a "withdrawable" una volta che il saldo è stato trasferito dalla Beacon Chain al contratto del minipool.

Il primo punto chiaramente non è più rilevante ora che Ethereum è stato aggiornato per supportare lo skimming.
Il secondo punto _non_ è più vero, perché l'Oracle DAO **non** segnalerà più i minipool "withdrawable".
Questa è stata una decisione di design intenzionale per ridurre il potere che l'Oracle DAO esercita sugli operatori di nodi Rocket Pool e consentire loro di accedere alle ricompense senza alcun requisito supplementare su parti fidate.

A causa di queste carenze, la Smartnode CLI **non supporta più** prelievi o distribuzione di fondi sul delegate originale del minipool.
Se vuoi accedere alle tue ricompense, **devi** aggiornare al delegate Atlas che supporta le nuove condizioni di prelievo elencate sopra.

::: danger PERICOLO
Se sei un utente avanzato e bypassa la CLI per invocare la funzionalità di distribuzione sul contratto direttamente tramite uno strumento di terze parti, tieni presente quanto segue:

1. La funzione di distribuzione del delegate andrà in revert se il saldo del minipool è **inferiore a 16 ETH**. I saldi inferiori a 16 ETH **non possono essere accessibili.**
2. Se il minipool ha **tra 16 e 32 ETH** nel suo saldo, la distribuzione da parte del delegate originale assumerà che il tuo validatore sia stato **slashed**. Restituirà 16 ETH allo staking pool e ti darà tutto ciò che rimane. Funzionerà _solo_ correttamente se il saldo del minipool è superiore a 32 ETH.
3. Il minipool non entrerà mai nello stato `finalized` perché l'Oracle DAO non lo segnalerà mai come `withdrawable`, quindi anche se potresti essere in grado di accedere al tuo ETH, **il tuo RPL sarà bloccato** finché non aggiorni al delegate Atlas.

A causa di questi punti, **raccomandiamo vivamente** di aggiornare semplicemente al delegate Atlas in primo luogo ed evitarli completamente.
:::
