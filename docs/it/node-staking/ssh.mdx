import { Tab, Tabs } from "@rspress/core/theme";
import powershell from "./images/powershell.png";

# Introduzione a Secure Shell (SSH)

In generale, ci sono due modi per accedere alla macchina del tuo nodo: **localmente** e **da remoto**.

- **Localmente** si riferisce al sedersi fisicamente davanti al nodo e usare un monitor e una tastiera collegati direttamente ad esso.
- **Da remoto** si riferisce alla connessione al nodo usando un computer diverso (ad esempio, un laptop o desktop) tramite una rete e interagendo con esso da lì.

La maggior parte delle volte, gli operatori di nodi preferiscono la flessibilità di lavorare sul proprio nodo **da remoto**.

Lo Smartnode attualmente non ha una GUI (Interfaccia Grafica Utente), solo una CLI (Interfaccia a Riga di Comando), il che significa che interagire con esso avviene interamente digitando comandi in un terminale a riga di comando.
Pertanto, interagire con esso da remoto richiede un modo per accedere al terminale del tuo nodo da una macchina diversa.
In questa sezione, forniremo una breve introduzione al modo più popolare di fare questo: **SSH**.

<div className="p-3">
  <Tabs>
    <Tab label="Usando una Macchina Windows">
      Ci sono diversi modi per usare SSH da una macchina Windows.

      Il più semplice è usare **Powershell**, che è un potente terminale di comandi integrato nelle versioni moderne di
      Windows.
      Powershell ha SSH incluso, quindi puoi usarlo subito senza installare programmi aggiuntivi.

      Puoi trovarlo aprendo il menu Start e digitando `Powershell` nella barra di ricerca; ci saranno diverse
      opzioni, ma l'opzione che vuoi si chiama semplicemente `Windows Powershell`:

      <img src={powershell} width="100%" height="auto" />

      Questo aprirà un terminale con uno sfondo blu.
      Puoi usare `ssh` da qui - vedi sotto per le istruzioni su come farlo.

      Un altro strumento popolare si chiama [PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html).
      PuTTY è un programma speciale che include un terminale dedicato all'uso di SSH, ma viene anche con una comoda GUI
      per fare cose come modificare le configurazioni, salvare le impostazioni in un "profilo" e mantenere un elenco di macchine a cui
      puoi connetterti facilmente selezionando da un elenco.

      Invece di usare `ssh` come faresti con gli altri strumenti, PuTTY farà questo per te automaticamente - tutto ciò che devi
      fornire sono il nome utente e la password.
      Per informazioni su come usare PuTTY, dai un'occhiata a [questo ottimo
      tutorial](https://tonyteaches.tech/putty-ssh-windows-tutorial/).

      <p className="rspress-directive warning">
        **NOTA**: PuTTY potrebbe visualizzare i colori sbagliati nell'interfaccia utente testuale (TUI) di `rocketpool service
        config`.
        C'è una soluzione semplice per questo. Nelle impostazioni di PuTTY
        , vai a **Connection** > **Data** > **Terminal Details**
        nel menu a tendina. Dovrebbe esserci una casella di testo **Terminal-type string**. Digita `xterm-256color`, quindi salva
        le impostazioni
        per risolvere questo problema.
      </p>

    </Tab>
    <Tab label="Usando una Macchina Linux o macOS">
      Usare SSH da una macchina Linux o macOS è banale; se stai già usando una di queste, probabilmente hai già
      interagito con il terminale ad un certo punto.
      SSH è integrato direttamente nel terminale; usalo eseguendo il comando `ssh`. Per impostazione predefinita, SSH ti permetterà di
      connetterti all'account utente principale del tuo nodo.
    </Tab>

  </Tabs>
</div>

Ecco come ti connetteresti al tuo nodo usando SSH.

:::warning NOTA
Esegui il seguente comando dal tuo laptop o desktop, **non dal nodo stesso**!
:::

```shell
ssh username@node-ip-address
```

Supponiamo, ad esempio, che il nome utente del tuo nodo sia `staker` e l'indirizzo IP del tuo nodo sia `192.168.1.10`.
Ti connetteresti ad esso con il seguente comando:

```shell
ssh staker@192.168.1.10
```

La prima volta che fai questo, vedrai un messaggio che presenta la chiave pubblica che il tuo nodo sta usando - se sei
familiare con come verificare questa chiave, puoi farlo ora.
Altrimenti, se ti fidi di avere l'indirizzo IP corretto del nodo nel tuo comando `ssh`, puoi semplicemente dire `yes` per
accettarlo.
Devi farlo solo una volta.

Il client ti chiederà quindi la password del tuo utente; una volta inserita, sei dentro!
Sarai accolto con un messaggio di benvenuto, alcuni dettagli sulla tua macchina e un nuovo prompt.

A questo punto, tutto ciò che digiti nel terminale **viene eseguito da remoto sulla macchina del tuo nodo** - è come se fossi
connesso direttamente alla macchina del nodo e digitassi su di essa con una tastiera collegata localmente!

Dovrai connetterti tramite SSH al terminale periodicamente per aggiornamenti e manutenzione.
Può essere scomodo ricordare come accedere al tuo nodo, quindi potrebbe essere utile abbreviare questo comando creando un alias memorabile - un "collegamento" personalizzato.

:::warning NOTA
Se fai questo, assicurati di creare l'alias sulla **macchina client**, **non** sul nodo!
Se il tuo terminale è ancora connesso al nodo, prima esegui `exit` al prompt dei comandi (o semplicemente apri una nuova
finestra del terminale).
:::

:::warning NOTA
Questa sezione si applica solo agli utenti Linux/OSX o WSL - PowerShell non è supportato.
:::

In questo esempio, creeremo un alias chiamato `ethnode` che sostituirà il comando SSH.
Supponendo, come prima, che il nome utente del tuo nodo sia `staker` e l'indirizzo IP del tuo nodo sia `192.168.1.10`, crea l'alias con il seguente comando:

```shell
echo "alias ethnode='ssh staker@192.168.1.10'" >> ~/.bash_aliases
```

Ricarica l'elenco degli alias per rendere la finestra del terminale corrente consapevole del nuovo alias:

```shell
source ~/.bash_aliases
```

Ora, puoi connetterti al nodo usando l'alias che hai appena creato invece del comando più lungo che comporta
specificare l'indirizzo IP del nodo:

```shell
ethnode
```
