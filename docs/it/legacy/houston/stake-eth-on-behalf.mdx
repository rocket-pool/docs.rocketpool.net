import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Depositare ETH per conto di un nodo

RPIP-32 consente a un account di [depositare ETH per conto](https://rpips.rocketpool.net/RPIPs/RPIP-32) di un nodo Rocket Pool registrato nel protocollo. Questo supporta una varietà di situazioni in cui l'operatore del nodo non fornisce direttamente l'ETH:

- Maggiore sicurezza per gli operatori di nodi, poiché possono depositare direttamente dal loro hardware wallet, eliminando la necessità di trasferire fondi al nodo in anticipo.
- Fornitori di Staking as a Service in cui la custodia dei fondi è gestita da un custode di fiducia.
- Integrazioni di protocollo in cui la custodia dei fondi è gestita da smart contract.
- DAO o organizzazioni in cui la custodia dei fondi è gestita da una tesoreria.

Sebbene l'obiettivo principale di questa funzionalità sia facilitare scenari con un singolo depositante, vale la pena notare che anche più depositanti indipendenti possono sfruttare questa capacità creando smart contract sovrapposti. Rocket Pool ha anche introdotto la possibilità di [depositare RPL per conto](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) di un nodo nella nostra precedente versione Atlas.

### Prerequisito

Assicurati di aver configurato correttamente l'[indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo che intendi finanziare. Segui il link sopra per una guida su come funzionano gli indirizzi di prelievo dopo Houston.

::: tip NOTA
Non saltare questo passaggio! Tutti i bond/ricompense ETH saranno prelevati all'indirizzo di prelievo primario. In altre parole, l'indirizzo che fornisce ETH per un nodo dovrebbe essere utilizzato come indirizzo di prelievo primario! Assicurati che l'indirizzo di prelievo primario del nodo sia impostato su un wallet di cui hai la custodia.
:::

Il processo è leggermente diverso per Hoodi Testnet e Mainnet, quindi scegli la rete che ti interessa dalle schede qui sotto.

<div className="p-3">
  <Tabs>
    <Tab label="Preparazione su Hoodi Testnet">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">AVVISO</p>
        Quando pratichi lo staking sulla rete di test, **non devi fornire alcun ETH reale** durante questo processo.
        Ti verranno forniti **ETH di test falsi** da utilizzare al loro posto.

        **Non tentare di spostare il tuo ETH reale su mainnet alla testnet o lo perderai permanentemente!**
      </p>

      Inizia installando [MetaMask](https://metamask.io/) se non lo hai già fatto.
      Segui le istruzioni sul loro sito per installare l'estensione, creare un account e accedere.

      Successivamente, apri il pannello MetaMask utilizzando la sua icona nella barra degli strumenti del browser.

      Dovrai aggiungere Hoodi Testnet a MetaMask.

      Fai clic sul menu a discesa in alto a sinistra e fai clic sul pulsante "Add Network".

      Vedrai un elenco di reti, Hoodi non è in questo elenco quindi fai clic sul pulsante "Add a network manually".

      Compila i seguenti dettagli:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Quindi fai clic su Save. Ora dovresti vedere la rete Hoodi nel menu a discesa in alto a sinistra.

      Fai clic sul **menu a discesa della rete** in alto a sinistra dell'estensione Metamask e seleziona **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Ora che hai un indirizzo wallet in MetaMask, devi riempirlo con un po' di ETH di test.
      Vai alla pagina [Praticare con la Rete di Test](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) per una guida rapida su come utilizzare un faucet testnet per ottenere un po' di ETH di test su Hoodi.

      Una volta che hai un po' di ETH Hoodi per testare, vai su [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Se vedi un avviso su un browser web3 richiesto, o l'ID di rete corrente non supportato, assicurati di aver completato correttamente i passaggi precedenti prima di continuare.
    </Tab>
    <Tab label="Preparazione su Ethereum Mainnet">
      Inizia installando [MetaMask](https://metamask.io/) se non lo hai già fatto.

      Segui le istruzioni sul loro sito per installare l'estensione, creare un account e accedere.

      Successivamente, apri il pannello MetaMask utilizzando la sua icona nella barra degli strumenti del browser.

      Fai clic sul **menu a discesa della rete** nella barra degli strumenti in alto e assicurati che **Ethereum Mainnet** sia selezionato:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Ora che hai un indirizzo wallet in MetaMask, devi trasferirvi un po' di ETH.

      Dovrai fornirlo da un wallet esistente o acquistare ETH su un exchange.

      Una volta che hai un po' di ETH da depositare, vai su [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Se vedi un avviso su un browser web3 richiesto, o l'ID di rete corrente non supportato, assicurati di aver completato correttamente i passaggi precedenti prima di continuare.
    </Tab>

  </Tabs>
</div>

Una volta sul sito, fai clic sul pulsante **connect wallet**. Leggi e accetta i Termini di Servizio e l'Informativa sulla Privacy, questo abiliterà diversi modi per connettersi, quindi fai clic su **connect metamask**.

MetaMask ti chiederà di selezionare un account da connettere al sito web.
Scegline uno, conferma alcune autorizzazioni. Vedrai una panoramica dei tuoi saldi facendo clic sull'icona del wallet situata in alto a destra della finestra.

Da qui, dovrai inserire l'indirizzo del nodo per cui desideri depositare ETH per conto di. La pagina dovrebbe apparire così:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Vai avanti e incolla l'indirizzo desiderato in questa casella e fai clic su find. In questo esempio, useremo `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

Nella prima casella, inserisci la quantità di ETH che desideri depositare per conto del nodo. La seconda casella indica per quale indirizzo depositerai ETH per conto di. Assicurati di aver inserito l'indirizzo e il deposito corretti. Una volta soddisfatto, fai clic su Deposit e MetaMask aprirà una finestra chiedendoti di confermare la transazione.

Una volta confermata, la transazione inizierà.
Quando sarà stata inclusa in un blocco e aggiunta alla catena, il tuo delegato sarà in grado di utilizzare il comando `rocketpool node status` in smartnode per vedere il nuovo saldo. Questo saldo può anche essere visualizzato attraverso il sito di staking di Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning NOTA
Se un operatore di nodo deposita il tuo ETH in un minipool, non sarai in grado di uscire dal loro minipool senza accesso alle loro credenziali di prelievo, quindi tienilo a mente! Puoi utilizzare il sito di staking di Rocket Pool per prelevare ETH depositato per conto di un nodo se non viene utilizzato in un minipool.
:::

Questo è tutto!
Ora stai facendo staking con Rocket Pool.

# Prelevare ETH depositato per conto di un nodo

<div className="p-3">
  <Tabs>
    <Tab label="Preparazione su Hoodi Testnet">
      Quando sei pronto per prelevare ETH che hai depositato per conto di un nodo, vai su [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth). Dopo
      aver effettuato l'accesso come [indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, dovresti essere accolto con un menu familiare. Ti verrà chiesto di
      inserire l'indirizzo del nodo da cui vuoi prelevare:
    </Tab>
    <Tab label="Preparazione su Ethereum Mainnet">
      Quando sei pronto per prelevare ETH che hai depositato per conto di un nodo, vai su [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). Dopo aver effettuato l'accesso come
      [indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, dovresti essere accolto con un menu familiare. Ti verrà chiesto di inserire l'indirizzo del nodo
      da cui vuoi prelevare:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Dopo aver inserito un indirizzo, facendo clic su "Find" verrai portato al menu successivo dove puoi prelevare ETH che hai depositato per conto di quel nodo.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Sarai in grado di vedere quanto ETH è disponibile per il prelievo in alto a destra. Dopo aver inserito la quantità desiderata e confermato l'indirizzo del nodo, fai clic sul pulsante arancione **Withdraw ETH** per inviare la transazione alla rete.

Una volta confermata la transazione, vedrai i saldi corretti nel tuo account!

Questo è tutto ciò che c'è da sapere sul deposito di ETH per conto di un nodo! Speriamo che tu abbia trovato il processo rapido e facile.

Sentiti libero di passare sul [nostro server Discord](https://discord.gg/G46XgK264a) per farci sapere cosa ne pensi e tenerti aggiornato sul progetto mentre si evolve.
