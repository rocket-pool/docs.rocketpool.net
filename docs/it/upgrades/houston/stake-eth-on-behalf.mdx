import { Tab, Tabs } from "@rspress/core/theme";
import mmNetwork from "./images/mm_network.png";
import mmNetworkMain from "./images/mm_network_main.png";

# Stake ETH per conto del nodo

RPIP-32 consente a un account di [fare staking di ETH per conto](https://rpips.rocketpool.net/RPIPs/RPIP-32) di un nodo Rocket Pool registrato nel protocollo. Questo supporta una varietà di situazioni in cui il node operator non fornisce direttamente gli ETH:

- Sicurezza migliorata per i node operator, poiché possono fare staking direttamente dal loro hardware wallet, eliminando la necessità di trasferire fondi al nodo in anticipo.
- Provider Staking as a Service dove la custodia dei fondi è gestita da un custode fidato.
- Integrazioni di protocollo dove la custodia dei fondi è gestita da smart contract.
- DAO o organizzazioni dove la custodia dei fondi è gestita da una tesoreria.

Sebbene l'obiettivo principale di questa funzionalità sia facilitare scenari con un singolo depositante, vale la pena notare che più depositanti indipendenti possono anche sfruttare questa capacità creando smart contract stratificati sopra. Rocket Pool ha anche introdotto la capacità di [fare staking di RPL per conto](../../node-staking/create-validator#whitelisting-an-address-to-stake-on-behalf) di un nodo già nel nostro precedente rilascio Atlas.

### Prerequisito

Assicurati di aver configurato correttamente l'[indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo che intendi finanziare. Segui il link sopra per una guida su come funzionano gli indirizzi di prelievo post Houston.

::: tip NOTA
Non saltare questo passaggio! Tutti i bond/ricompense ETH verranno prelevati all'indirizzo di prelievo primario. In altre parole, l'indirizzo che fornisce ETH per un nodo dovrebbe essere utilizzato come indirizzo di prelievo primario! Assicurati che l'indirizzo di prelievo primario del nodo sia impostato su un wallet di cui hai la custodia.
:::

Il processo è leggermente diverso per la Hoodi Testnet e la Mainnet, quindi scegli la rete che ti interessa dalle schede qui sotto.

<div className="p-3">
  <Tabs>
    <Tab label="Preparazione sulla Hoodi Testnet">

      <p className="rspress-directive danger">
        <p className="rspress-directive-title">ATTENZIONE</p>
        Quando ti eserciti a fare staking sulla rete di test, **non devi fornire nessuno dei tuoi ETH reali** durante questo processo.
        Ti verrà dato **ETH di test falso** da usare invece.

        **Non tentare di spostare i tuoi ETH reali sulla mainnet alla testnet o li perderai permanentemente!**
      </p>

      Inizia installando [MetaMask](https://metamask.io/) se non l'hai già fatto.
      Segui le istruzioni sul loro sito per installare l'estensione, creare un account e accedere.

      Successivamente, apri il pannello MetaMask utilizzando la sua icona nella barra degli strumenti del browser.

      Dovrai aggiungere la Hoodi Testnet a MetaMask.

      Clicca sul menu a tendina in alto a sinistra e clicca sul pulsante "Add Network".

      Vedrai un elenco di reti, Hoodi non è in questo elenco quindi clicca sul pulsante "Add a network manually".

      Compila i seguenti dettagli:

      ```
      Network Name: Hoodi
      New RPC Url: https://rpc.hoodi.ethpandaops.io
      Chain ID: 560048
      Currency Symbol: ETH
      Block Explorer Url: https://hoodi.etherscan.io
      ```

      Quindi clicca Save. Ora dovresti vedere la rete Hoodi nel menu a tendina in alto a sinistra.

      Clicca sul **menu a tendina della rete** in alto a sinistra dell'estensione Metamask e seleziona **Hoodi Test Network**:

      <img src={mmNetwork} width="100%" height="auto"/>

      Ora che hai un indirizzo wallet in MetaMask, devi riempirlo con alcuni ETH di test.
      Vai alla pagina [Practicing with the Test Network](../../node-staking/testnet/overview#getting-test-eth-on-hoodi) per una guida rapida su come usare un faucet testnet per ottenere alcuni ETH di test su Hoodi.

      Una volta che hai alcuni ETH Hoodi con cui testare, vai su [https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node](https://testnet.node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Se vedi un avviso su un browser web3 richiesto, o l'ID di rete corrente non supportato, assicurati di aver completato correttamente i passaggi precedenti prima di continuare.
    </Tab>
    <Tab label="Preparazione sulla Ethereum Mainnet">
      Inizia installando [MetaMask](https://metamask.io/) se non l'hai già fatto.

      Segui le istruzioni sul loro sito per installare l'estensione, creare un account e accedere.

      Successivamente, apri il pannello MetaMask utilizzando la sua icona nella barra degli strumenti del browser.

      Clicca sul **menu a tendina della rete** nella barra degli strumenti in alto e assicurati che **Ethereum Mainnet** sia selezionato:

      <img src={mmNetworkMain} width="100%" height="auto"/>

      Ora che hai un indirizzo wallet in MetaMask, devi trasferirci alcuni ETH.

      Dovrai fornire questo da un wallet esistente o comprare ETH su un exchange.

      Una volta che hai alcuni ETH da mettere in staking, vai su [https://node.rocketpool.net/deposit-eth-on-behalf-of-node](https://node.rocketpool.net/deposit-eth-on-behalf-of-node).

      Se vedi un avviso su un browser web3 richiesto, o l'ID di rete corrente non supportato, assicurati di aver completato correttamente i passaggi precedenti prima di continuare.
    </Tab>

  </Tabs>
</div>

Una volta che sei sul sito, clicca sul pulsante **connect wallet**. Leggi e accetta i Termini di Servizio e la Privacy Policy, questo abiliterà diversi modi per connettersi, quindi clicca **connect metamask**.

MetaMask ti chiederà di selezionare un account da connettere al sito web.
Scegline uno, conferma alcune autorizzazioni. Vedrai una panoramica dei tuoi saldi cliccando sull'icona del wallet situata in alto a destra della finestra.

Da qui, vorrai inserire l'indirizzo del nodo per cui desideri depositare ETH per conto di. La pagina dovrebbe apparire così:

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Vai avanti e incolla il tuo indirizzo desiderato in questa casella e clicca find. In questo esempio, useremo `0xd3e317806456102d19db283b4c2201f0ef41a296`

<img src="./images/eth_on_behalf.png" width="100%" height="auto" />

Nella prima casella, inserisci l'importo di ETH che desideri depositare per conto del nodo. La seconda casella indica per quale indirizzo depositerai ETH per conto di. Assicurati di aver inserito l'indirizzo e il deposito corretti. Una volta soddisfatto, clicca Deposit e MetaMask apparirà con una finestra che ti chiede di confermare la tua transazione.

Una volta confermata, la transazione inizierà.
Quando sarà stata inclusa in un blocco e aggiunta alla chain, il tuo delegato sarà in grado di utilizzare il comando `rocketpool node status` in smartnode per vedere il nuovo saldo. Questo saldo può anche essere visualizzato attraverso il sito di staking Rocket Pool.

```
The node has 0.000000 ETH in its credit balance and 8.000000 ETH staked on its behalf. 8.000000 can be used to make new minipools.
```

::: warning NOTA
Se un node operator deposita i tuoi ETH in un minipool, non sarai in grado di uscire dal loro minipool senza accesso alle loro credenziali di prelievo, quindi tienilo a mente! Puoi utilizzare il sito di staking Rocket Pool per prelevare ETH messi in staking per conto di un nodo se non vengono utilizzati in un minipool.
:::

Ecco fatto!
Ora stai facendo staking con Rocket Pool.

# Unstake ETH per conto del nodo

<div className="p-3">
  <Tabs>
    <Tab label="Preparazione sulla Hoodi Testnet">
      Quando sei pronto per prelevare gli ETH che hai messo in staking per conto di un nodo, vai su [https://testnet.node.rocketpool.net/withdraw-eth](https://testnet.node.rocketpool.net/withdraw-eth). Dopo
      aver effettuato l'accesso come [indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, dovresti essere accolto con un menu familiare. Ti verrà
      richiesto di inserire l'indirizzo del nodo da cui vuoi prelevare:
    </Tab>
    <Tab label="Preparazione sulla Ethereum Mainnet">
      Quando sei pronto per prelevare gli ETH che hai messo in staking per conto di un nodo, vai su [https://node.rocketpool.net/withdraw-eth](https://node.rocketpool.net/withdraw-eth). Dopo aver effettuato l'accesso come
      [indirizzo di prelievo primario](../../node-staking/prepare-node#setting-your-primary-withdrawal-address) del nodo, dovresti essere accolto con un menu familiare. Ti verrà richiesto di inserire l'indirizzo del nodo
      da cui vuoi prelevare:
    </Tab>
  </Tabs>
</div>

<img src="./images/enter_node_address.png" width="100%" height="auto" />

Dopo aver inserito un indirizzo, cliccando "Find" verrai portato al menu successivo dove puoi prelevare gli ETH che hai messo in staking per conto di quel nodo.

<img src="./images/withdraw_eth_on_behalf.png" width="100%" height="auto" />

Sarai in grado di vedere quanti ETH sono disponibili per il prelievo in alto a destra. Dopo aver inserito la quantità desiderata e confermato l'indirizzo del nodo, clicca il pulsante arancione **Withdraw ETH** per inviare la transazione alla rete.

Una volta confermata la transazione, vedrai i saldi corretti nel tuo account!

Questo è tutto ciò che c'è da fare per fare staking di ETH per conto di un nodo! Speriamo che tu abbia trovato il processo veloce e facile.

Sentiti libero di passare dal [nostro server Discord](https://discord.gg/G46XgK264a) per farci sapere cosa ne pensi e rimanere aggiornato sul progetto mentre si evolve.
